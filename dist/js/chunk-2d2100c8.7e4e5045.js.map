{"version":3,"sources":["webpack:///./src/views/report/ScheduledReport.vue?f9cb","webpack:///src/views/report/ScheduledReport.vue","webpack:///./src/views/report/ScheduledReport.vue?c3ad","webpack:///./src/views/report/ScheduledReport.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","selectedReportRun","length","attrs","_v","staticClass","on","runReport","_l","index","key","id","$event","toggleCollapse","report_source","name","collapse","exportCSV","staticStyle","columnDefs","rowData","onGridReady","staticRenderFns","innerCollapse","components","AgGridVue","methods","$router","push","params","gridApi","api","columnApi","exportDataAsCsv","result_set","report","headers","map","obj","$store","computed","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAkC,GAAhCJ,EAAIM,kBAAkBC,OAAaH,EAAG,MAAM,CAACA,EAAG,SAAS,CAACI,MAAM,CAAC,MAAO,EAAK,SAAW,SAAS,MAAQ,4BAA4B,CAACR,EAAIS,GAAG,mCAAmCL,EAAG,UAAU,CAACM,YAAY,MAAMF,MAAM,CAAC,MAAQ,gBAAgBG,GAAG,CAAC,MAAQX,EAAIY,YAAY,CAACZ,EAAIS,GAAG,wBAAwB,GAAGL,EAAG,MAAM,CAACA,EAAG,UAAU,CAACM,YAAY,MAAMF,MAAM,CAAC,MAAQ,gBAAgBG,GAAG,CAAC,MAAQX,EAAIY,YAAY,CAACZ,EAAIS,GAAG,uBAAuBL,EAAG,OAAOJ,EAAIa,GAAIb,EAAqB,mBAAE,SAASc,GAAO,OAAOV,EAAG,OAAO,CAACW,IAAID,EAAME,GAAGR,MAAM,CAAC,GAAK,MAAM,CAACJ,EAAG,MAAM,CAACO,GAAG,CAAC,MAAQ,SAASM,GAAQ,OAAOjB,EAAIkB,eAAeJ,MAAU,CAACV,EAAG,kBAAkB,CAACI,MAAM,CAAC,OAASM,EAAME,GAAG,KAAOF,EAAMK,cAAc,OAASL,EAAMM,KAAK,MAAQ,UAAU,MAAQ,OAAO,QAAO,GAAGhB,EAAG,MAAMA,EAAG,YAAY,CAACI,MAAM,CAAC,KAAOR,EAAIqB,WAAW,CAACjB,EAAG,QAAQ,CAACI,MAAM,CAAC,eAAe,KAAK,CAACJ,EAAG,UAAU,CAACM,YAAY,MAAMF,MAAM,CAAC,MAAQ,mBAAmBG,GAAG,CAAC,MAAQX,EAAIsB,YAAY,CAACtB,EAAIS,GAAG,kBAAkBL,EAAG,cAAc,CAACM,YAAY,kBAAkBa,YAAY,CAAC,MAAQ,QAAQf,MAAM,CAAC,UAAY,aAAa,WAAaR,EAAIwB,WAAW,QAAUxB,EAAIyB,QAAQ,aAAe,UAAUd,GAAG,CAAC,aAAaX,EAAI0B,gBAAgB,IAAI,IAAI,MACrxCC,EAAkB,G,2tBCuDtB,OACEP,KAAM,YACN,OACE,MAAO,CACLC,UAAU,EACVO,eAAe,EACfJ,WAAY,KACZC,QAAS,OAGbI,WAAY,CACVC,UAAJ,gBAEEC,QAAS,CACP,WAAWf,GACTf,KAAK+B,QAAQC,KAAK,CAAxB,sCAII,YAAYC,GACVjC,KAAKkC,QAAUD,EAAOE,IACtBnC,KAAKoC,UAAYH,EAAOG,WAE1B,YACE,IAAN,0CACMpC,KAAKkC,QAAQG,gBAAgBJ,IAE/B,eAAepB,GACb,IAAN,yBACMb,KAAKoB,UAAYpB,KAAKoB,SACtBpB,KAAKwB,QAAUc,EAEftC,KAAKuB,WAAagB,EAAOC,QAAQC,IAAI,CAACC,EAAK7B,KAClC,CAAf,sCAII,YACE,IAAN,+CAEMb,KAAK2C,OACX,4BACA,UACQ,KAAR,gBACA,wBACA,0CAGA,UACQ,QAAR,IACA,qDACA,OAKEC,SAAU,EAAZ,GACA,gBAEE,wBCnHsW,I,YCOpWC,EAAY,eACd,EACA/C,EACA4B,GACA,EACA,KACA,KACA,MAIa,aAAAmB,E","file":"js/chunk-2d2100c8.7e4e5045.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.selectedReportRun.length == 0)?_c('div',[_c('CToast',{attrs:{\"show\":true,\"position\":\"static\",\"title\":\"CToast static component\"}},[_vm._v(\" Opps ! Nothing to show here \")]),_c('CButton',{staticClass:\"m-2\",attrs:{\"color\":\"outline-info\"},on:{\"click\":_vm.runReport}},[_vm._v(\" Run this Report \")])],1):_c('div',[_c('CButton',{staticClass:\"m-2\",attrs:{\"color\":\"outline-info\"},on:{\"click\":_vm.runReport}},[_vm._v(\" Run this Report \")]),_c('CRow',_vm._l((_vm.selectedReportRun),function(index){return _c('CCol',{key:index.id,attrs:{\"lg\":\"6\"}},[_c('div',{on:{\"click\":function($event){return _vm.toggleCollapse(index)}}},[_c('CWidgetProgress',{attrs:{\"header\":index.id,\"text\":index.report_source,\"footer\":index.name,\"color\":\"success\",\"value\":25}})],1)])}),1),_c('hr'),_c('CCollapse',{attrs:{\"show\":_vm.collapse}},[_c('CCard',{attrs:{\"body-wrapper\":\"\"}},[_c('CButton',{staticClass:\"m-2\",attrs:{\"color\":\"outline-success\"},on:{\"click\":_vm.exportCSV}},[_vm._v(\" Export CSV \")]),_c('ag-grid-vue',{staticClass:\"ag-theme-alpine\",staticStyle:{\"width\":\"100%\"},attrs:{\"domLayout\":\"autoHeight\",\"columnDefs\":_vm.columnDefs,\"rowData\":_vm.rowData,\"rowSelection\":\"single\"},on:{\"grid-ready\":_vm.onGridReady}})],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"selectedReportRun.length == 0\">\n      <CToast :show=\"true\" position=\"static\" title=\"CToast static component\">\n        Opps ! Nothing to show here\n      </CToast>\n      <CButton @click=\"runReport\" class=\"m-2\" color=\"outline-info\">\n        Run this Report\n      </CButton>\n    </div>\n\n    <div v-else>\n      <CButton @click=\"runReport\" class=\"m-2\" color=\"outline-info\">\n        Run this Report\n      </CButton>\n      <CRow>\n        <CCol lg=\"6\" v-for=\"index in selectedReportRun\" v-bind:key=\"index.id\">\n          <div @click=\"toggleCollapse(index)\">\n            <CWidgetProgress\n              :header=\"index.id\"\n              :text=\"index.report_source\"\n              :footer=\"index.name\"\n              color=\"success\"\n              :value=\"25\"\n            />\n          </div>\n        </CCol>\n      </CRow>\n\n      <hr />\n      <CCollapse :show=\"collapse\">\n        <CCard body-wrapper>\n          <CButton @click=\"exportCSV\" class=\"m-2\" color=\"outline-success\">\n            Export CSV\n          </CButton>\n          <ag-grid-vue\n            style=\"width: 100%;\"\n            domLayout=\"autoHeight\"\n            class=\"ag-theme-alpine\"\n            :columnDefs=\"columnDefs\"\n            :rowData=\"rowData\"\n            rowSelection=\"single\"\n            @grid-ready=\"onGridReady\"\n          >\n          </ag-grid-vue>\n        </CCard>\n      </CCollapse>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axiosInstance from \"../../service/axios-instance.js\";\nimport { mapGetters } from \"vuex\";\nimport { AgGridVue } from \"ag-grid-vue\";\n\nexport default {\n  name: \"Scheduled\",\n  data() {\n    return {\n      collapse: false,\n      innerCollapse: false,\n      columnDefs: null,\n      rowData: null,\n    };\n  },\n  components: {\n    AgGridVue,\n  },\n  methods: {\n    openReport(id) {\n      this.$router.push({ path: `scheduled-report/${id}` });\n    },\n\n    // to access gridApi object of ag-grid\n    onGridReady(params) {\n      this.gridApi = params.api;\n      this.columnApi = params.columnApi;\n    },\n    exportCSV() {\n      let params = { suppressQuotes: false, columnSeparator: \",\" };\n      this.gridApi.exportDataAsCsv(params);\n    },\n    toggleCollapse(index) {\n      const { report, result_set } = index;\n      this.collapse = !this.collapse;\n      this.rowData = result_set;\n      // console.log(\"resultset: \", result_set);\n      this.columnDefs = report.headers.map((obj, index) => {\n        return { headerName: obj, field: report.col_order[index] };\n      });\n      // console.log(\"columnDefs: \", this.columnDefs);\n    },\n    runReport() {\n      const { href } = this.$store.getters.selectedReportData;\n      // call manageIQ to run the report\n      this.$store\n        .dispatch(\"callRunReport\", href)\n        .then(() => {\n          this.$store.dispatch(\n            \"callGetSelectedReport\",\n            this.$store.getters.selectedReportData\n          );\n        })\n        .catch((err) => {\n          console.log(\n            \"something went wrong while running report. Error: \",\n            err\n          );\n        });\n    },\n  },\n  computed: {\n    ...mapGetters([\n      // map this.count to store.state.count\n      \"selectedReportRun\",\n    ]),\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScheduledReport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScheduledReport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScheduledReport.vue?vue&type=template&id=e4e8aa8a&\"\nimport script from \"./ScheduledReport.vue?vue&type=script&lang=js&\"\nexport * from \"./ScheduledReport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}