{"version":3,"sources":["webpack:///./node_modules/vue-class-component/dist/vue-class-component.esm.js","webpack:///./node_modules/vue-property-decorator/lib/vue-property-decorator.js","webpack:///./src/views/my-resources/Resources.vue?cc83","webpack:///src/views/my-resources/Resources.vue","webpack:///./src/views/my-resources/Resources.vue?da34","webpack:///./src/views/my-resources/Resources.vue","webpack:///./node_modules/ag-charts-vue/main.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/node.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/padding.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/bbox.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/matrix.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/id.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/object.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/shape/shape.js","webpack:///./node_modules/ag-charts-community/dist/es6/canvas/hdpiCanvas.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/shape/text.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/observable.js","webpack:///./node_modules/ag-charts-community/dist/es6/caption.js","webpack:///./node_modules/ag-charts-community/dist/es6/scale/bandScale.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/group.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/selection.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/shape/line.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/angle.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/polyRoots.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/intersection.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/path2D.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/shape/path.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/number.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/shape/arc.js","webpack:///./node_modules/ag-charts-community/dist/es6/axis.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/chartAxis.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/axis/categoryAxis.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/array.js","webpack:///./node_modules/ag-charts-community/dist/es6/layout/tree.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/axis/groupedCategoryAxis.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/shape/rect.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/scene.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/marker.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/square.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/markerLabel.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/circle.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/cross.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/diamond.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/heart.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/plus.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/triangle.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/util.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/legend.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/sizeMonitor.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/series.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/seriesMarker.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/cartesian/cartesianSeries.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/chart.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/clipRect.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/shapes/rangeHandle.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/shapes/rangeMask.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/shapes/rangeSelector.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/navigator/navigatorMask.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/navigator/navigatorHandle.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/navigator/navigator.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/cartesianChart.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/groupedCategoryChart.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/palettes.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/polar/polarSeries.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/polarChart.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/equal.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/cartesian/areaSeries.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/cartesian/barSeries.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/label.js","webpack:///./node_modules/ag-charts-community/dist/es6/interpolate/constant.js","webpack:///./node_modules/ag-charts-community/dist/es6/interpolate/number.js","webpack:///./node_modules/ag-charts-community/dist/es6/interpolate/date.js","webpack:///./node_modules/ag-charts-community/dist/es6/interpolate/array.js","webpack:///./node_modules/ag-charts-community/dist/es6/interpolate/object.js","webpack:///./node_modules/ag-charts-community/dist/es6/interpolate/value.js","webpack:///./node_modules/ag-charts-community/dist/es6/scale/continuousScale.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/cartesian/lineSeries.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/ticks.js","webpack:///./node_modules/ag-charts-community/dist/es6/scale/linearScale.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/cartesian/scatterSeries.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/cartesian/histogramSeries.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/polar/pieSeries.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/shape/sector.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/color.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/dropShadow.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/axis/numberAxis.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/map.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/interval.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/millisecond.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/duration.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/second.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/minute.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/hour.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/day.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/week.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/month.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/year.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/compare.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/bisect.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/utcDay.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/utcYear.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/utcWeek.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/format/locale.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/format/defaultLocale.js","webpack:///./node_modules/ag-charts-community/dist/es6/scale/timeScale.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/axis/timeAxis.js","webpack:///./node_modules/ag-charts-community/dist/es6/chartBuilder.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/utcMinute.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/utcHour.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/utcMonth.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/chartMappings.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/agChart.js","webpack:///./node_modules/ag-charts-community/dist/es6/main.js","webpack:///./node_modules/ag-charts-vue/lib/AgChartsVue.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Array","isArray","i","arr2","length","iter","toString","call","from","TypeError","reflectionIsSupported","Reflect","defineMetadata","getOwnMetadataKeys","copyReflectionMetadata","to","forwardMetadata","getOwnPropertyNames","forEach","propertyKey","metaKeys","metaKey","metadata","getOwnMetadata","fakeArray","__proto__","hasProto","createDecorator","factory","target","index","Ctor","__decorators__","undefined","push","options","isPrimitive","type","collectDataFromConstructor","vm","Component","originalInit","_init","_this","this","keys","$options","props","hasOwnProperty","charAt","get","set","data","plainData","$internalHooks","componentFactory","arguments","name","_componentTag","proto","indexOf","descriptor","getOwnPropertyDescriptor","methods","mixins","computed","decorators","fn","superProto","getPrototypeOf","Super","Extended","extend","forwardStaticMembers","shouldIgnore","callee","caller","Original","extendedDescriptor","superDescriptor","registerHooks","apply","reflectMetadataIsSupported","getMetadata","applyMetadata","Prop","componentOptions","k","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_l","instanceData","instance","id","_v","_s","vendor","getColor","power_state","staticRenderFns","components","AgChartsVue","data1","series","label","powerState","color","$store","dispatch","component","__export","m","p","exports","PointerEvents","Padding","top","right","bottom","left","clear","BBox","x","y","width","height","isValid","isFinite","dilate","containsPoint","ctx","params","noParams","save","resetTransform","setTransform","strokeStyle","lineWidth","strokeRect","fillStyle","textBaseline","fillText","restore","Matrix","elements","setElements","e","setIdentityElements","AxB","A","B","C","m11","m12","m21","m22","m31","m32","o11","o12","o21","o22","o31","o32","multiplySelf","other","multiply","preMultiplySelf","inverse","_a","a","b","c","d","f","rD","inverseTo","invertSelf","clone","slice","transformPoint","transformBBox","bbox","radius","w","h","xx","xy","yx","yy","h_w","h_h","cx","cy","sx","Math","sqrt","sy","abs","toContext","identity","transform","flyweight","matrix","createId","className","Error","Node","tag","NaN","isContainerNode","_children","childSet","inverseMatrix","_dirtyTransform","_scalingX","_scalingY","_scalingCenterX","_scalingCenterY","_rotationCenterX","_rotationCenterY","_rotation","_translationX","_translationY","_dirty","_visible","pointerEvents","All","isNode","node","_setScene","_scene","children","n","_setParent","_parent","countChildren","depth","MAX_SAFE_INTEGER","size","append","nodes","parent","scene","dirty","appendChild","removeChild","splice","insertBefore","nextNode","inverseTransformPoint","dirtyTransform","rotation","PI","pickNode","visible","None","hit","computeBBox","computeBBoxCenter","computeTransformMatrix","scx","scy","bbcx","bbcy","scalingX","scalingY","scalingCenterX","scalingCenterY","rcx","rcy","r","cos","sin","rotationCenterX","rotationCenterY","tx","translationX","ty","translationY","tx4","ty4","pow","chainObjects","child","create","prop","__extends","extendStatics","setPrototypeOf","__","_super","Shape","lastInstanceId","_fillOpacity","_strokeOpacity","_fill","defaultStyles","fill","_stroke","stroke","_strokeWidth","strokeWidth","_lineDash","lineDash","_lineDashOffset","lineDashOffset","_lineCap","lineCap","_lineJoin","lineJoin","_opacity","opacity","onShadowChange","_fillShadow","fillShadow","_strokeShadow","strokeShadow","createInstance","template","shape","String","restoreOwnStyles","styles","restoreAllStyles","property","restoreOverriddenStyles","protoStyles","floor","align","alignment","start","oldValue","identical","min","max","removeEventListener","addEventListener","fillStroke","pixelRatio","canvas","globalAlpha","fillOpacity","enabled","shadowColor","shadowOffsetX","xOffset","shadowOffsetY","yOffset","shadowBlur","blur","strokeOpacity","setLineDash","isPointInPath","HdpiCanvas","document","window","_container","_pixelRatio","element","createElement","context","getContext","style","userSelect","display","setPixelRatio","resize","remove","parentNode","destroy","_canvas","freeze","toImage","img","src","getDataURL","toDataURL","download","fileName","trim","dataUrl","navigator","msSaveOrOpenBlob","binary","atob","split","array","charCodeAt","blob","Blob","Uint8Array","href","body","click","ratio","devicePixelRatio","overrideScale","imageRendering","_width","_height","round","_textMeasuringContext","_svgText","xmlns","svg","createElementNS","setAttribute","classList","add","position","visibility","svgText","_has","textMetrics","textMeasuringContext","measureText","actualBoundingBoxDescent","test","userAgent","getTransform","text","font","textAlign","getTextSize","has","metrics","actualBoundingBoxAscent","measureSvgText","cache","textSizeCache","fontCache","size_1","textContent","getBBox","scale","overrides","$save","$restore","$setTransform","name_1","Text","_x","_y","lineBreakRegex","lines","_text","_dirtyFont","_fontSize","_fontFamily","_textAlign","_textBaseline","_lineHeight","splitText","str","dirtyFont","_font","fontStyle","fontWeight","fontSize","fontFamily","join","_fontStyle","_fontWeight","getPreciseBBox","getApproximateBBox","actualBoundingBoxLeft","point","isPointInStroke","_b","strokeText","__assign","assign","t","s","Observable","allPropertyListeners","Map","allEventListeners","addPropertyListener","listener","scope","propertyListeners","scopes","Set","removePropertyListener","delete","notifyPropertyListeners","source","eventListeners","notifyEventListeners","types","listeners","fireEvent","event","privateKeyPrefix","reactive","events","_i","privateKey","privateKeyEvents","events_1","__decorate","desc","decorate","Caption","padding","BandScale","ordinalRange","_domain","_range","_bandwidth","_paddingInner","_paddingOuter","_round","_align","values","domain","rescale","ticks","convert","reversed","step","reverse","Group","Infinity","parent_1","EnterNode","datum","next","Selection","groups","parents","select","selectAll","Class","appendFn","creator","group","selector","numGroups","subgroups","j","groupSize","subgroup","subnode","selectByClass","selectByTag","selectAllByClass","selectAllByTag","selectNone","selectorAll","groupCount","groupLength","each","cb","merge","groups0","groups1","m0","m1","merges","group0","group1","attr","attrFn","_","enterGroups","exitGroups","setDatum","setData","data_1","updateGroups","parent_2","dataSize","enterGroup","updateGroup","exitGroup","bindKey","bindIndex","i0","i1","previous","result","enter","update","exit","keyValues","nodeByKeyValue","keyValue","keyPrefix","Line","_x1","_y1","_x2","_y2","x1","y1","x2","y2","beginPath","moveTo","lineTo","twoPi","normalizeAngle360","radians","normalizeAngle360Inclusive","normalizeAngle180","toRadians","degrees","sign","isNaN","linearRoot","quadraticRoots","D","roots","t1","t2","cubicRoots","Q","R","third","S","T","Im","t_1","theta","acos","thirdA","twoSqrtQ","t3","segmentIntersection","ax1","ay1","ax2","ay2","bx1","by1","bx2","by2","ua","ub","cubicSegmentIntersections","px1","py1","px2","py2","px3","py3","px4","py4","intersections","bx","bezierCoefficients","by","tt","ttt","P1","P2","P3","P4","Path2D","commands","_closedPath","rect","closePath","arcTo","rx","ry","fA","fS","hdx","hdy","sinPhi","cosPhi","xp","yp","ratX","ratY","lambda","cpx","cpy","theta1","atan2","deltaTheta","cubicArc","arcToAlt","x1p","y1p","rx_y1p","ry_x1p","root","rootSign","cxp","phi","theta2","anticlockwise","temp","f90","sinTheta1","cosTheta1","rightAngle","lastX","tan","sinPhi2","cosPhi2","C2x","C2y","deCasteljau","points","newPoints","last","approximateCurve","xy_1","quadraticCurveTo","cubicCurveTo","cx1","cy1","cx2","cy2","cn","ox","oy","px","py","intersectionCount","ci","pi","fromString","path","setFromString","parseSvgPath","splitCommandsRe","map","part","strParams","match","matchParamsRe","command","substr","parseFloat","prettifySvgPath","lastCommand","parts","checkQuadraticCP","quadraticCommandRe","checkCubicCP","cubicCommandRe","out","toPrettyString","toSvg","xmlDeclaration","toDebugSvg","toCubicPaths","paths","cubicPathToString","Path","_dirtyPath","_svgPath","closedPath","updatePath","dirtyPath","appendPath","isEqual","epsilon","toFixed","fractionOrSignificantDigits","power","log","LN10","ArcType","Tags","Arc","_centerX","_centerY","_radiusX","_radiusY","_startAngle","_endAngle","_counterClockwise","_type","Open","startAngle","endAngle","centerX","centerY","radiusX","radiusY","counterClockwise","Chord","Round","fullPie","ChartAxisDirection","ChartAxisPosition","AxisTick","count","AxisLabel","mirrored","parallel","_format","onFormatChange","Axis","lineNode","line","tick","translation","_visibleRange","_title","_gridLength","gridStyle","_radialGrid","requestedRange","range","groupSelection","onTickFormatChange","bind","updateRange","rr","vr","visibleRange","span","shift","format","tickFormat","tickFormatter","oldTitle","requestedRangeMin","requestedRangeMax","parallelLabels","labelRotation","halfBandwidth","bandwidth","sideFlag","parallelFlipRotation","parallelFlipFlag","regularFlipRotation","regularFlipFlag","alignFlag","Tick","gridLength","radialGrid","GridLine","styleCount_1","gridLines","angularGridLength_1","arc","gridLine","fractionDigits","labelSelection","formatter","labelX","autoRotation","title","titleVisible","titleNode","excludeTitle","titleRotationFlag","labels","labelBBox","flipChartAxisDirection","direction","X","Y","ChartAxis","boundSeries","_position","Top","Right","Bottom","Left","CategoryAxis","paddingInner","paddingOuter","find","predicate","ln","finiteExtent","numericExtent","calculatedExtent","Date","getTime","findMinMax","values_1","findLargestMinMax","totals","totals_1","total","TreeNode","number","subtreeLeft","subtreeRight","screenX","screenY","leafCount","prelim","mod","ancestor","change","getLeftSibling","getLeftmostSibling","nextLeft","thread","nextRight","getSiblings","filter","ticksToTree","pad","unshift","insertTick","pathParts","lastPartIndex","pathPart","partIndex","existingNode","isNotLeaf","moveSubtree","wm","wp","subtrees","vim","v","defaultAncestor","executeShifts","apportion","distance","vop","vip","vom","sip","sop","sim","som","firstWalk","defaultAncestor_1","midpoint","leftSibling","Dimensions","secondWalk","layout","thirdWalk","treeLayout","TreeLayout","dimensions","leafNodes","nonLeafNodes","shiftX","shiftY","flipX","xSteps","ySteps","existingSpacingX","desiredSpacingX","existingSpacingY","desiredSpacingY","screenDimensions","offsetX","offsetY","RectSizing","GroupedCategoryAxisLabel","grid","GroupedCategoryAxis","tickScale","longestSeparatorLength","labelColor","gridLineSelection","axisLineSelection","separatorSelection","tickTree","tickTreeLayout","resizeTickTree","lineHeight","rangeStart","rangeEnd","rangeLength","isHorizontal","treeLabels","isLabelTree","updateGridLines","enterGridLines","updateLabels","enterLabels","labelFormatter","maxLeafLabelWidth","labelGrid","separatorData","minX","updateSeparators","enterSeparators","lineCount","updateAxisLines","enterAxisLines","styles_1","includeTitle","Scene","animationFrameId","_root","debug","renderFrameIndex","renderBoundingBoxes","_frameIndex","pendingSize","clearRect","fillRect","frameIndex","container","requestAnimationFrame","cancelRender","cancelAnimationFrame","bezierCurveTo","Rect","_radius","_crisp","effectiveStrokeWidth","_sizing","Content","crisp","sizing","Border","borderSizing","halfWidth","halfHeight","al","Marker","_size","half","Square","hs","MarkerLabel","_marker","_markerSize","_spacing","marker","markerSize","spacing","Circle","Cross","Diamond","Heart","rad","degree","Plus","Triangle","getMarker","LegendOrientation","LegendPosition","Legend","itemSelection","oldSize","orientation","Vertical","layoutHorizontalSpacing","layoutVerticalSpacing","itemSpacing","onDataChange","onEnabledChange","onPositionChange","onMarkerShapeChange","Horizontal","performLayout","markerShape","updateSelection","MarkerShape","itemId","enterSelection","itemCount","bboxes","markerLabel","itemHeight","rowCount","columnWidth","paddedItemsWidth","paddedItemsHeight","columnCount","itemsWidth","itemsHeight","columnCount_1","startX","startY","markerFill","markerStroke","markerStrokeWidth","markerFillOpacity","markerStrokeOpacity","getDatumForPoint","SizeMonitor","init","NativeResizeObserver","ResizeObserver","resizeObserver","entries","entries_1","entry","contentRect","checkSize","clientWidth","clientHeight","setInterval","ready","observe","unobserve","requestAnimationFrameId","Series","directions","tooltipEnabled","showInLegend","scheduleLayout","scheduleData","getKeys","directionKeys","getNodeData","fireNodeClickEvent","toggleSeriesItem","onHighlightChange","fixNumericExtent","extent","SeriesMarker","minSize","CartesianSeries","CartesianSeriesMarker","defaultTooltipCss","Chart","background","legend","legendAutoPadding","captionAutoPadding","_data","_autoSize","_axes","_series","_axesChanged","_seriesChanged","layoutCallbackId","_performLayout","layoutPending","dataCallbackId","_onMouseDown","onMouseDown","_onMouseUp","onMouseUp","_onMouseMove","onMouseMove","_onMouseOut","onMouseOut","_onClick","onClick","_tooltipClass","defaultTooltipClass","tooltipTracking","_element","boxSizing","overflow","autoSize","onLayoutChange","onLegendPositionChange","tooltipElement","tooltipClass","tooltipDocuments","styleElement","innerHTML","head","querySelector","setupDomListeners","onCaptionChange","chart_1","tooltipParent","cleanupDomListeners","axis","detachAxis","linkedTo","concat","attachAxis","axesChanged","seriesRoot","removeAllSeries","addSeries","dehighlightDatum","dataPending","before","allSeries","canAdd","beforeIndex","initSeries","seriesChanged","chart","updateLegend","onSeriesNodeClick","freeSeries","addSeriesAfter","after","afterIndex","removeSeries","assignSeriesToAxes","axes","axisName","assignAxesToSeries","force","directionToAxesMap","directionAxes","findMatchingAxis","xAxis","console","warn","yAxis","axisKeys","clearTimeout","setTimeout","processData","legendData","listSeriesItems","positionCaptions","subtitle","subtitleVisible","paddingTop","titleBBox","subtitleBBox","positionLegend","legendBBox","legendGroup","legendSpacing","chartElement","pickSeriesNode","seriesRect","pickClosestSeriesNodeDatum","closestDatum","minDistance","_loop_1","hitPoint","getDistance","p1","p2","nodeDatum","lastPick","pick","showTooltip","onSeriesDatumPick","hideTooltip","canvasRect","getBoundingClientRect","pageX","pageXOffset","pageY","pageYOffset","toggleTooltip","checkSeriesNodeClick","checkLegendClick","id_1","meta","highlightDatum","html","getTooltipHtml","highlightedDatum","updateTooltipClass","constrained","el","tooltipRect","minLeft","maxLeft","innerWidth","ClipRect","_active","active","clip","RangeHandle","_gripLineGap","_gripLineLength","ax","ay","axw","ayh","dx","gripLineGap","dy","gripLineLength","RangeMask","minRange","_min","_max","onRangeChange","computeVisibleRangeBBox","maxX","RangeSelector","minHandle","maxHandle","mask","defaults","updateHandles","NavigatorMask","rangeMask","rm","NavigatorHandle","rangeHandle","rh","Navigator","rs","minHandleDragging","maxHandleDragging","panHandleOffset","_margin","updateAxes","getRatio","cursor","stopHandleDragging","CartesianChart","_seriesRoot","shrinkRect","legendPadding","margin","bottomAxesHeight","axisThickness","domains_1","getDomain","GroupedCategoryChart","domains","isNumericX","domain_1","borneo","fills","strokes","material","pastel","bright","flat","PolarSeries","PolarSeriesMarker","PolarChart","equal","length_1","RegExp","flags","valueOf","BarSeriesNodeTag","AreaSeries","areaGroup","strokeGroup","markerGroup","areaSelection","strokeSelection","markerSelection","markerSelectionData","seriesItemEnabled","xData","yData","yDomain","_xKey","xName","_yKeys","yNames","highlightStyle","seriesItemEnabled_1","_normalizedTo","absValue","updateMarkerNodes","xKey","yKeys","keysFound","yKey","yMin","yMax","normalizedTo","yMinMax","yLargestMinMax","stack","generateSelectionData","areaSelectionData","updateAreaSelection","updateStrokeSelection","updateMarkerSelection","xScale","yScale","xDatum","yDatum","seriesDatum","prevMin","prevMax","curr","prev","yValue","areaDatum","areaPoints","shadow","updateAreas","enterAreas","updateStrokes","enterStrokes","updateMarkers","enterMarkers","markerFormatter","highlightFill","highlightStroke","highlighted","markerFormat","tooltipRenderer","yKeyIndex","yName","titleStyle","titleString","xValue","xString","yString","Label","__spreadArrays","il","jl","BarSeriesLabel","BarSeries","rectGroup","textGroup","rectSelection","textSelection","flipXY","groupScale","_xName","_yNames","grouped","_shadow","updateRectNodes","stackValues","generateNodeData","labelFontStyle","labelFontWeight","labelFontSize","labelFontFamily","barWidth","nodeData","category","labelText","barX","bottomY","yValueIsNumber","updateRectSelection","updateTextSelection","updateTextNodes","selectionData","updateRects","enterRects","Bar","updateTexts","enterTexts","labelEnabled","enabledSeriesItems","date","msA","msB","setTime","nb","na","constant","object","clamper","ContinuousScale","unknown","_clamp","untransform","_interpolate","setDomain","piecewise","bimap","output","input","normalize","interpolate","xt","x0","y0","invert","LineSeries","xDomain","nodeSelection","_yKey","onMarkerEnabledChange","isContinuousX","isContinuousY","updateNodes","updateLinePath","updateNodeSelection","linePath","isGap","tickStep","ceil","e10","e5","e2","rawStep","error","tickIncrement","NumericTicks","absStep","LinearScale","nice","stop","HistogramSeriesNodeTag","ScatterSeries","sizeData","sizeScale","sizeName","labelName","sizeKey","labelKey","titleHtml","contentHtml","PieNodeTag","HistogramSeriesLabel","defaultBinCount","aggregationFunctions","bin","sum","reduce","acc","mean","HistogramBin","domainMin","domainMax","aggregatedValue","frequency","addDatum","domainWidth","calculateAggregatedValue","aggregationName","aggregationFunction","getY","areaPlot","relativeHeight","HistogramSeries","binnedData","_areaPlot","_yName","_bins","bins","_aggregation","aggregation","_binCount","binCount","deriveBins","binStarts","binSize","firstBinEnd","expandStartToBin","placeDataInBins","derivedBins","sortedData","sort","currentBin","Number","NEGATIVE_INFINITY","firstBin","lastBin","xMin","xMax","defaultLabelFormatter","binOfData","xDomainMin","xDomainMax","xMinPx","xMaxPx","yZeroPx","yMaxPx","selectionDatumLabel","Bin","rangeMin","rangeMax","Sector","_centerOffset","_innerRadius","_outerRadius","_angleOffset","outerRadius","angleOffset","midAngle","innerRadius","centerOffset","Color","g","fromHexString","hex","nameToHex","fromRgbaString","hexRe","parseInt","shortHexRe","rgbRe","rgbaRe","fromArray","fromHSB","alpha","rgb","HSBtoRGB","padHex","toHexString","toRgbaString","toHSB","RGBtoHSB","H","delta","rc","gc","bc","q","derive","hueShift","saturationFactor","brightnessFactor","opacityFactor","hsb","rgba","brighter","darker","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","PieSeriesLabel","offset","minAngle","PieSeriesCallout","colors","PieSeries","radiusScale","groupSelectionData","angleScale","angle","callout","angleKey","angleName","_fills","_strokes","outerRadiusOffset","innerRadiusOffset","radiusKey","angleData","angleDataTotal","angleDataRatios","labelData","useRadiusKey","radiusData","radii","maxDatum_1","halfPi","datumIndex","end","midCos","midSin","labelMinAngle","labelVisible","midAngle180","quadrantStart","updateGroupSelection","Callout","minOuterRadius","outerRadii","centerOffsets","sector","calloutColors","calloutLength","calloutStrokeWidth","offset_1","fontStyle_1","fontWeight_1","fontSize_1","fontFamily_1","color_1","labelRadius","radiusName","formattedValue","fills_1","strokes_1","DropShadow","NumberAxis","_nice","clamp","convertToMap","list","t0","TimeInterval","_floor","_offset","d0","d1","ms","CountableTimeInterval","field","_count","_field","every","field_1","milliseconds","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","getMilliseconds","seconds","second","getSeconds","minutes","getMinutes","minute","hours","getHours","hour","setHours","days","setDate","getDate","tzMinuteDelta","getTimezoneOffset","weekday","getDay","weeks","msDelta","sunday","monday","thursday","months","setMonth","getMonth","getFullYear","month","years","setFullYear","year","ascending","complexBisectRight","lo","hi","comparator","ascendingComparator","mid","item","setUTCHours","setUTCDate","getUTCDate","utcDay","setUTCMonth","setUTCFullYear","getUTCFullYear","utcYear","getUTCDay","utcSunday","utcMonday","utcThursday","localDate","M","L","utcDate","UTC","formatLookup","names","toLowerCase","newYear","locale","percentCharCode","numberRe","percentRe","requoteRe","requote","replace","formatRe","pads","string","formatLocale","timeLocale","lDateTime","dateTime","lDate","lTime","time","lPeriods","periods","lWeekdays","lShortWeekdays","shortDays","lMonths","lShortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseYear","parseFullYear","parseZone","parseLiteralPercent","newParse","specifier","newDate","parseSpecifier","V","week","day","getUTCMonth","u","W","U","Z","newFormat","pad_1","code","char","parse","dayOfWeek","yearStart","z","getUTCMilliseconds","getUTCSeconds","getUTCMinutes","getUTCHours","exec","utcFormat","utcParse","setDefaultLocale","definition","TimeScale","tickIntervals","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","defaultTickFormat","tickInterval","interval","tickCount","TimeAxis","ChartBuilder","createCartesianChart","createGroupedCategoryChart","createBarChart","createAxis","initCartesianChart","initBarSeries","createGroupedBarChart","createGroupedCategoryAxis","createColumnChart","createGroupedColumnChart","createLineChart","initLineSeries","createGroupedLineChart","createScatterChart","initScatterSeries","createAreaChart","initAreaSeries","createGroupedAreaChart","createHistogramChart","createNumberAxis","createPolarChart","createDoughnutChart","createPieChart","initChart","initPieSeries","createSeries","initHistogramSeries","initNavigator","setValueIfExists","setTransformedValueIfExists","createTitle","createSubtitle","initLegend","tooltip","initHighlightStyle","initMarker","renderer","initLabelOptions","createDropShadow","createPieTitle","minRequiredAngle","getMarkerByName","markerShapes","paddingX","paddingY","initNavigatorMask","initNavigatorHandle","handle","setDefaultFontOptions","createCaption","caption","initAxis","createCategoryAxis","createTimeAxis","defaultType","AxisClass","toAxisClass","setUTCSeconds","setUTCMinutes","_d","commonChartMappings","chartDefaults","chartMeta","constructorParams","setAsIs","axisDefaults","seriesDefaults","columnSeriesDefaults","shadowMapping","labelDefaults","labelMapping","axisMappings","mappings","column","bar","typeToAliases","cartesian","polar","alias","AgChart","pathToSeriesTypeMap","provideDefaultType","provideDefaultChartType","seriesType","getMapping","mapping","provideDefaultOptions","skipKeys","constructorParamValues","param","subComponents","config","subComponent","keyPath","configs","prevSeries","newSeries","axesToAdd","axesToUpdate","_loop_2","axisToUpdate","axisToAdd","configs_1","isObject","outerLoop","chartType","isCreated","isDestroyed","mounted","applyContainerIfNotSet","$watch","newValue","processChanges","destroyed","currentValue","previousValue","propsOptions","$el"],"mappings":"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AAK9S,YAC/Cgc,EAAU,GACVC,OAAatwC,EACjBq0B,EAAYwC,QAAO,SAAU9a,GAAK,OAAOA,EAAE3N,WAAYnP,SAAQ,SAAU2F,GACrE,GAAIqvB,IAAcpE,EAAmBqE,EACjC,QAAmBl0B,IAAfswC,EAA0B,CAE1B,IAAIC,EAAW3rC,EAAOurC,UAAUlc,GAChCoc,EAAQpwC,KAAKswC,GACbD,EAAoC,kBAAhBC,EAAS,QAExBD,GAELD,EAAQpwC,KAAK2E,EAAOurC,UAAUlc,SAIlCoc,EAAQpwC,KAAK2E,EAAOurC,UAAUlc,OAGtC,IAAIvV,GAAU5V,EAAK,IAAI/K,OAASupC,OAAOtkC,MAAM8F,EAAIunC,GACjDlJ,EAAKzoB,OAASwW,GAAcxW,IAAWA,EACvCyoB,EAAKrkB,aAGNstB,EAjC8B,CAkCvC,IClDSI,GAAS,CAChBC,MAAO,CACH,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEJC,QAAS,CACL,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGGC,GAAW,CAClBF,MAAO,CACH,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEJC,QAAS,CACL,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGGE,GAAS,CAChBH,MAAO,CACH,UACA,UACA,UACA,UACA,UACA,WAEJC,QAAS,CACL,UACA,UACA,UACA,UACA,UACA,YAGGG,GAAS,CAChBJ,MAAO,CACH,UACA,UACA,UACA,UACA,UACA,WAEJC,QAAS,CACL,UACA,UACA,UACA,UACA,UACA,YAGGI,GAAO,CACdL,MAAO,CACH,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEJC,QAAS,CACL,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGO,MC1HX,ID2HkB,WAClB,IAAIxkB,EAAM,IAAIhQ,IACdgQ,EAAIhrB,IAAI,SAAUsvC,IAClBtkB,EAAIhrB,IAAI,WAAYyvC,IACpBzkB,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","file":"js/chunk-0a190a0c.d97205fd.js","sourcesContent":["/**\n  * vue-class-component v7.2.3\n  * (c) 2015-present Evan You\n  * @license MIT\n  */\nimport Vue from 'vue';\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\n// The rational behind the verbose Reflect-feature check below is the fact that there are polyfills\n// which add an implementation for Reflect.defineMetadata but not for Reflect.getOwnMetadataKeys.\n// Without this check consumers will encounter hard to track down runtime errors.\nfunction reflectionIsSupported() {\n  return typeof Reflect !== 'undefined' && Reflect.defineMetadata && Reflect.getOwnMetadataKeys;\n}\nfunction copyReflectionMetadata(to, from) {\n  forwardMetadata(to, from);\n  Object.getOwnPropertyNames(from.prototype).forEach(function (key) {\n    forwardMetadata(to.prototype, from.prototype, key);\n  });\n  Object.getOwnPropertyNames(from).forEach(function (key) {\n    forwardMetadata(to, from, key);\n  });\n}\n\nfunction forwardMetadata(to, from, propertyKey) {\n  var metaKeys = propertyKey ? Reflect.getOwnMetadataKeys(from, propertyKey) : Reflect.getOwnMetadataKeys(from);\n  metaKeys.forEach(function (metaKey) {\n    var metadata = propertyKey ? Reflect.getOwnMetadata(metaKey, from, propertyKey) : Reflect.getOwnMetadata(metaKey, from);\n\n    if (propertyKey) {\n      Reflect.defineMetadata(metaKey, metadata, to, propertyKey);\n    } else {\n      Reflect.defineMetadata(metaKey, metadata, to);\n    }\n  });\n}\n\nvar fakeArray = {\n  __proto__: []\n};\nvar hasProto = fakeArray instanceof Array;\nfunction createDecorator(factory) {\n  return function (target, key, index) {\n    var Ctor = typeof target === 'function' ? target : target.constructor;\n\n    if (!Ctor.__decorators__) {\n      Ctor.__decorators__ = [];\n    }\n\n    if (typeof index !== 'number') {\n      index = undefined;\n    }\n\n    Ctor.__decorators__.push(function (options) {\n      return factory(options, key, index);\n    });\n  };\n}\nfunction mixins() {\n  for (var _len = arguments.length, Ctors = new Array(_len), _key = 0; _key < _len; _key++) {\n    Ctors[_key] = arguments[_key];\n  }\n\n  return Vue.extend({\n    mixins: Ctors\n  });\n}\nfunction isPrimitive(value) {\n  var type = _typeof(value);\n\n  return value == null || type !== 'object' && type !== 'function';\n}\nfunction warn(message) {\n  if (typeof console !== 'undefined') {\n    console.warn('[vue-class-component] ' + message);\n  }\n}\n\nfunction collectDataFromConstructor(vm, Component) {\n  // override _init to prevent to init as Vue instance\n  var originalInit = Component.prototype._init;\n\n  Component.prototype._init = function () {\n    var _this = this;\n\n    // proxy to actual vm\n    var keys = Object.getOwnPropertyNames(vm); // 2.2.0 compat (props are no longer exposed as self properties)\n\n    if (vm.$options.props) {\n      for (var key in vm.$options.props) {\n        if (!vm.hasOwnProperty(key)) {\n          keys.push(key);\n        }\n      }\n    }\n\n    keys.forEach(function (key) {\n      if (key.charAt(0) !== '_') {\n        Object.defineProperty(_this, key, {\n          get: function get() {\n            return vm[key];\n          },\n          set: function set(value) {\n            vm[key] = value;\n          },\n          configurable: true\n        });\n      }\n    });\n  }; // should be acquired class property values\n\n\n  var data = new Component(); // restore original _init to avoid memory leak (#209)\n\n  Component.prototype._init = originalInit; // create plain data object\n\n  var plainData = {};\n  Object.keys(data).forEach(function (key) {\n    if (data[key] !== undefined) {\n      plainData[key] = data[key];\n    }\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (!(Component.prototype instanceof Vue) && Object.keys(plainData).length > 0) {\n      warn('Component class must inherit Vue or its descendant class ' + 'when class property is used.');\n    }\n  }\n\n  return plainData;\n}\n\nvar $internalHooks = ['data', 'beforeCreate', 'created', 'beforeMount', 'mounted', 'beforeDestroy', 'destroyed', 'beforeUpdate', 'updated', 'activated', 'deactivated', 'render', 'errorCaptured', 'serverPrefetch' // 2.6\n];\nfunction componentFactory(Component) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  options.name = options.name || Component._componentTag || Component.name; // prototype props.\n\n  var proto = Component.prototype;\n  Object.getOwnPropertyNames(proto).forEach(function (key) {\n    if (key === 'constructor') {\n      return;\n    } // hooks\n\n\n    if ($internalHooks.indexOf(key) > -1) {\n      options[key] = proto[key];\n      return;\n    }\n\n    var descriptor = Object.getOwnPropertyDescriptor(proto, key);\n\n    if (descriptor.value !== void 0) {\n      // methods\n      if (typeof descriptor.value === 'function') {\n        (options.methods || (options.methods = {}))[key] = descriptor.value;\n      } else {\n        // typescript decorated data\n        (options.mixins || (options.mixins = [])).push({\n          data: function data() {\n            return _defineProperty({}, key, descriptor.value);\n          }\n        });\n      }\n    } else if (descriptor.get || descriptor.set) {\n      // computed properties\n      (options.computed || (options.computed = {}))[key] = {\n        get: descriptor.get,\n        set: descriptor.set\n      };\n    }\n  });\n  (options.mixins || (options.mixins = [])).push({\n    data: function data() {\n      return collectDataFromConstructor(this, Component);\n    }\n  }); // decorate options\n\n  var decorators = Component.__decorators__;\n\n  if (decorators) {\n    decorators.forEach(function (fn) {\n      return fn(options);\n    });\n    delete Component.__decorators__;\n  } // find super\n\n\n  var superProto = Object.getPrototypeOf(Component.prototype);\n  var Super = superProto instanceof Vue ? superProto.constructor : Vue;\n  var Extended = Super.extend(options);\n  forwardStaticMembers(Extended, Component, Super);\n\n  if (reflectionIsSupported()) {\n    copyReflectionMetadata(Extended, Component);\n  }\n\n  return Extended;\n}\nvar reservedPropertyNames = [// Unique id\n'cid', // Super Vue constructor\n'super', // Component options that will be used by the component\n'options', 'superOptions', 'extendOptions', 'sealedOptions', // Private assets\n'component', 'directive', 'filter'];\nvar shouldIgnore = {\n  prototype: true,\n  arguments: true,\n  callee: true,\n  caller: true\n};\n\nfunction forwardStaticMembers(Extended, Original, Super) {\n  // We have to use getOwnPropertyNames since Babel registers methods as non-enumerable\n  Object.getOwnPropertyNames(Original).forEach(function (key) {\n    // Skip the properties that should not be overwritten\n    if (shouldIgnore[key]) {\n      return;\n    } // Some browsers does not allow reconfigure built-in properties\n\n\n    var extendedDescriptor = Object.getOwnPropertyDescriptor(Extended, key);\n\n    if (extendedDescriptor && !extendedDescriptor.configurable) {\n      return;\n    }\n\n    var descriptor = Object.getOwnPropertyDescriptor(Original, key); // If the user agent does not support `__proto__` or its family (IE <= 10),\n    // the sub class properties may be inherited properties from the super class in TypeScript.\n    // We need to exclude such properties to prevent to overwrite\n    // the component options object which stored on the extended constructor (See #192).\n    // If the value is a referenced value (object or function),\n    // we can check equality of them and exclude it if they have the same reference.\n    // If it is a primitive value, it will be forwarded for safety.\n\n    if (!hasProto) {\n      // Only `cid` is explicitly exluded from property forwarding\n      // because we cannot detect whether it is a inherited property or not\n      // on the no `__proto__` environment even though the property is reserved.\n      if (key === 'cid') {\n        return;\n      }\n\n      var superDescriptor = Object.getOwnPropertyDescriptor(Super, key);\n\n      if (!isPrimitive(descriptor.value) && superDescriptor && superDescriptor.value === descriptor.value) {\n        return;\n      }\n    } // Warn if the users manually declare reserved properties\n\n\n    if (process.env.NODE_ENV !== 'production' && reservedPropertyNames.indexOf(key) >= 0) {\n      warn(\"Static property name '\".concat(key, \"' declared on class '\").concat(Original.name, \"' \") + 'conflicts with reserved property name of Vue internal. ' + 'It may cause unexpected behavior of the component. Consider renaming the property.');\n    }\n\n    Object.defineProperty(Extended, key, descriptor);\n  });\n}\n\nfunction Component(options) {\n  if (typeof options === 'function') {\n    return componentFactory(options);\n  }\n\n  return function (Component) {\n    return componentFactory(Component, options);\n  };\n}\n\nComponent.registerHooks = function registerHooks(keys) {\n  $internalHooks.push.apply($internalHooks, _toConsumableArray(keys));\n};\n\nexport default Component;\nexport { createDecorator, mixins };\n","/** vue-property-decorator verson 8.4.2 MIT LICENSE copyright 2019 kaorun343 */\n/// <reference types='reflect-metadata'/>\n'use strict';\nimport Vue from 'vue';\nimport Component, { createDecorator, mixins } from 'vue-class-component';\nexport { Component, Vue, mixins as Mixins };\n/** Used for keying reactive provide/inject properties */\nvar reactiveInjectKey = '__reactiveInject__';\n/**\n * decorator of an inject\n * @param from key\n * @return PropertyDecorator\n */\nexport function Inject(options) {\n    return createDecorator(function (componentOptions, key) {\n        if (typeof componentOptions.inject === 'undefined') {\n            componentOptions.inject = {};\n        }\n        if (!Array.isArray(componentOptions.inject)) {\n            componentOptions.inject[key] = options || key;\n        }\n    });\n}\n/**\n * decorator of a reactive inject\n * @param from key\n * @return PropertyDecorator\n */\nexport function InjectReactive(options) {\n    return createDecorator(function (componentOptions, key) {\n        if (typeof componentOptions.inject === 'undefined') {\n            componentOptions.inject = {};\n        }\n        if (!Array.isArray(componentOptions.inject)) {\n            var fromKey_1 = !!options ? options.from || options : key;\n            var defaultVal_1 = (!!options && options.default) || undefined;\n            if (!componentOptions.computed)\n                componentOptions.computed = {};\n            componentOptions.computed[key] = function () {\n                var obj = this[reactiveInjectKey];\n                return obj ? obj[fromKey_1] : defaultVal_1;\n            };\n            componentOptions.inject[reactiveInjectKey] = reactiveInjectKey;\n        }\n    });\n}\nfunction produceProvide(original) {\n    var provide = function () {\n        var _this = this;\n        var rv = typeof original === 'function' ? original.call(this) : original;\n        rv = Object.create(rv || null);\n        // set reactive services (propagates previous services if necessary)\n        rv[reactiveInjectKey] = this[reactiveInjectKey] || {};\n        for (var i in provide.managed) {\n            rv[provide.managed[i]] = this[i];\n        }\n        var _loop_1 = function (i) {\n            rv[provide.managedReactive[i]] = this_1[i]; // Duplicates the behavior of `@Provide`\n            if (!rv[reactiveInjectKey].hasOwnProperty(provide.managedReactive[i])) {\n                Object.defineProperty(rv[reactiveInjectKey], provide.managedReactive[i], {\n                    enumerable: true,\n                    get: function () { return _this[i]; },\n                });\n            }\n        };\n        var this_1 = this;\n        for (var i in provide.managedReactive) {\n            _loop_1(i);\n        }\n        return rv;\n    };\n    provide.managed = {};\n    provide.managedReactive = {};\n    return provide;\n}\nfunction needToProduceProvide(original) {\n    return (typeof original !== 'function' ||\n        (!original.managed && !original.managedReactive));\n}\n/**\n * decorator of a provide\n * @param key key\n * @return PropertyDecorator | void\n */\nexport function Provide(key) {\n    return createDecorator(function (componentOptions, k) {\n        var provide = componentOptions.provide;\n        if (needToProduceProvide(provide)) {\n            provide = componentOptions.provide = produceProvide(provide);\n        }\n        provide.managed[k] = key || k;\n    });\n}\n/**\n * decorator of a reactive provide\n * @param key key\n * @return PropertyDecorator | void\n */\nexport function ProvideReactive(key) {\n    return createDecorator(function (componentOptions, k) {\n        var provide = componentOptions.provide;\n        // inject parent reactive services (if any)\n        if (!Array.isArray(componentOptions.inject)) {\n            componentOptions.inject = componentOptions.inject || {};\n            componentOptions.inject[reactiveInjectKey] = {\n                from: reactiveInjectKey,\n                default: {},\n            };\n        }\n        if (needToProduceProvide(provide)) {\n            provide = componentOptions.provide = produceProvide(provide);\n        }\n        provide.managedReactive[k] = key || k;\n    });\n}\n/** @see {@link https://github.com/vuejs/vue-class-component/blob/master/src/reflect.ts} */\nvar reflectMetadataIsSupported = typeof Reflect !== 'undefined' && typeof Reflect.getMetadata !== 'undefined';\nfunction applyMetadata(options, target, key) {\n    if (reflectMetadataIsSupported) {\n        if (!Array.isArray(options) &&\n            typeof options !== 'function' &&\n            typeof options.type === 'undefined') {\n            var type = Reflect.getMetadata('design:type', target, key);\n            if (type !== Object) {\n                options.type = type;\n            }\n        }\n    }\n}\n/**\n * decorator of model\n * @param  event event name\n * @param options options\n * @return PropertyDecorator\n */\nexport function Model(event, options) {\n    if (options === void 0) { options = {}; }\n    return function (target, key) {\n        applyMetadata(options, target, key);\n        createDecorator(function (componentOptions, k) {\n            ;\n            (componentOptions.props || (componentOptions.props = {}))[k] = options;\n            componentOptions.model = { prop: k, event: event || k };\n        })(target, key);\n    };\n}\n/**\n * decorator of a prop\n * @param  options the options for the prop\n * @return PropertyDecorator | void\n */\nexport function Prop(options) {\n    if (options === void 0) { options = {}; }\n    return function (target, key) {\n        applyMetadata(options, target, key);\n        createDecorator(function (componentOptions, k) {\n            ;\n            (componentOptions.props || (componentOptions.props = {}))[k] = options;\n        })(target, key);\n    };\n}\n/**\n * decorator of a synced prop\n * @param propName the name to interface with from outside, must be different from decorated property\n * @param options the options for the synced prop\n * @return PropertyDecorator | void\n */\nexport function PropSync(propName, options) {\n    if (options === void 0) { options = {}; }\n    // @ts-ignore\n    return function (target, key) {\n        applyMetadata(options, target, key);\n        createDecorator(function (componentOptions, k) {\n            ;\n            (componentOptions.props || (componentOptions.props = {}))[propName] = options;\n            (componentOptions.computed || (componentOptions.computed = {}))[k] = {\n                get: function () {\n                    return this[propName];\n                },\n                set: function (value) {\n                    // @ts-ignore\n                    this.$emit(\"update:\" + propName, value);\n                },\n            };\n        })(target, key);\n    };\n}\n/**\n * decorator of a watch function\n * @param  path the path or the expression to observe\n * @param  WatchOption\n * @return MethodDecorator\n */\nexport function Watch(path, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.deep, deep = _a === void 0 ? false : _a, _b = options.immediate, immediate = _b === void 0 ? false : _b;\n    return createDecorator(function (componentOptions, handler) {\n        if (typeof componentOptions.watch !== 'object') {\n            componentOptions.watch = Object.create(null);\n        }\n        var watch = componentOptions.watch;\n        if (typeof watch[path] === 'object' && !Array.isArray(watch[path])) {\n            watch[path] = [watch[path]];\n        }\n        else if (typeof watch[path] === 'undefined') {\n            watch[path] = [];\n        }\n        watch[path].push({ handler: handler, deep: deep, immediate: immediate });\n    });\n}\n// Code copied from Vue/src/shared/util.js\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = function (str) { return str.replace(hyphenateRE, '-$1').toLowerCase(); };\n/**\n * decorator of an event-emitter function\n * @param  event The name of the event\n * @return MethodDecorator\n */\nexport function Emit(event) {\n    return function (_target, propertyKey, descriptor) {\n        var key = hyphenate(propertyKey);\n        var original = descriptor.value;\n        descriptor.value = function emitter() {\n            var _this = this;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var emit = function (returnValue) {\n                var emitName = event || key;\n                if (returnValue === undefined) {\n                    if (args.length === 0) {\n                        _this.$emit(emitName);\n                    }\n                    else if (args.length === 1) {\n                        _this.$emit(emitName, args[0]);\n                    }\n                    else {\n                        _this.$emit.apply(_this, [emitName].concat(args));\n                    }\n                }\n                else {\n                    if (args.length === 0) {\n                        _this.$emit(emitName, returnValue);\n                    }\n                    else if (args.length === 1) {\n                        _this.$emit(emitName, returnValue, args[0]);\n                    }\n                    else {\n                        _this.$emit.apply(_this, [emitName, returnValue].concat(args));\n                    }\n                }\n            };\n            var returnValue = original.apply(this, args);\n            if (isPromise(returnValue)) {\n                returnValue.then(function (returnValue) {\n                    emit(returnValue);\n                });\n            }\n            else {\n                emit(returnValue);\n            }\n            return returnValue;\n        };\n    };\n}\n/**\n * decorator of a ref prop\n * @param refKey the ref key defined in template\n */\nexport function Ref(refKey) {\n    return createDecorator(function (options, key) {\n        options.computed = options.computed || {};\n        options.computed[key] = {\n            cache: false,\n            get: function () {\n                return this.$refs[refKey || key];\n            },\n        };\n    });\n}\nfunction isPromise(obj) {\n    return obj instanceof Promise || (obj && typeof obj.then === 'function');\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"app\"}},[_c('ag-charts-vue',{attrs:{\"options\":_vm.options}})],1),_c('hr'),(_vm.showLoader)?_c('div',{staticClass:\"spinner-border\",attrs:{\"role\":\"status\"}}):_c('div',[_c('CRow',_vm._l((_vm.instanceData.resources),function(instance){return _c('CCol',{key:instance.id,attrs:{\"sm\":\"6\",\"lg\":\"3\"}},[_c('CWidgetProgress',[_c('div',{staticClass:\"h4 m-0\"},[_vm._v(_vm._s(instance.name))]),_c('div',[_vm._v(\"Provider: \"+_vm._s(instance.vendor))]),_c('CBadge',[_vm._v(\"Power State\")]),_c('CBadge',{attrs:{\"color\":_vm.getColor(instance.power_state),\"shape\":\"pill\"}},[_vm._v(_vm._s(instance.power_state))])],1)],1)}),1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div id=\"app\">\n      <ag-charts-vue :options=\"options\"></ag-charts-vue>\n    </div>\n    <hr />\n    <div v-if=\"showLoader\" class=\"spinner-border\" role=\"status\"></div>\n\n    <div v-else>\n      <CRow>\n        <CCol\n          sm=\"6\"\n          lg=\"3\"\n          v-for=\"instance in instanceData.resources\"\n          v-bind:key=\"instance.id\"\n        >\n          <CWidgetProgress>\n            <div class=\"h4 m-0\">{{ instance.name }}</div>\n            <div>Provider: {{ instance.vendor }}</div>\n            <CBadge>Power State</CBadge>\n            <CBadge :color=\"getColor(instance.power_state)\" shape=\"pill\">{{\n              instance.power_state\n            }}</CBadge>\n          </CWidgetProgress>\n        </CCol>\n      </CRow>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axiosInstance from \"../../service/axios-instance.js\";\nimport { mapGetters } from \"vuex\";\nimport { POWER_STATE_COLOR } from \"../../utilities/constants\";\nimport { AgChartsVue } from \"ag-charts-vue\";\n\nexport default {\n  name: \"Resources\",\n  components: {\n    AgChartsVue,\n  },\n  data() {\n    return {\n      options: null,\n      data: [\n        {\n          href: \"https://34.67.132.139/api/results/5150\",\n          name: \"VM-Win-Sentinel\",\n          used_disk_storage: 136365211648,\n          provisioned_storage: 140123308032,\n          \"ems_cluster.name\": null,\n          \"host.name\": null,\n          id: \"5150\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5164\",\n          name: \"Hammad-Windows\",\n          used_disk_storage: 136365211648,\n          provisioned_storage: 138512695296,\n          \"ems_cluster.name\": null,\n          \"host.name\": null,\n          id: \"5164\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5307\",\n          name: \"ManageIQ-Dev\",\n          used_disk_storage: 107374182400,\n          provisioned_storage: 115964116992,\n          \"ems_cluster.name\": null,\n          \"host.name\": null,\n          id: \"5307\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5149\",\n          name: \"manageiq-demo\",\n          used_disk_storage: 70866960384,\n          provisioned_storage: 82409684992,\n          \"ems_cluster.name\": null,\n          \"host.name\": null,\n          id: \"5149\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5305\",\n          name: \"manageiq-vsi-dev\",\n          used_disk_storage: 70866960384,\n          provisioned_storage: 86973087744,\n          \"ems_cluster.name\": null,\n          \"host.name\": null,\n          id: \"5305\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5304\",\n          name: \"manageiq-vsi\",\n          used_disk_storage: 70866960384,\n          provisioned_storage: 86973087744,\n          \"ems_cluster.name\": null,\n          \"host.name\": null,\n          id: \"5304\",\n        },\n      ],\n\n      data1: [\n        {\n          href: \"https://34.67.132.139/api/results/35\",\n          vendor_display: \"Amazon\",\n          name: \"Tableau-POC-3\",\n          product_name: \"windows_generic\",\n          Q1: \"10\",\n          id: \"35\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/36\",\n          vendor_display: \"Amazon\",\n          name: \"Tableau-POC-1\",\n          product_name: \"windows_generic\",\n          Q1: \"10\",\n          id: \"36\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/34\",\n          vendor_display: \"Amazon\",\n          name: \"Tableau-POC-2\",\n          product_name: \"windows_generic\",\n          Q1: \"10\",\n          id: \"34\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5201\",\n          vendor_display: \"Amazon\",\n          name: \"Rgnr-WS-Jmpbx\",\n          product_name: \"windows_generic\",\n          Q1: \"10\",\n          id: \"5201\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/29\",\n          vendor_display: \"Amazon\",\n          name: \"Testingapp-env\",\n          product_name: \"windows_generic\",\n          Q1: \"10\",\n          id: \"29\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5300\",\n          vendor_display: \"Azure\",\n          name: \"Hammad.rhel\",\n          product_name: \"RHEL 8.2\",\n          Q1: \"10\",\n          id: \"5300\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5167\",\n          vendor_display: \"Azure\",\n          name: \"Hammad-Linux\",\n          product_name: \"UbuntuServer 18.04 LTS\",\n          Q1: \"10\",\n          id: \"5167\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5168\",\n          vendor_display: \"Azure\",\n          name: \"test-vm\",\n          product_name: \"UbuntuServer 18.04 LTS\",\n          Q1: \"10\",\n          id: \"5168\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5150\",\n          vendor_display: \"Azure\",\n          name: \"VM-Win-Sentinel\",\n          product_name: \"WindowsServer 2016 Datacenter\",\n          Q1: \"10\",\n          id: \"5150\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5164\",\n          vendor_display: \"Azure\",\n          name: \"Hammad-Windows\",\n          product_name: \"WindowsServer 2019 Datacenter\",\n          Q1: \"10\",\n          id: \"5164\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5149\",\n          vendor_display: \"Google\",\n          name: \"manageiq-demo\",\n          product_name: \"unknown\",\n          Q1: \"10\",\n          id: \"5149\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5304\",\n          vendor_display: \"Google\",\n          name: \"manageiq-vsi\",\n          product_name: null,\n          Q1: \"10\",\n          id: \"5304\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5305\",\n          vendor_display: \"Google\",\n          name: \"manageiq-vsi-dev\",\n          product_name: null,\n          Q1: \"12\",\n          id: \"5305\",\n        },\n      ],\n    };\n  },\n\n  beforeMount() {\n    this.options = {\n      data: this.data,\n      series: [\n        {\n          type: \"column\",\n          xKey: \"name\",\n          yKeys: [\"used_disk_storage\", \"provisioned_storage\"],\n          yNames: [\"Disk Used\", \"Disk Available\"],\n          grouped: true,\n        },\n      ],\n      label: {},\n    };\n  },\n\n  methods: {\n    getColor(powerState) {\n      let color = POWER_STATE_COLOR.find((item) => item.state == powerState);\n\n      return color ? color.color : \"secondary\";\n    },\n  },\n  computed: {\n    ...mapGetters([\n      // map this.count to store.state.count\n      \"showLoader\",\n      \"instanceData\",\n    ]),\n  },\n\n  mounted() {\n    // Simple GET request using fetch\n    // fetch(\"https://cloudmanagement.me/api/ping\").then((response) => {\n    //   console.log(\"response: \", response);\n    //   response.json();\n    // });\n\n    this.$store.dispatch(\"callGetInstanceDetails\");\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resources.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resources.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Resources.vue?vue&type=template&id=6573b5c4&\"\nimport script from \"./Resources.vue?vue&type=script&lang=js&\"\nexport * from \"./Resources.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./lib/AgChartsVue\"));\n\n","import { Matrix } from \"./matrix\";\nimport { createId } from \"../util/id\";\nexport var PointerEvents;\n(function (PointerEvents) {\n    PointerEvents[PointerEvents[\"All\"] = 0] = \"All\";\n    PointerEvents[PointerEvents[\"None\"] = 1] = \"None\";\n})(PointerEvents || (PointerEvents = {}));\n/**\n * Abstract scene graph node.\n * Each node can have zero or one parent and belong to zero or one scene.\n */\nvar Node = /** @class */ (function () {\n    function Node() {\n        /**\n         * Unique node ID in the form `ClassName-NaturalNumber`.\n         */\n        this.id = createId(this);\n        /**\n         * Some number to identify this node, typically within a `Group` node.\n         * Usually this will be some enum value used as a selector.\n         */\n        this.tag = NaN;\n        /**\n         * To simplify the type system (especially in Selections) we don't have the `Parent` node\n         * (one that has children). Instead, we mimic HTML DOM, where any node can have children.\n         * But we still need to distinguish regular leaf nodes from container leafs somehow.\n         */\n        this.isContainerNode = false;\n        this._children = [];\n        // Used to check for duplicate nodes.\n        this.childSet = {}; // new Set<Node>()\n        // These matrices may need to have package level visibility\n        // for performance optimization purposes.\n        this.matrix = new Matrix();\n        this.inverseMatrix = new Matrix();\n        this._dirtyTransform = false;\n        this._scalingX = 1;\n        this._scalingY = 1;\n        /**\n         * The center of scaling.\n         * The default value of `null` means the scaling center will be\n         * determined automatically, as the center of the bounding box\n         * of a node.\n         */\n        this._scalingCenterX = null;\n        this._scalingCenterY = null;\n        this._rotationCenterX = null;\n        this._rotationCenterY = null;\n        /**\n         * Rotation angle in radians.\n         * The value is set as is. No normalization to the [-180, 180) or [0, 360)\n         * interval is performed.\n         */\n        this._rotation = 0;\n        this._translationX = 0;\n        this._translationY = 0;\n        /**\n         * Each time a property of the node that effects how it renders changes\n         * the `dirty` property of the node should be set to `true`. The change\n         * to the `dirty` property of the node will propagate up to its parents\n         * and eventually to the scene, at which point an animation frame callback\n         * will be scheduled to rerender the scene and its nodes and reset the `dirty`\n         * flags of all nodes and the {@link Scene._dirty | Scene} back to `false`.\n         * Since changes to node properties are not rendered immediately, it's possible\n         * to change as many properties on as many nodes as needed and the rendering\n         * will still only happen once in the next animation frame callback.\n         * The animation frame callback is only scheduled if it hasn't been already.\n         */\n        this._dirty = true;\n        this._visible = true;\n        this.pointerEvents = PointerEvents.All;\n    }\n    /**\n     * This is meaningfully faster than `instanceof` and should be the preferred way\n     * of checking inside loops.\n     * @param node\n     */\n    Node.isNode = function (node) {\n        return node ? node.matrix !== undefined : false;\n    };\n    Node.prototype._setScene = function (value) {\n        this._scene = value;\n        var children = this.children;\n        var n = children.length;\n        for (var i = 0; i < n; i++) {\n            children[i]._setScene(value);\n        }\n    };\n    Object.defineProperty(Node.prototype, \"scene\", {\n        get: function () {\n            return this._scene;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.prototype._setParent = function (value) {\n        this._parent = value;\n    };\n    Object.defineProperty(Node.prototype, \"parent\", {\n        get: function () {\n            return this._parent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"children\", {\n        get: function () {\n            return this._children;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.prototype.countChildren = function (depth) {\n        if (depth === void 0) { depth = Node.MAX_SAFE_INTEGER; }\n        if (depth <= 0) {\n            return 0;\n        }\n        var children = this.children;\n        var n = children.length;\n        var size = n;\n        for (var i = 0; i < n; i++) {\n            size += children[i].countChildren(depth - 1);\n        }\n        return size;\n    };\n    /**\n     * Appends one or more new node instances to this parent.\n     * If one needs to:\n     * - move a child to the end of the list of children\n     * - move a child from one parent to another (including parents in other scenes)\n     * one should use the {@link insertBefore} method instead.\n     * @param nodes A node or nodes to append.\n     */\n    Node.prototype.append = function (nodes) {\n        // Passing a single parameter to an open-ended version of `append`\n        // would be 30-35% slower than this.\n        if (Node.isNode(nodes)) {\n            nodes = [nodes];\n        }\n        // The function takes an array rather than having open-ended\n        // arguments like `...nodes: Node[]` because the latter is\n        // transpiled to a function where the `arguments` object\n        // is copied to a temporary array inside a loop.\n        // So an array is created either way. And if we already have\n        // an array of nodes we want to add, we have to use the prohibitively\n        // expensive spread operator to pass it to the function,\n        // and, on top of that, the copy of the `arguments` is still made.\n        var n = nodes.length;\n        for (var i = 0; i < n; i++) {\n            var node = nodes[i];\n            if (node.parent) {\n                throw new Error(node + \" already belongs to another parent: \" + node.parent + \".\");\n            }\n            if (node.scene) {\n                throw new Error(node + \" already belongs a scene: \" + node.scene + \".\");\n            }\n            if (this.childSet[node.id]) {\n                // Cast to `any` to avoid `Property 'name' does not exist on type 'Function'`.\n                throw new Error(\"Duplicate \" + node.constructor.name + \" node: \" + node);\n            }\n            this._children.push(node);\n            this.childSet[node.id] = true;\n            node._setParent(this);\n            node._setScene(this.scene);\n        }\n        this.dirty = true;\n    };\n    Node.prototype.appendChild = function (node) {\n        if (node.parent) {\n            throw new Error(node + \" already belongs to another parent: \" + node.parent + \".\");\n        }\n        if (node.scene) {\n            throw new Error(node + \" already belongs a scene: \" + node.scene + \".\");\n        }\n        if (this.childSet[node.id]) {\n            // Cast to `any` to avoid `Property 'name' does not exist on type 'Function'`.\n            throw new Error(\"Duplicate \" + node.constructor.name + \" node: \" + node);\n        }\n        this._children.push(node);\n        this.childSet[node.id] = true;\n        node._setParent(this);\n        node._setScene(this.scene);\n        this.dirty = true;\n        return node;\n    };\n    Node.prototype.removeChild = function (node) {\n        if (node.parent === this) {\n            var i = this.children.indexOf(node);\n            if (i >= 0) {\n                this._children.splice(i, 1);\n                delete this.childSet[node.id];\n                node._setParent(undefined);\n                node._setScene(undefined);\n                this.dirty = true;\n                return node;\n            }\n        }\n        throw new Error(\"The node to be removed is not a child of this node.\");\n    };\n    /**\n     * Inserts the node `node` before the existing child node `nextNode`.\n     * If `nextNode` is null, insert `node` at the end of the list of children.\n     * If the `node` belongs to another parent, it is first removed.\n     * Returns the `node`.\n     * @param node\n     * @param nextNode\n     */\n    Node.prototype.insertBefore = function (node, nextNode) {\n        var parent = node.parent;\n        if (node.parent) {\n            node.parent.removeChild(node);\n        }\n        if (nextNode && nextNode.parent === this) {\n            var i = this.children.indexOf(nextNode);\n            if (i >= 0) {\n                this._children.splice(i, 0, node);\n                this.childSet[node.id] = true;\n                node._setParent(this);\n                node._setScene(this.scene);\n            }\n            else {\n                throw new Error(nextNode + \" has \" + parent + \" as the parent, \"\n                    + \"but is not in its list of children.\");\n            }\n            this.dirty = true;\n        }\n        else {\n            this.append(node);\n        }\n        return node;\n    };\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n        get: function () {\n            var parent = this.parent;\n            if (parent) {\n                var children = parent.children;\n                var index = children.indexOf(this);\n                if (index >= 0 && index <= children.length - 1) {\n                    return children[index + 1];\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.prototype.transformPoint = function (x, y) {\n        var matrix = Matrix.flyweight(this.matrix);\n        var parent = this.parent;\n        while (parent) {\n            matrix.preMultiplySelf(parent.matrix);\n            parent = parent.parent;\n        }\n        return matrix.invertSelf().transformPoint(x, y);\n    };\n    Node.prototype.inverseTransformPoint = function (x, y) {\n        var matrix = Matrix.flyweight(this.matrix);\n        var parent = this.parent;\n        while (parent) {\n            matrix.preMultiplySelf(parent.matrix);\n            parent = parent.parent;\n        }\n        return matrix.transformPoint(x, y);\n    };\n    Object.defineProperty(Node.prototype, \"dirtyTransform\", {\n        get: function () {\n            return this._dirtyTransform;\n        },\n        set: function (value) {\n            this._dirtyTransform = value;\n            if (value) {\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"scalingX\", {\n        get: function () {\n            return this._scalingX;\n        },\n        set: function (value) {\n            if (this._scalingX !== value) {\n                this._scalingX = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"scalingY\", {\n        get: function () {\n            return this._scalingY;\n        },\n        set: function (value) {\n            if (this._scalingY !== value) {\n                this._scalingY = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"scalingCenterX\", {\n        get: function () {\n            return this._scalingCenterX;\n        },\n        set: function (value) {\n            if (this._scalingCenterX !== value) {\n                this._scalingCenterX = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"scalingCenterY\", {\n        get: function () {\n            return this._scalingCenterY;\n        },\n        set: function (value) {\n            if (this._scalingCenterY !== value) {\n                this._scalingCenterY = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"rotationCenterX\", {\n        get: function () {\n            return this._rotationCenterX;\n        },\n        set: function (value) {\n            if (this._rotationCenterX !== value) {\n                this._rotationCenterX = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"rotationCenterY\", {\n        get: function () {\n            return this._rotationCenterY;\n        },\n        set: function (value) {\n            if (this._rotationCenterY !== value) {\n                this._rotationCenterY = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"rotation\", {\n        get: function () {\n            return this._rotation;\n        },\n        set: function (value) {\n            if (this._rotation !== value) {\n                this._rotation = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"rotationDeg\", {\n        get: function () {\n            return this.rotation / Math.PI * 180;\n        },\n        /**\n         * For performance reasons the rotation angle's internal representation\n         * is in radians. Therefore, don't expect to get the same number you set.\n         * Even with integer angles about a quarter of them from 0 to 359 cannot\n         * be converted to radians and back without precision loss.\n         * For example:\n         *\n         *     node.rotationDeg = 11;\n         *     console.log(node.rotationDeg); // 10.999999999999998\n         *\n         * @param value Rotation angle in degrees.\n         */\n        set: function (value) {\n            this.rotation = value / 180 * Math.PI;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"translationX\", {\n        get: function () {\n            return this._translationX;\n        },\n        set: function (value) {\n            if (this._translationX !== value) {\n                this._translationX = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"translationY\", {\n        get: function () {\n            return this._translationY;\n        },\n        set: function (value) {\n            if (this._translationY !== value) {\n                this._translationY = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.prototype.containsPoint = function (x, y) {\n        return false;\n    };\n    /**\n     * Hit testing method.\n     * Recursively checks if the given point is inside this node or any of its children.\n     * Returns the first matching node or `undefined`.\n     * Nodes that render later (show on top) are hit tested first.\n     * @param x\n     * @param y\n     */\n    Node.prototype.pickNode = function (x, y) {\n        if (!this.visible || this.pointerEvents === PointerEvents.None || !this.containsPoint(x, y)) {\n            return;\n        }\n        var children = this.children;\n        if (children.length) {\n            // Nodes added later should be hit-tested first,\n            // as they are rendered on top of the previously added nodes.\n            for (var i = children.length - 1; i >= 0; i--) {\n                var hit = children[i].pickNode(x, y);\n                if (hit) {\n                    return hit;\n                }\n            }\n        }\n        else if (!this.isContainerNode) { // a leaf node, but not a container leaf\n            return this;\n        }\n    };\n    Node.prototype.computeBBox = function () { return; };\n    Node.prototype.computeBBoxCenter = function () {\n        var bbox = this.computeBBox && this.computeBBox();\n        if (bbox) {\n            return [\n                bbox.x + bbox.width * 0.5,\n                bbox.y + bbox.height * 0.5\n            ];\n        }\n        return [0, 0];\n    };\n    Node.prototype.computeTransformMatrix = function () {\n        // TODO: transforms without center of scaling and rotation correspond directly\n        //       to `setAttribute('transform', 'translate(tx, ty) rotate(rDeg) scale(sx, sy)')`\n        //       in SVG. Our use cases will mostly require positioning elements (rects, circles)\n        //       within a group, rotating groups at right angles (e.g. for axis) and translating\n        //       groups. We shouldn't even need `scale(1, -1)` (invert vertically), since this\n        //       can be done using D3-like scales already by inverting the output range.\n        //       So for now, just assume that centers of scaling and rotation are at the origin.\n        // const [bbcx, bbcy] = this.computeBBoxCenter();\n        var _a = [0, 0], bbcx = _a[0], bbcy = _a[1];\n        var sx = this.scalingX;\n        var sy = this.scalingY;\n        var scx;\n        var scy;\n        if (sx === 1 && sy === 1) {\n            scx = 0;\n            scy = 0;\n        }\n        else {\n            scx = this.scalingCenterX === null ? bbcx : this.scalingCenterX;\n            scy = this.scalingCenterY === null ? bbcy : this.scalingCenterY;\n        }\n        var r = this.rotation;\n        var cos = Math.cos(r);\n        var sin = Math.sin(r);\n        var rcx;\n        var rcy;\n        if (r === 0) {\n            rcx = 0;\n            rcy = 0;\n        }\n        else {\n            rcx = this.rotationCenterX === null ? bbcx : this.rotationCenterX;\n            rcy = this.rotationCenterY === null ? bbcy : this.rotationCenterY;\n        }\n        var tx = this.translationX;\n        var ty = this.translationY;\n        // The transform matrix `M` is a result of the following transformations:\n        // 1) translate the center of scaling to the origin\n        // 2) scale\n        // 3) translate back\n        // 4) translate the center of rotation to the origin\n        // 5) rotate\n        // 6) translate back\n        // 7) translate\n        //         (7)          (6)             (5)             (4)           (3)           (2)           (1)\n        //     | 1 0 tx |   | 1 0 rcx |   | cos -sin 0 |   | 1 0 -rcx |   | 1 0 scx |   | sx 0 0 |   | 1 0 -scx |\n        // M = | 0 1 ty | * | 0 1 rcy | * | sin  cos 0 | * | 0 1 -rcy | * | 0 1 scy | * | 0 sy 0 | * | 0 1 -scy |\n        //     | 0 0  1 |   | 0 0  1  |   |  0    0  1 |   | 0 0  1   |   | 0 0  1  |   | 0  0 0 |   | 0 0  1   |\n        // Translation after steps 1-4 above:\n        var tx4 = scx * (1 - sx) - rcx;\n        var ty4 = scy * (1 - sy) - rcy;\n        this.dirtyTransform = false;\n        this.matrix.setElements([\n            cos * sx, sin * sx,\n            -sin * sy, cos * sy,\n            cos * tx4 - sin * ty4 + rcx + tx,\n            sin * tx4 + cos * ty4 + rcy + ty\n        ]).inverseTo(this.inverseMatrix);\n    };\n    Object.defineProperty(Node.prototype, \"dirty\", {\n        get: function () {\n            return this._dirty;\n        },\n        set: function (value) {\n            // TODO: check if we are already dirty (e.g. if (this._dirty !== value))\n            //       if we are, then all parents and the scene have been\n            //       notified already, and we are doing redundant work\n            //       (but test if this is indeed the case)\n            this._dirty = value;\n            if (value) {\n                if (this.parent) {\n                    this.parent.dirty = true;\n                }\n                else if (this.scene) {\n                    this.scene.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"visible\", {\n        get: function () {\n            return this._visible;\n        },\n        set: function (value) {\n            if (this._visible !== value) {\n                this._visible = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.MAX_SAFE_INTEGER = Math.pow(2, 53) - 1; // Number.MAX_SAFE_INTEGER\n    return Node;\n}());\nexport { Node };\n","var Padding = /** @class */ (function () {\n    function Padding(top, right, bottom, left) {\n        if (top === void 0) { top = 0; }\n        if (right === void 0) { right = top; }\n        if (bottom === void 0) { bottom = top; }\n        if (left === void 0) { left = right; }\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n    Padding.prototype.clear = function () {\n        this.top = this.right = this.bottom = this.left = 0;\n    };\n    return Padding;\n}());\nexport { Padding };\n","// For small data structs like a bounding box, objects are superior to arrays\n// in terms of performance (by 3-4% in Chrome 71, Safari 12 and by 20% in Firefox 64).\n// They are also self descriptive and harder to abuse.\n// For example, one has to do:\n// `ctx.strokeRect(bbox.x, bbox.y, bbox.width, bbox.height);`\n// rather than become enticed by the much slower:\n// `ctx.strokeRect(...bbox);`\n// https://jsperf.com/array-vs-object-create-access\nvar BBox = /** @class */ (function () {\n    function BBox(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    BBox.prototype.isValid = function () {\n        return isFinite(this.x) && isFinite(this.y) && isFinite(this.width) && isFinite(this.height);\n    };\n    BBox.prototype.dilate = function (value) {\n        this.x -= value;\n        this.y -= value;\n        this.width += value * 2;\n        this.height += value * 2;\n    };\n    BBox.prototype.containsPoint = function (x, y) {\n        return x >= this.x && x <= (this.x + this.width)\n            && y >= this.y && y <= (this.y + this.height);\n    };\n    BBox.prototype.render = function (ctx, params) {\n        if (params === void 0) { params = BBox.noParams; }\n        ctx.save();\n        if (params.resetTransform) {\n            ctx.setTransform(1, 0, 0, 1, 0, 0);\n        }\n        ctx.strokeStyle = params.strokeStyle || 'cyan';\n        ctx.lineWidth = params.lineWidth || 1;\n        ctx.strokeRect(this.x, this.y, this.width, this.height);\n        if (params.label) {\n            ctx.fillStyle = params.fillStyle || 'black';\n            ctx.textBaseline = 'bottom';\n            ctx.fillText(params.label, this.x, this.y);\n        }\n        ctx.restore();\n    };\n    BBox.noParams = {};\n    return BBox;\n}());\nexport { BBox };\n","import { BBox } from \"./bbox\";\n/**\n * As of Jan 8, 2019, Firefox still doesn't implement\n * `getTransform(): DOMMatrix;`\n * `setTransform(transform?: DOMMatrix2DInit)`\n * in the `CanvasRenderingContext2D`.\n * Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=928150\n * IE11 and Edge 44 also don't have the support.\n * Thus this class, to keep track of the current transform and\n * combine transformations.\n * Standards:\n * https://html.spec.whatwg.org/dev/canvas.html\n * https://www.w3.org/TR/geometry-1/\n */\nvar Matrix = /** @class */ (function () {\n    function Matrix(elements) {\n        if (elements === void 0) { elements = [1, 0, 0, 1, 0, 0]; }\n        this.elements = elements;\n    }\n    Matrix.prototype.setElements = function (elements) {\n        var e = this.elements;\n        // `this.elements = elements.slice()` is 4-5 times slower\n        // (in Chrome 71 and FF 64) than manually copying elements,\n        // since slicing allocates new memory.\n        // The performance of passing parameters individually\n        // vs as an array is about the same in both browsers, so we\n        // go with a single (array of elements) parameter, because\n        // `setElements(elements)` and `setElements([a, b, c, d, e, f])`\n        // calls give us roughly the same performance, versus\n        // `setElements(...elements)` and `setElements(a, b, c, d, e, f)`,\n        // where the spread operator causes a 20-30x performance drop\n        // (30x when compiled to ES5's `.apply(this, elements)`\n        //  20x when used natively).\n        e[0] = elements[0];\n        e[1] = elements[1];\n        e[2] = elements[2];\n        e[3] = elements[3];\n        e[4] = elements[4];\n        e[5] = elements[5];\n        return this;\n    };\n    Matrix.prototype.setIdentityElements = function () {\n        var e = this.elements;\n        e[0] = 1;\n        e[1] = 0;\n        e[2] = 0;\n        e[3] = 1;\n        e[4] = 0;\n        e[5] = 0;\n        return this;\n    };\n    Object.defineProperty(Matrix.prototype, \"identity\", {\n        get: function () {\n            var e = this.elements;\n            return e[0] === 1 && e[1] === 0 && e[2] === 0 &&\n                e[3] === 1 && e[4] === 0 && e[5] === 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"a\", {\n        get: function () {\n            return this.elements[0];\n        },\n        set: function (value) {\n            this.elements[0] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"b\", {\n        get: function () {\n            return this.elements[1];\n        },\n        set: function (value) {\n            this.elements[1] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"c\", {\n        get: function () {\n            return this.elements[2];\n        },\n        set: function (value) {\n            this.elements[2] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"d\", {\n        get: function () {\n            return this.elements[3];\n        },\n        set: function (value) {\n            this.elements[3] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"e\", {\n        get: function () {\n            return this.elements[4];\n        },\n        set: function (value) {\n            this.elements[4] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"f\", {\n        get: function () {\n            return this.elements[5];\n        },\n        set: function (value) {\n            this.elements[5] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Performs the AxB matrix multiplication and saves the result\n     * to `C`, if given, or to `A` otherwise.\n     */\n    Matrix.prototype.AxB = function (A, B, C) {\n        var m11 = A[0], m12 = A[1], m21 = A[2], m22 = A[3], m31 = A[4], m32 = A[5];\n        var o11 = B[0], o12 = B[1], o21 = B[2], o22 = B[3], o31 = B[4], o32 = B[5];\n        C = C || A;\n        C[0] = m11 * o11 + m21 * o12;\n        C[1] = m12 * o11 + m22 * o12;\n        C[2] = m11 * o21 + m21 * o22;\n        C[3] = m12 * o21 + m22 * o22;\n        C[4] = m11 * o31 + m21 * o32 + m31;\n        C[5] = m12 * o31 + m22 * o32 + m32;\n    };\n    /**\n     * The `other` matrix gets post-multiplied to the current matrix.\n     * Returns the current matrix.\n     * @param other\n     */\n    Matrix.prototype.multiplySelf = function (other) {\n        this.AxB(this.elements, other.elements);\n        return this;\n    };\n    /**\n     * The `other` matrix gets post-multiplied to the current matrix.\n     * Returns a new matrix.\n     * @param other\n     */\n    Matrix.prototype.multiply = function (other) {\n        var elements = new Array(6);\n        this.AxB(this.elements, other.elements, elements);\n        return new Matrix(elements);\n    };\n    Matrix.prototype.preMultiplySelf = function (other) {\n        this.AxB(other.elements, this.elements, this.elements);\n        return this;\n    };\n    /**\n     * Returns the inverse of this matrix as a new matrix.\n     */\n    Matrix.prototype.inverse = function () {\n        var _a = this.elements, a = _a[0], b = _a[1], c = _a[2], d = _a[3], e = _a[4], f = _a[5];\n        var rD = 1 / (a * d - b * c); // reciprocal of determinant\n        a *= rD;\n        b *= rD;\n        c *= rD;\n        d *= rD;\n        return new Matrix([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n    };\n    /**\n     * Save the inverse of this matrix to the given matrix.\n     */\n    Matrix.prototype.inverseTo = function (other) {\n        var _a = this.elements, a = _a[0], b = _a[1], c = _a[2], d = _a[3], e = _a[4], f = _a[5];\n        var rD = 1 / (a * d - b * c); // reciprocal of determinant\n        a *= rD;\n        b *= rD;\n        c *= rD;\n        d *= rD;\n        other.setElements([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n        return this;\n    };\n    Matrix.prototype.invertSelf = function () {\n        var elements = this.elements;\n        var a = elements[0], b = elements[1], c = elements[2], d = elements[3], e = elements[4], f = elements[5];\n        var rD = 1 / (a * d - b * c); // reciprocal of determinant\n        a *= rD;\n        b *= rD;\n        c *= rD;\n        d *= rD;\n        elements[0] = d;\n        elements[1] = -b;\n        elements[2] = -c;\n        elements[3] = a;\n        elements[4] = c * f - d * e;\n        elements[5] = b * e - a * f;\n        return this;\n    };\n    Matrix.prototype.clone = function () {\n        return new Matrix(this.elements.slice());\n    };\n    Matrix.prototype.transformPoint = function (x, y) {\n        var e = this.elements;\n        return {\n            x: x * e[0] + y * e[2] + e[4],\n            y: x * e[1] + y * e[3] + e[5]\n        };\n    };\n    Matrix.prototype.transformBBox = function (bbox, radius, target) {\n        if (radius === void 0) { radius = 0; }\n        var elements = this.elements;\n        var xx = elements[0];\n        var xy = elements[1];\n        var yx = elements[2];\n        var yy = elements[3];\n        var h_w = bbox.width * 0.5;\n        var h_h = bbox.height * 0.5;\n        var cx = bbox.x + h_w;\n        var cy = bbox.y + h_h;\n        var w, h;\n        if (radius) {\n            h_w -= radius;\n            h_h -= radius;\n            var sx = Math.sqrt(xx * xx + yx * yx);\n            var sy = Math.sqrt(xy * xy + yy * yy);\n            w = Math.abs(h_w * xx) + Math.abs(h_h * yx) + Math.abs(sx * radius);\n            h = Math.abs(h_w * xy) + Math.abs(h_h * yy) + Math.abs(sy * radius);\n        }\n        else {\n            w = Math.abs(h_w * xx) + Math.abs(h_h * yx);\n            h = Math.abs(h_w * xy) + Math.abs(h_h * yy);\n        }\n        if (!target) {\n            target = new BBox(0, 0, 0, 0);\n        }\n        target.x = cx * xx + cy * yx + elements[4] - w;\n        target.y = cx * xy + cy * yy + elements[5] - h;\n        target.width = w + w;\n        target.height = h + h;\n        return target;\n    };\n    Matrix.prototype.toContext = function (ctx) {\n        // It's fair to say that matrix multiplications are not cheap.\n        // However, updating path definitions on every frame isn't either, so\n        // it may be cheaper to just translate paths. It's also fair to\n        // say, that most paths will have to be re-rendered anyway, say\n        // rectangle paths in a bar chart, where an animation would happen when\n        // the data set changes and existing bars are morphed into new ones.\n        // Or a pie chart, where old sectors are also morphed into new ones.\n        // Same for the line chart. The only plausible case where translating\n        // existing paths would be enough, is the scatter chart, where marker\n        // icons, typically circles, stay the same size. But if circle radii\n        // are bound to some data points, even circle paths would have to be\n        // updated. And thus it makes sense to optimize for fewer matrix\n        // transforms, where transform matrices of paths are mostly identity\n        // matrices and `x`/`y`, `centerX`/`centerY` and similar properties\n        // are used to define a path at specific coordinates. And only groups\n        // are used to collectively apply a transform to a set of nodes.\n        // If the matrix is mostly identity (95% of the time),\n        // the `if (this.isIdentity)` check can make this call 3-4 times\n        // faster on average: https://jsperf.com/matrix-check-first-vs-always-set\n        if (this.identity) {\n            return;\n        }\n        var e = this.elements;\n        ctx.transform(e[0], e[1], e[2], e[3], e[4], e[5]);\n    };\n    Matrix.flyweight = function (elements) {\n        if (elements) {\n            if (elements instanceof Matrix) {\n                Matrix.matrix.setElements(elements.elements);\n            }\n            else {\n                Matrix.matrix.setElements(elements);\n            }\n        }\n        else {\n            Matrix.matrix.setIdentityElements();\n        }\n        return Matrix.matrix;\n    };\n    Matrix.matrix = new Matrix();\n    return Matrix;\n}());\nexport { Matrix };\n","export function createId(instance) {\n    var constructor = instance.constructor;\n    var className = constructor.className;\n    if (!className) {\n        throw new Error(\"The \" + constructor + \" is missing the 'className' property.\");\n    }\n    return className + '-' + (constructor.id = (constructor.id || 0) + 1);\n}\n","/**\n * Creates a new object with a `parent` as its prototype\n * and copies properties from the `child` into it.\n * @param parent\n * @param child\n */\nexport function chainObjects(parent, child) {\n    var obj = Object.create(parent);\n    for (var prop in child) {\n        if (child.hasOwnProperty(prop)) {\n            obj[prop] = child[prop];\n        }\n    }\n    return obj;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Node } from \"../node\";\nimport { chainObjects } from \"../../util/object\";\nvar Shape = /** @class */ (function (_super) {\n    __extends(Shape, _super);\n    function Shape() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.lastInstanceId = 0;\n        _this._fillOpacity = 1;\n        _this._strokeOpacity = 1;\n        _this._fill = Shape.defaultStyles.fill;\n        /**\n         * Note that `strokeStyle = null` means invisible stroke,\n         * while `lineWidth = 0` means no stroke, and sometimes this can mean different things.\n         * For example, a rect shape with an invisible stroke may not align to the pixel grid\n         * properly because the stroke affects the rules of alignment, and arc shapes forming\n         * a pie chart will have a gap between them if they have an invisible stroke, whereas\n         * there would be not gap if there was no stroke at all.\n         * The preferred way of making the stroke invisible is setting the `lineWidth` to zero,\n         * unless specific looks that is achieved by having an invisible stroke is desired.\n         */\n        _this._stroke = Shape.defaultStyles.stroke;\n        _this._strokeWidth = Shape.defaultStyles.strokeWidth;\n        _this._lineDash = Shape.defaultStyles.lineDash;\n        _this._lineDashOffset = Shape.defaultStyles.lineDashOffset;\n        _this._lineCap = Shape.defaultStyles.lineCap;\n        _this._lineJoin = Shape.defaultStyles.lineJoin;\n        _this._opacity = Shape.defaultStyles.opacity;\n        _this.onShadowChange = function () {\n            _this.dirty = true;\n        };\n        _this._fillShadow = Shape.defaultStyles.fillShadow;\n        _this._strokeShadow = Shape.defaultStyles.strokeShadow;\n        return _this;\n    }\n    /**\n     * Creates a light-weight instance of the given shape (that serves as a template).\n     * The created instance only stores the properites set on the instance itself\n     * and the rest of the properties come via the prototype chain from the template.\n     * This can greatly reduce memory usage in cases where one has many simular shapes,\n     * for example, circles of different size, position and color. The exact memory usage\n     * reduction will depend on the size of the template and the number of own properties\n     * set on its lightweight instances, but will typically be around an order of magnitude\n     * or more.\n     *\n     * Note: template shapes are not supposed to be part of the scene graph (they should not\n     * have a parent).\n     *\n     * @param template\n     */\n    Shape.createInstance = function (template) {\n        var shape = Object.create(template);\n        shape._setParent(undefined);\n        shape.id = template.id + '-Instance-' + String(++template.lastInstanceId);\n        return shape;\n    };\n    /**\n     * Restores the default styles introduced by this subclass.\n     */\n    Shape.prototype.restoreOwnStyles = function () {\n        var styles = this.constructor.defaultStyles;\n        var keys = Object.getOwnPropertyNames(styles);\n        // getOwnPropertyNames is about 2.5 times faster than\n        // for..in with the hasOwnProperty check and in this\n        // case, where most properties are inherited, can be\n        // more then an order of magnitude faster.\n        for (var i = 0, n = keys.length; i < n; i++) {\n            var key = keys[i];\n            this[key] = styles[key];\n        }\n    };\n    Shape.prototype.restoreAllStyles = function () {\n        var styles = this.constructor.defaultStyles;\n        for (var property in styles) {\n            this[property] = styles[property];\n        }\n    };\n    /**\n     * Restores the base class default styles that have been overridden by this subclass.\n     */\n    Shape.prototype.restoreOverriddenStyles = function () {\n        var styles = this.constructor.defaultStyles;\n        var protoStyles = Object.getPrototypeOf(styles);\n        for (var property in styles) {\n            if (styles.hasOwnProperty(property) && protoStyles.hasOwnProperty(property)) {\n                this[property] = styles[property];\n            }\n        }\n    };\n    Object.defineProperty(Shape.prototype, \"fillOpacity\", {\n        get: function () {\n            return this._fillOpacity;\n        },\n        set: function (value) {\n            if (this._fillOpacity !== value) {\n                this._fillOpacity = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"strokeOpacity\", {\n        get: function () {\n            return this._strokeOpacity;\n        },\n        set: function (value) {\n            if (this._strokeOpacity !== value) {\n                this._strokeOpacity = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"fill\", {\n        get: function () {\n            return this._fill;\n        },\n        set: function (value) {\n            if (this._fill !== value) {\n                this._fill = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"stroke\", {\n        get: function () {\n            return this._stroke;\n        },\n        set: function (value) {\n            if (this._stroke !== value) {\n                this._stroke = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"strokeWidth\", {\n        get: function () {\n            return this._strokeWidth;\n        },\n        set: function (value) {\n            if (this._strokeWidth !== value) {\n                this._strokeWidth = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"alignment\", {\n        // An offset value to align to the pixel grid.\n        get: function () {\n            return Math.floor(this.strokeWidth) % 2 / 2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Returns the aligned `start` or `length` value.\n    // For example: `start` could be `y` and `length` could be `height` of a rectangle.\n    Shape.prototype.align = function (alignment, start, length) {\n        if (length != undefined) {\n            return Math.floor(length) + Math.floor(start % 1 + length % 1);\n        }\n        return Math.floor(start) + alignment;\n    };\n    Object.defineProperty(Shape.prototype, \"lineDash\", {\n        get: function () {\n            return this._lineDash;\n        },\n        set: function (value) {\n            var oldValue = this._lineDash;\n            if (oldValue !== value) {\n                if (oldValue && value && oldValue.length === value.length) {\n                    var identical = true;\n                    var n = value.length;\n                    for (var i = 0; i < n; i++) {\n                        if (oldValue[i] !== value[i]) {\n                            identical = false;\n                            break;\n                        }\n                    }\n                    if (identical) {\n                        return;\n                    }\n                }\n                this._lineDash = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"lineDashOffset\", {\n        get: function () {\n            return this._lineDashOffset;\n        },\n        set: function (value) {\n            if (this._lineDashOffset !== value) {\n                this._lineDashOffset = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"lineCap\", {\n        get: function () {\n            return this._lineCap;\n        },\n        set: function (value) {\n            if (this._lineCap !== value) {\n                this._lineCap = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"lineJoin\", {\n        get: function () {\n            return this._lineJoin;\n        },\n        set: function (value) {\n            if (this._lineJoin !== value) {\n                this._lineJoin = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"opacity\", {\n        get: function () {\n            return this._opacity;\n        },\n        set: function (value) {\n            value = Math.min(1, Math.max(0, value));\n            if (this._opacity !== value) {\n                this._opacity = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"fillShadow\", {\n        get: function () {\n            return this._fillShadow;\n        },\n        set: function (value) {\n            var oldValue = this._fillShadow;\n            if (oldValue !== value) {\n                if (oldValue) {\n                    oldValue.removeEventListener('change', this.onShadowChange);\n                }\n                if (value) {\n                    value.addEventListener('change', this.onShadowChange);\n                }\n                this._fillShadow = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"strokeShadow\", {\n        get: function () {\n            return this._strokeShadow;\n        },\n        set: function (value) {\n            var oldValue = this._strokeShadow;\n            if (oldValue !== value) {\n                if (oldValue) {\n                    oldValue.removeEventListener('change', this.onShadowChange);\n                }\n                if (value) {\n                    value.addEventListener('change', this.onShadowChange);\n                }\n                this._strokeShadow = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Shape.prototype.fillStroke = function (ctx) {\n        var pixelRatio = this.scene.canvas.pixelRatio || 1;\n        if (this.fill) {\n            ctx.fillStyle = this.fill;\n            ctx.globalAlpha = this.opacity * this.fillOpacity;\n            // The canvas context scaling (depends on the device's pixel ratio)\n            // has no effect on shadows, so we have to account for the pixel ratio\n            // manually here.\n            var fillShadow = this.fillShadow;\n            if (fillShadow && fillShadow.enabled) {\n                ctx.shadowColor = fillShadow.color;\n                ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = fillShadow.blur * pixelRatio;\n            }\n            ctx.fill();\n        }\n        ctx.shadowColor = 'rgba(0, 0, 0, 0)';\n        if (this.stroke && this.strokeWidth) {\n            ctx.strokeStyle = this.stroke;\n            ctx.globalAlpha = this.opacity * this.strokeOpacity;\n            ctx.lineWidth = this.strokeWidth;\n            if (this.lineDash) {\n                ctx.setLineDash(this.lineDash);\n            }\n            if (this.lineDashOffset) {\n                ctx.lineDashOffset = this.lineDashOffset;\n            }\n            if (this.lineCap) {\n                ctx.lineCap = this.lineCap;\n            }\n            if (this.lineJoin) {\n                ctx.lineJoin = this.lineJoin;\n            }\n            var strokeShadow = this.strokeShadow;\n            if (strokeShadow && strokeShadow.enabled) {\n                ctx.shadowColor = strokeShadow.color;\n                ctx.shadowOffsetX = strokeShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = strokeShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = strokeShadow.blur * pixelRatio;\n            }\n            ctx.stroke();\n        }\n    };\n    Shape.prototype.containsPoint = function (x, y) {\n        return this.isPointInPath(x, y);\n    };\n    /**\n     * Defaults for style properties. Note that properties that affect the position\n     * and shape of the node are not considered style properties, for example:\n     * `x`, `y`, `width`, `height`, `radius`, `rotation`, etc.\n     * Can be used to reset to the original styling after some custom styling\n     * has been applied (using the `restoreOwnStyles` and `restoreAllStyles` methods).\n     * These static defaults are meant to be inherited by subclasses.\n     */\n    Shape.defaultStyles = chainObjects({}, {\n        fill: 'black',\n        stroke: undefined,\n        strokeWidth: 0,\n        lineDash: undefined,\n        lineDashOffset: 0,\n        lineCap: undefined,\n        lineJoin: undefined,\n        opacity: 1,\n        fillShadow: undefined,\n        strokeShadow: undefined\n    });\n    return Shape;\n}(Node));\nexport { Shape };\n","/**\n * Wraps the native Canvas element and overrides its CanvasRenderingContext2D to\n * provide resolution independent rendering based on `window.devicePixelRatio`.\n */\nvar HdpiCanvas = /** @class */ (function () {\n    // The width/height attributes of the Canvas element default to\n    // 300/150 according to w3.org.\n    function HdpiCanvas(document, width, height) {\n        if (document === void 0) { document = window.document; }\n        if (width === void 0) { width = 600; }\n        if (height === void 0) { height = 300; }\n        this._container = undefined;\n        // `NaN` is deliberate here, so that overrides are always applied\n        // and the `resetTransform` inside the `resize` method works in IE11.\n        this._pixelRatio = NaN;\n        this.document = document;\n        this.element = document.createElement('canvas');\n        this.context = this.element.getContext('2d');\n        this.element.style.userSelect = 'none';\n        this.element.style.display = 'block';\n        this.setPixelRatio();\n        this.resize(width, height);\n    }\n    Object.defineProperty(HdpiCanvas.prototype, \"container\", {\n        get: function () {\n            return this._container;\n        },\n        set: function (value) {\n            if (this._container !== value) {\n                this.remove();\n                if (value) {\n                    value.appendChild(this.element);\n                }\n                this._container = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HdpiCanvas.prototype.remove = function () {\n        var parentNode = this.element.parentNode;\n        if (parentNode != null) {\n            parentNode.removeChild(this.element);\n        }\n    };\n    HdpiCanvas.prototype.destroy = function () {\n        this.element.remove();\n        this._canvas = undefined;\n        Object.freeze(this);\n    };\n    HdpiCanvas.prototype.toImage = function () {\n        var img = this.document.createElement('img');\n        img.src = this.getDataURL();\n        return img;\n    };\n    HdpiCanvas.prototype.getDataURL = function (type) {\n        return this.element.toDataURL(type);\n    };\n    /**\n     * @param options.fileName The `.png` extension is going to be added automatically.\n     * @param [options.background] Defaults to `white`.\n     */\n    HdpiCanvas.prototype.download = function (fileName) {\n        fileName = ((fileName || '').trim() || 'image') + '.png';\n        // Chart images saved as JPEG are a few times larger at 50% quality than PNG images,\n        // so we don't support saving to JPEG.\n        var type = 'image/png';\n        var dataUrl = this.getDataURL(type);\n        var document = this.document;\n        if (navigator.msSaveOrOpenBlob) { // IE11\n            var binary = atob(dataUrl.split(',')[1]); // strip the `data:image/png;base64,` part\n            var array = [];\n            for (var i = 0, n = binary.length; i < n; i++) {\n                array.push(binary.charCodeAt(i));\n            }\n            var blob = new Blob([new Uint8Array(array)], { type: type });\n            navigator.msSaveOrOpenBlob(blob, fileName);\n        }\n        else {\n            var a = document.createElement('a');\n            a.href = dataUrl;\n            a.download = fileName;\n            a.style.display = 'none';\n            document.body.appendChild(a); // required for the `click` to work in Firefox\n            a.click();\n            document.body.removeChild(a);\n        }\n    };\n    Object.defineProperty(HdpiCanvas.prototype, \"pixelRatio\", {\n        get: function () {\n            return this._pixelRatio;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Changes the pixel ratio of the Canvas element to the given value,\n     * or uses the window.devicePixelRatio (default), then resizes the Canvas\n     * element accordingly (default).\n     */\n    HdpiCanvas.prototype.setPixelRatio = function (ratio) {\n        var pixelRatio = ratio || window.devicePixelRatio;\n        if (pixelRatio === this.pixelRatio) {\n            return;\n        }\n        HdpiCanvas.overrideScale(this.context, pixelRatio);\n        this._pixelRatio = pixelRatio;\n        this.resize(this.width, this.height);\n    };\n    Object.defineProperty(HdpiCanvas.prototype, \"pixelated\", {\n        get: function () {\n            return this.element.style.imageRendering === 'pixelated';\n        },\n        set: function (value) {\n            this.element.style.imageRendering = value ? 'pixelated' : 'auto';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HdpiCanvas.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HdpiCanvas.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HdpiCanvas.prototype.resize = function (width, height) {\n        var _a = this, element = _a.element, context = _a.context, pixelRatio = _a.pixelRatio;\n        element.width = Math.round(width * pixelRatio);\n        element.height = Math.round(height * pixelRatio);\n        element.style.width = width + 'px';\n        element.style.height = height + 'px';\n        context.resetTransform();\n        this._width = width;\n        this._height = height;\n    };\n    Object.defineProperty(HdpiCanvas, \"textMeasuringContext\", {\n        get: function () {\n            if (this._textMeasuringContext) {\n                return this._textMeasuringContext;\n            }\n            var canvas = document.createElement('canvas');\n            return this._textMeasuringContext = canvas.getContext('2d');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HdpiCanvas, \"svgText\", {\n        get: function () {\n            if (this._svgText) {\n                return this._svgText;\n            }\n            var xmlns = 'http://www.w3.org/2000/svg';\n            var svg = document.createElementNS(xmlns, 'svg');\n            svg.setAttribute('width', '100');\n            svg.setAttribute('height', '100');\n            // Add a descriptive class name in case someone sees this SVG element\n            // in devtools and wonders about its purpose:\n            if (svg.classList) {\n                svg.classList.add('text-measuring-svg');\n            }\n            else {\n                svg.setAttribute('class', 'text-measuring-svg');\n            }\n            svg.style.position = 'absolute';\n            svg.style.top = '-1000px';\n            svg.style.visibility = 'hidden';\n            var svgText = document.createElementNS(xmlns, 'text');\n            svgText.setAttribute('x', '0');\n            svgText.setAttribute('y', '30');\n            svgText.setAttribute('text', 'black');\n            svg.appendChild(svgText);\n            document.body.appendChild(svg);\n            this._svgText = svgText;\n            return svgText;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HdpiCanvas, \"has\", {\n        get: function () {\n            if (this._has) {\n                return this._has;\n            }\n            return this._has = Object.freeze({\n                textMetrics: this.textMeasuringContext.measureText('test').actualBoundingBoxDescent !== undefined\n                    // Firefox implemented advanced TextMetrics object in v74:\n                    // https://bugzilla.mozilla.org/show_bug.cgi?id=1102584\n                    // but it's buggy, so we'll keed using the SVG for text measurement in Firefox for now.\n                    && !/Firefox\\/\\d+(.\\d)+/.test(window.navigator.userAgent),\n                getTransform: this.textMeasuringContext.getTransform !== undefined\n            });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HdpiCanvas.measureText = function (text, font, textBaseline, textAlign) {\n        var ctx = this.textMeasuringContext;\n        ctx.font = font;\n        ctx.textBaseline = textBaseline;\n        ctx.textAlign = textAlign;\n        return ctx.measureText(text);\n    };\n    /**\n     * Returns the width and height of the measured text.\n     * @param text The single-line text to measure.\n     * @param font The font shorthand string.\n     */\n    HdpiCanvas.getTextSize = function (text, font) {\n        if (this.has.textMetrics) {\n            var ctx = this.textMeasuringContext;\n            ctx.font = font;\n            var metrics = ctx.measureText(text);\n            return {\n                width: metrics.width,\n                height: metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent\n            };\n        }\n        else {\n            return this.measureSvgText(text, font);\n        }\n    };\n    HdpiCanvas.measureSvgText = function (text, font) {\n        var cache = this.textSizeCache;\n        var fontCache = cache[font];\n        // Note: consider not caching the size of numeric strings.\n        // For example: if (isNaN(+text)) { // skip\n        if (fontCache) {\n            var size_1 = fontCache[text];\n            if (size_1) {\n                return size_1;\n            }\n        }\n        else {\n            cache[font] = {};\n        }\n        var svgText = this.svgText;\n        svgText.style.font = font;\n        svgText.textContent = text;\n        // `getBBox` returns an instance of `SVGRect` with the same `width` and `height`\n        // measurements as `DOMRect` instance returned by the `getBoundingClientRect`.\n        // But the `SVGRect` instance has half the properties of the `DOMRect`,\n        // so we use the `getBBox` method.\n        var bbox = svgText.getBBox();\n        var size = {\n            width: bbox.width,\n            height: bbox.height\n        };\n        cache[font][text] = size;\n        return size;\n    };\n    HdpiCanvas.overrideScale = function (ctx, scale) {\n        var depth = 0;\n        var overrides = {\n            save: function () {\n                this.$save();\n                depth++;\n            },\n            restore: function () {\n                if (depth > 0) {\n                    this.$restore();\n                    depth--;\n                }\n            },\n            setTransform: function (a, b, c, d, e, f) {\n                this.$setTransform(a * scale, b * scale, c * scale, d * scale, e * scale, f * scale);\n            },\n            resetTransform: function () {\n                // As of Jan 8, 2019, `resetTransform` is still an \"experimental technology\",\n                // and doesn't work in IE11 and Edge 44.\n                this.$setTransform(scale, 0, 0, scale, 0, 0);\n                this.save();\n                depth = 0;\n                // The scale above will be impossible to restore,\n                // because we override the `ctx.restore` above and\n                // check `depth` there.\n            }\n        };\n        for (var name_1 in overrides) {\n            if (overrides.hasOwnProperty(name_1)) {\n                // Save native methods under prefixed names,\n                // if this hasn't been done by the previous overrides already.\n                if (!ctx['$' + name_1]) {\n                    ctx['$' + name_1] = ctx[name_1];\n                }\n                // Replace native methods with overrides,\n                // or previous overrides with the new ones.\n                ctx[name_1] = overrides[name_1];\n            }\n        }\n    };\n    HdpiCanvas.textSizeCache = {};\n    return HdpiCanvas;\n}());\nexport { HdpiCanvas };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Shape } from \"./shape\";\nimport { chainObjects } from \"../../util/object\";\nimport { BBox } from \"../bbox\";\nimport { HdpiCanvas } from \"../../canvas/hdpiCanvas\";\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._x = 0;\n        _this._y = 0;\n        _this.lineBreakRegex = /\\r?\\n/g;\n        _this.lines = [];\n        _this._text = '';\n        _this._dirtyFont = true;\n        _this._fontSize = 10;\n        _this._fontFamily = 'sans-serif';\n        _this._textAlign = Text.defaultStyles.textAlign;\n        _this._textBaseline = Text.defaultStyles.textBaseline;\n        _this._lineHeight = 14;\n        return _this;\n    }\n    Object.defineProperty(Text.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            if (this._x !== value) {\n                this._x = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            if (this._y !== value) {\n                this._y = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Text.prototype.splitText = function () {\n        this.lines = this._text.split(this.lineBreakRegex);\n    };\n    Object.defineProperty(Text.prototype, \"text\", {\n        get: function () {\n            return this._text;\n        },\n        set: function (value) {\n            var str = String(value); // `value` can be an object here\n            if (this._text !== str) {\n                this._text = str;\n                this.splitText();\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"font\", {\n        get: function () {\n            if (this.dirtyFont) {\n                this.dirtyFont = false;\n                this._font = [\n                    this.fontStyle || '',\n                    this.fontWeight || '',\n                    this.fontSize + 'px',\n                    this.fontFamily\n                ].join(' ').trim();\n            }\n            return this._font;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"dirtyFont\", {\n        get: function () {\n            return this._dirtyFont;\n        },\n        set: function (value) {\n            if (this._dirtyFont !== value) {\n                this._dirtyFont = value;\n                if (value) {\n                    this.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"fontStyle\", {\n        get: function () {\n            return this._fontStyle;\n        },\n        set: function (value) {\n            if (this._fontStyle !== value) {\n                this._fontStyle = value;\n                this.dirtyFont = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"fontWeight\", {\n        get: function () {\n            return this._fontWeight;\n        },\n        set: function (value) {\n            if (this._fontWeight !== value) {\n                this._fontWeight = value;\n                this.dirtyFont = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"fontSize\", {\n        get: function () {\n            return this._fontSize;\n        },\n        set: function (value) {\n            if (!isFinite(value)) {\n                value = 10;\n            }\n            if (this._fontSize !== value) {\n                this._fontSize = value;\n                this.dirtyFont = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"fontFamily\", {\n        get: function () {\n            return this._fontFamily;\n        },\n        set: function (value) {\n            if (this._fontFamily !== value) {\n                this._fontFamily = value;\n                this.dirtyFont = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"textAlign\", {\n        get: function () {\n            return this._textAlign;\n        },\n        set: function (value) {\n            if (this._textAlign !== value) {\n                this._textAlign = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"textBaseline\", {\n        get: function () {\n            return this._textBaseline;\n        },\n        set: function (value) {\n            if (this._textBaseline !== value) {\n                this._textBaseline = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"lineHeight\", {\n        get: function () {\n            return this._lineHeight;\n        },\n        set: function (value) {\n            // Multi-line text is complicated because:\n            // - Canvas does not support it natively, so we have to implement it manually\n            // - need to know the height of each line -> need to parse the font shorthand ->\n            //   generally impossible to do because font size may not be in pixels\n            // - so, need to measure the text instead, each line individually -> expensive\n            // - or make the user provide the line height manually for multi-line text\n            // - computeBBox should use the lineHeight for multi-line text but ignore it otherwise\n            // - textBaseline kind of loses its meaning for multi-line text\n            if (this._lineHeight !== value) {\n                this._lineHeight = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Text.prototype.computeBBox = function () {\n        return HdpiCanvas.has.textMetrics\n            ? this.getPreciseBBox()\n            : this.getApproximateBBox();\n    };\n    Text.prototype.getPreciseBBox = function () {\n        var metrics = HdpiCanvas.measureText(this.text, this.font, this.textBaseline, this.textAlign);\n        return new BBox(this.x - metrics.actualBoundingBoxLeft, this.y - metrics.actualBoundingBoxAscent, metrics.width, metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent);\n    };\n    Text.prototype.getApproximateBBox = function () {\n        var size = HdpiCanvas.getTextSize(this.text, this.font);\n        var _a = this, x = _a.x, y = _a.y;\n        switch (this.textAlign) {\n            case 'end':\n            case 'right':\n                x -= size.width;\n                break;\n            case 'center':\n                x -= size.width / 2;\n        }\n        switch (this.textBaseline) {\n            case 'alphabetic':\n                y -= size.height * 0.7;\n                break;\n            case 'middle':\n                y -= size.height * 0.45;\n                break;\n            case 'ideographic':\n                y -= size.height;\n                break;\n            case 'hanging':\n                y -= size.height * 0.2;\n                break;\n            case 'bottom':\n                y -= size.height;\n                break;\n        }\n        return new BBox(x, y, size.width, size.height);\n    };\n    Text.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        var bbox = this.computeBBox();\n        return bbox ? bbox.containsPoint(point.x, point.y) : false;\n    };\n    Text.prototype.isPointInStroke = function (x, y) {\n        return false;\n    };\n    Text.prototype.render = function (ctx) {\n        if (!this.lines.length) {\n            return;\n        }\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        // this.matrix.transformBBox(this.computeBBox!()).render(ctx); // debug\n        this.matrix.toContext(ctx);\n        var _a = this, fill = _a.fill, stroke = _a.stroke, strokeWidth = _a.strokeWidth;\n        ctx.font = this.font;\n        ctx.textAlign = this.textAlign;\n        ctx.textBaseline = this.textBaseline;\n        var pixelRatio = this.scene.canvas.pixelRatio || 1;\n        if (fill) {\n            ctx.fillStyle = fill;\n            ctx.globalAlpha = this.opacity * this.fillOpacity;\n            var _b = this, fillShadow = _b.fillShadow, text = _b.text, x = _b.x, y = _b.y;\n            if (fillShadow && fillShadow.enabled) {\n                ctx.shadowColor = fillShadow.color;\n                ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = fillShadow.blur * pixelRatio;\n            }\n            ctx.fillText(text, x, y);\n        }\n        if (stroke && strokeWidth) {\n            ctx.strokeStyle = stroke;\n            ctx.lineWidth = strokeWidth;\n            ctx.globalAlpha = this.opacity * this.strokeOpacity;\n            var _c = this, lineDash = _c.lineDash, lineDashOffset = _c.lineDashOffset, lineCap = _c.lineCap, lineJoin = _c.lineJoin, strokeShadow = _c.strokeShadow, text = _c.text, x = _c.x, y = _c.y;\n            if (lineDash) {\n                ctx.setLineDash(lineDash);\n            }\n            if (lineDashOffset) {\n                ctx.lineDashOffset = lineDashOffset;\n            }\n            if (lineCap) {\n                ctx.lineCap = lineCap;\n            }\n            if (lineJoin) {\n                ctx.lineJoin = lineJoin;\n            }\n            if (strokeShadow && strokeShadow.enabled) {\n                ctx.shadowColor = strokeShadow.color;\n                ctx.shadowOffsetX = strokeShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = strokeShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = strokeShadow.blur * pixelRatio;\n            }\n            ctx.strokeText(text, x, y);\n        }\n        this.dirty = false;\n    };\n    Text.className = 'Text';\n    Text.defaultStyles = chainObjects(Shape.defaultStyles, {\n        textAlign: 'start',\n        fontStyle: undefined,\n        fontWeight: undefined,\n        fontSize: 10,\n        fontFamily: 'sans-serif',\n        textBaseline: 'alphabetic'\n    });\n    return Text;\n}(Shape));\nexport { Text };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar Observable = /** @class */ (function () {\n    function Observable() {\n        // Note that these maps can't be specified generically, so they are kept untyped.\n        // Some methods in this class only need generics in their signatures, the generics inside the methods\n        // are just for clarity. The generics in signatures allow for static type checking of user provided\n        // listeners and for type inference, so that the users wouldn't have to specify the type of parameters\n        // of their inline lambdas.\n        this.allPropertyListeners = new Map(); // property name => property change listener => scopes\n        this.allEventListeners = new Map(); // event type => event listener => scopes\n    }\n    Observable.prototype.addPropertyListener = function (name, listener, scope) {\n        if (scope === void 0) { scope = this; }\n        var allPropertyListeners = this.allPropertyListeners;\n        var propertyListeners = allPropertyListeners.get(name);\n        if (!propertyListeners) {\n            propertyListeners = new Map();\n            allPropertyListeners.set(name, propertyListeners);\n        }\n        if (!propertyListeners.has(listener)) {\n            var scopes = new Set();\n            propertyListeners.set(listener, scopes);\n        }\n        propertyListeners.get(listener).add(scope);\n    };\n    Observable.prototype.removePropertyListener = function (name, listener, scope) {\n        if (scope === void 0) { scope = this; }\n        var allPropertyListeners = this.allPropertyListeners;\n        var propertyListeners = allPropertyListeners.get(name);\n        if (propertyListeners) {\n            if (listener) {\n                var scopes = propertyListeners.get(listener);\n                scopes.delete(scope);\n                if (!scopes.size) {\n                    propertyListeners.delete(listener);\n                }\n            }\n            else {\n                propertyListeners.clear();\n            }\n        }\n    };\n    Observable.prototype.notifyPropertyListeners = function (name, oldValue, value) {\n        var _this = this;\n        var allPropertyListeners = this.allPropertyListeners;\n        var propertyListeners = allPropertyListeners.get(name);\n        if (propertyListeners) {\n            propertyListeners.forEach(function (scopes, listener) {\n                scopes.forEach(function (scope) { return listener.call(scope, { type: name, source: _this, value: value, oldValue: oldValue }); });\n            });\n        }\n    };\n    Observable.prototype.addEventListener = function (type, listener, scope) {\n        if (scope === void 0) { scope = this; }\n        var allEventListeners = this.allEventListeners;\n        var eventListeners = allEventListeners.get(type);\n        if (!eventListeners) {\n            eventListeners = new Map();\n            allEventListeners.set(type, eventListeners);\n        }\n        if (!eventListeners.has(listener)) {\n            var scopes = new Set();\n            eventListeners.set(listener, scopes);\n        }\n        eventListeners.get(listener).add(scope);\n    };\n    Observable.prototype.removeEventListener = function (type, listener, scope) {\n        if (scope === void 0) { scope = this; }\n        var allEventListeners = this.allEventListeners;\n        var eventListeners = allEventListeners.get(type);\n        if (eventListeners) {\n            if (listener) {\n                var scopes = eventListeners.get(listener);\n                scopes.delete(scope);\n                if (!scopes.size) {\n                    eventListeners.delete(listener);\n                }\n            }\n            else {\n                eventListeners.clear();\n            }\n        }\n    };\n    Observable.prototype.notifyEventListeners = function (types) {\n        var _this = this;\n        var allEventListeners = this.allEventListeners;\n        types.forEach(function (type) {\n            var listeners = allEventListeners.get(type);\n            if (listeners) {\n                listeners.forEach(function (scopes, listener) {\n                    scopes.forEach(function (scope) { return listener.call(scope, { type: type, source: _this }); });\n                });\n            }\n        });\n    };\n    Observable.prototype.fireEvent = function (event) {\n        var _this = this;\n        var listeners = this.allEventListeners.get(event.type);\n        if (listeners) {\n            listeners.forEach(function (scopes, listener) {\n                scopes.forEach(function (scope) { return listener.call(scope, __assign(__assign({}, event), { source: _this })); });\n            });\n        }\n    };\n    Observable.privateKeyPrefix = '_';\n    return Observable;\n}());\nexport { Observable };\nexport function reactive() {\n    var events = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        events[_i] = arguments[_i];\n    }\n    return function (target, key) {\n        // `target` is either a constructor (static member) or prototype (instance member)\n        var privateKey = Observable.privateKeyPrefix + key;\n        var privateKeyEvents = privateKey + 'Events';\n        if (!target[key]) {\n            if (events) {\n                target[privateKeyEvents] = events;\n            }\n            Object.defineProperty(target, key, {\n                set: function (value) {\n                    var oldValue;\n                    oldValue = this[privateKey];\n                    if (oldValue !== value || (typeof value === 'object' && value !== null)) {\n                        this[privateKey] = value;\n                        this.notifyPropertyListeners(key, oldValue, value);\n                        var events_1 = this[privateKeyEvents];\n                        if (events_1) {\n                            this.notifyEventListeners(events_1);\n                        }\n                    }\n                },\n                get: function () {\n                    var value;\n                    value = this[privateKey];\n                    return value;\n                },\n                enumerable: true,\n                configurable: true\n            });\n        }\n    };\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Padding } from \"./util/padding\";\nimport { Text } from \"./scene/shape/text\";\nimport { PointerEvents } from \"./scene/node\";\nimport { Observable, reactive } from \"./util/observable\";\nvar Caption = /** @class */ (function (_super) {\n    __extends(Caption, _super);\n    function Caption() {\n        var _this = _super.call(this) || this;\n        _this.node = new Text();\n        _this.enabled = true;\n        _this.padding = new Padding(10);\n        var node = _this.node;\n        node.textAlign = 'center';\n        node.textBaseline = 'top';\n        node.pointerEvents = PointerEvents.None;\n        return _this;\n    }\n    Object.defineProperty(Caption.prototype, \"text\", {\n        get: function () {\n            return this.node.text;\n        },\n        set: function (value) {\n            if (this.node.text !== value) {\n                this.node.text = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Caption.prototype, \"fontStyle\", {\n        get: function () {\n            return this.node.fontStyle;\n        },\n        set: function (value) {\n            if (this.node.fontStyle !== value) {\n                this.node.fontStyle = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Caption.prototype, \"fontWeight\", {\n        get: function () {\n            return this.node.fontWeight;\n        },\n        set: function (value) {\n            if (this.node.fontWeight !== value) {\n                this.node.fontWeight = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Caption.prototype, \"fontSize\", {\n        get: function () {\n            return this.node.fontSize;\n        },\n        set: function (value) {\n            if (this.node.fontSize !== value) {\n                this.node.fontSize = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Caption.prototype, \"fontFamily\", {\n        get: function () {\n            return this.node.fontFamily;\n        },\n        set: function (value) {\n            if (this.node.fontFamily !== value) {\n                this.node.fontFamily = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Caption.prototype, \"color\", {\n        get: function () {\n            return this.node.fill;\n        },\n        set: function (value) {\n            if (this.node.fill !== value) {\n                this.node.fill = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    __decorate([\n        reactive('change')\n    ], Caption.prototype, \"enabled\", void 0);\n    __decorate([\n        reactive('change')\n    ], Caption.prototype, \"padding\", void 0);\n    return Caption;\n}(Observable));\nexport { Caption };\n","/**\n * Maps a discrete domain to a continuous numeric range.\n * See https://github.com/d3/d3-scale#band-scales for more info.\n */\nvar BandScale = /** @class */ (function () {\n    function BandScale() {\n        /**\n         * Maps datum to its index in the {@link domain} array.\n         * Used to check for duplicate datums (not allowed).\n         */\n        this.index = new Map();\n        /**\n         * The output range values for datum at each index.\n         */\n        this.ordinalRange = [];\n        /**\n         * Contains unique datums only. Since `{}` is used in place of `Map`\n         * for IE11 compatibility, the datums are converted `toString` before\n         * the uniqueness check.\n         */\n        this._domain = [];\n        this._range = [0, 1];\n        this._bandwidth = 1;\n        /**\n         * The ratio of the range that is reserved for space between bands.\n         */\n        this._paddingInner = 0;\n        /**\n         * The ratio of the range that is reserved for space before the first\n         * and after the last band.\n         */\n        this._paddingOuter = 0;\n        this._round = false;\n        /**\n         * How the leftover range is distributed.\n         * `0.5` - equal distribution of space before the first and after the last band,\n         * with bands effectively centered within the range.\n         */\n        this._align = 0.5;\n    }\n    Object.defineProperty(BandScale.prototype, \"domain\", {\n        get: function () {\n            return this._domain;\n        },\n        set: function (values) {\n            var domain = this._domain;\n            domain.length = 0;\n            this.index = new Map();\n            var index = this.index;\n            // In case one wants to have duplicate domain values, for example, two 'Italy' categories,\n            // one should use objects rather than strings for domain values like so:\n            // { toString: () => 'Italy' }\n            // { toString: () => 'Italy' }\n            values.forEach(function (value) {\n                if (index.get(value) === undefined) {\n                    index.set(value, domain.push(value) - 1);\n                }\n            });\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"range\", {\n        get: function () {\n            return this._range;\n        },\n        set: function (values) {\n            this._range[0] = values[0];\n            this._range[1] = values[1];\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BandScale.prototype.ticks = function () {\n        return this._domain;\n    };\n    BandScale.prototype.convert = function (d) {\n        var i = this.index.get(d);\n        if (i === undefined) {\n            return NaN;\n        }\n        var r = this.ordinalRange[i];\n        if (r === undefined) {\n            return NaN;\n        }\n        return r;\n    };\n    Object.defineProperty(BandScale.prototype, \"bandwidth\", {\n        get: function () {\n            return this._bandwidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"padding\", {\n        get: function () {\n            return this._paddingInner;\n        },\n        set: function (value) {\n            value = Math.max(0, Math.min(1, value));\n            this._paddingInner = value;\n            this._paddingOuter = value;\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"paddingInner\", {\n        get: function () {\n            return this._paddingInner;\n        },\n        set: function (value) {\n            this._paddingInner = Math.max(0, Math.min(1, value)); // [0, 1]\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"paddingOuter\", {\n        get: function () {\n            return this._paddingOuter;\n        },\n        set: function (value) {\n            this._paddingOuter = Math.max(0, Math.min(1, value)); // [0, 1]\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"round\", {\n        get: function () {\n            return this._round;\n        },\n        set: function (value) {\n            this._round = value;\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"align\", {\n        get: function () {\n            return this._align;\n        },\n        set: function (value) {\n            this._align = Math.max(0, Math.min(1, value)); // [0, 1]\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BandScale.prototype.rescale = function () {\n        var _a;\n        var n = this._domain.length;\n        if (!n) {\n            return;\n        }\n        var _b = this._range, a = _b[0], b = _b[1];\n        var reversed = b < a;\n        if (reversed) {\n            _a = [b, a], a = _a[0], b = _a[1];\n        }\n        var step = (b - a) / Math.max(1, n - this._paddingInner + this._paddingOuter * 2);\n        if (this._round) {\n            step = Math.floor(step);\n        }\n        a += (b - a - step * (n - this._paddingInner)) * this._align;\n        this._bandwidth = step * (1 - this._paddingInner);\n        if (this._round) {\n            a = Math.round(a);\n            this._bandwidth = Math.round(this._bandwidth);\n        }\n        var values = [];\n        for (var i = 0; i < n; i++) {\n            values.push(a + step * i);\n        }\n        this.ordinalRange = reversed ? values.reverse() : values;\n    };\n    return BandScale;\n}());\nexport { BandScale };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Node } from \"./node\";\nimport { BBox } from \"./bbox\";\nimport { Matrix } from \"./matrix\";\nvar Group = /** @class */ (function (_super) {\n    __extends(Group, _super);\n    function Group() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isContainerNode = true;\n        return _this;\n    }\n    // We consider a group to be boundless, thus any point belongs to it.\n    Group.prototype.containsPoint = function (x, y) {\n        return true;\n    };\n    Group.prototype.computeBBox = function () {\n        var left = Infinity;\n        var right = -Infinity;\n        var top = Infinity;\n        var bottom = -Infinity;\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        this.children.forEach(function (child) {\n            if (!child.visible) {\n                return;\n            }\n            var bbox = child.computeBBox();\n            if (!bbox) {\n                return;\n            }\n            if (!(child instanceof Group)) {\n                if (child.dirtyTransform) {\n                    child.computeTransformMatrix();\n                }\n                var matrix = Matrix.flyweight(child.matrix);\n                var parent_1 = child.parent;\n                while (parent_1) {\n                    matrix.preMultiplySelf(parent_1.matrix);\n                    parent_1 = parent_1.parent;\n                }\n                matrix.transformBBox(bbox, 0, bbox);\n            }\n            var x = bbox.x;\n            var y = bbox.y;\n            if (x < left) {\n                left = x;\n            }\n            if (y < top) {\n                top = y;\n            }\n            if (x + bbox.width > right) {\n                right = x + bbox.width;\n            }\n            if (y + bbox.height > bottom) {\n                bottom = y + bbox.height;\n            }\n        });\n        return new BBox(left, top, right - left, bottom - top);\n    };\n    Group.prototype.render = function (ctx) {\n        // A group can have `scaling`, `rotation`, `translation` properties\n        // that are applied to the canvas context before children are rendered,\n        // so all children can be transformed at once.\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        this.matrix.toContext(ctx);\n        var children = this.children;\n        var n = children.length;\n        for (var i = 0; i < n; i++) {\n            ctx.save();\n            var child = children[i];\n            if (child.visible) {\n                child.render(ctx);\n            }\n            ctx.restore();\n        }\n        // debug\n        // this.computeBBox().render(ctx, {\n        //     label: this.id,\n        //     resetTransform: true,\n        //     fillStyle: 'rgba(0, 0, 0, 0.5)'\n        // });\n    };\n    Group.className = 'Group';\n    return Group;\n}(Node));\nexport { Group };\n","import { Node } from \"./node\";\nvar EnterNode = /** @class */ (function () {\n    function EnterNode(parent, datum) {\n        this.next = null;\n        this.scene = parent.scene;\n        this.parent = parent;\n        this.datum = datum;\n    }\n    EnterNode.prototype.appendChild = function (node) {\n        // This doesn't work without the `strict: true` in the `tsconfig.json`,\n        // so we must have two `if` checks below, instead of this single one.\n        // if (this.next && !Node.isNode(this.next)) {\n        //     throw new Error(`${this.next} is not a Node.`);\n        // }\n        if (this.next === null) {\n            return this.parent.insertBefore(node, null);\n        }\n        if (!Node.isNode(this.next)) {\n            throw new Error(this.next + \" is not a Node.\");\n        }\n        return this.parent.insertBefore(node, this.next);\n    };\n    EnterNode.prototype.insertBefore = function (node, nextNode) {\n        return this.parent.insertBefore(node, nextNode);\n    };\n    return EnterNode;\n}());\nexport { EnterNode };\n/**\n * G - type of the selected node(s).\n * GDatum - type of the datum of the selected node(s).\n * P - type of the parent node(s).\n * PDatum - type of the datum of the parent node(s).\n */\nvar Selection = /** @class */ (function () {\n    function Selection(groups, parents) {\n        this.groups = groups;\n        this.parents = parents;\n    }\n    Selection.select = function (node) {\n        return new Selection([[typeof node === 'function' ? node() : node]], [undefined]);\n    };\n    Selection.selectAll = function (nodes) {\n        return new Selection([nodes == null ? [] : nodes], [undefined]);\n    };\n    /**\n     * Creates new nodes, appends them to the nodes of this selection and returns them\n     * as a new selection. The created nodes inherit the datums and the parents of the nodes\n     * they replace.\n     * @param Class The constructor function to use to create the new nodes.\n     */\n    Selection.prototype.append = function (Class) {\n        return this.select(function (node) {\n            return node.appendChild(new Class());\n        });\n    };\n    /**\n     * Same as the {@link append}, but accepts a custom creator function with the\n     * {@link NodeSelector} signature rather than a constructor function.\n     * @param creator\n     */\n    Selection.prototype.appendFn = function (creator) {\n        return this.select(function (node, data, index, group) {\n            return node.appendChild(creator(node, data, index, group));\n        });\n    };\n    /**\n     * Runs the given selector that returns a single node for every node in each group.\n     * The original nodes are then replaced by the nodes returned by the selector\n     * and returned as a new selection.\n     * The selected nodes inherit the datums and the parents of the original nodes.\n     */\n    Selection.prototype.select = function (selector) {\n        var groups = this.groups;\n        var numGroups = groups.length;\n        var subgroups = [];\n        for (var j = 0; j < numGroups; j++) {\n            var group = groups[j];\n            var groupSize = group.length;\n            var subgroup = subgroups[j] = new Array(groupSize);\n            for (var i = 0; i < groupSize; i++) {\n                var node = group[i];\n                if (node) {\n                    var subnode = selector(node, node.datum, i, group);\n                    if (subnode) {\n                        subnode.datum = node.datum;\n                    }\n                    subgroup[i] = subnode;\n                }\n                // else this can be a group of the `enter` selection,\n                // for example, with no nodes at the i-th position,\n                // only nodes at the end of the group\n            }\n        }\n        return new Selection(subgroups, this.parents);\n    };\n    /**\n     * Same as {@link select}, but uses the given {@param Class} (constructor) as a selector.\n     * @param Class The constructor function to use to find matching nodes.\n     */\n    Selection.prototype.selectByClass = function (Class) {\n        return this.select(function (node) {\n            if (Node.isNode(node)) {\n                var children = node.children;\n                var n = children.length;\n                for (var i = 0; i < n; i++) {\n                    var child = children[i];\n                    if (child instanceof Class) {\n                        return child;\n                    }\n                }\n            }\n        });\n    };\n    Selection.prototype.selectByTag = function (tag) {\n        return this.select(function (node) {\n            if (Node.isNode(node)) {\n                var children = node.children;\n                var n = children.length;\n                for (var i = 0; i < n; i++) {\n                    var child = children[i];\n                    if (child.tag === tag) {\n                        return child;\n                    }\n                }\n            }\n        });\n    };\n    Selection.prototype.selectAllByClass = function (Class) {\n        return this.selectAll(function (node) {\n            var nodes = [];\n            if (Node.isNode(node)) {\n                var children = node.children;\n                var n = children.length;\n                for (var i = 0; i < n; i++) {\n                    var child = children[i];\n                    if (child instanceof Class) {\n                        nodes.push(child);\n                    }\n                }\n            }\n            return nodes;\n        });\n    };\n    Selection.prototype.selectAllByTag = function (tag) {\n        return this.selectAll(function (node) {\n            var nodes = [];\n            if (Node.isNode(node)) {\n                var children = node.children;\n                var n = children.length;\n                for (var i = 0; i < n; i++) {\n                    var child = children[i];\n                    if (child.tag === tag) {\n                        nodes.push(child);\n                    }\n                }\n            }\n            return nodes;\n        });\n    };\n    Selection.prototype.selectNone = function () {\n        return [];\n    };\n    /**\n     * Runs the given selector that returns a group of nodes for every node in each group.\n     * The original nodes are then replaced by the groups of nodes returned by the selector\n     * and returned as a new selection. The original nodes become the parent nodes for each\n     * group in the new selection. The selected nodes do not inherit the datums of the original nodes.\n     * If called without any parameters, creates a new selection with an empty group for each\n     * node in this selection.\n     */\n    Selection.prototype.selectAll = function (selectorAll) {\n        if (!selectorAll) {\n            selectorAll = this.selectNone;\n        }\n        // Each subgroup is populated with the selector (run on each group node) results.\n        var subgroups = [];\n        // In the new selection that we return, subgroups become groups,\n        // and group nodes become parents.\n        var parents = [];\n        var groups = this.groups;\n        var groupCount = groups.length;\n        for (var j = 0; j < groupCount; j++) {\n            var group = groups[j];\n            var groupLength = group.length;\n            for (var i = 0; i < groupLength; i++) {\n                var node = group[i];\n                if (node) {\n                    subgroups.push(selectorAll(node, node.datum, i, group));\n                    parents.push(node);\n                }\n            }\n        }\n        return new Selection(subgroups, parents);\n    };\n    /**\n     * Runs the given callback for every node in this selection and returns this selection.\n     * @param cb\n     */\n    Selection.prototype.each = function (cb) {\n        var groups = this.groups;\n        var numGroups = groups.length;\n        for (var j = 0; j < numGroups; j++) {\n            var group = groups[j];\n            var groupSize = group.length;\n            for (var i = 0; i < groupSize; i++) {\n                var node = group[i];\n                if (node) {\n                    cb(node, node.datum, i, group);\n                }\n            }\n        }\n        return this;\n    };\n    Selection.prototype.remove = function () {\n        return this.each(function (node) {\n            if (Node.isNode(node)) {\n                var parent_1 = node.parent;\n                if (parent_1) {\n                    parent_1.removeChild(node);\n                }\n            }\n        });\n    };\n    Selection.prototype.merge = function (other) {\n        var groups0 = this.groups;\n        var groups1 = other.groups;\n        var m0 = groups0.length;\n        var m1 = groups1.length;\n        var m = Math.min(m0, m1);\n        var merges = new Array(m0);\n        var j = 0;\n        for (; j < m; j++) {\n            var group0 = groups0[j];\n            var group1 = groups1[j];\n            var n = group0.length;\n            var merge = merges[j] = new Array(n);\n            for (var i = 0; i < n; i++) {\n                var node = group0[i] || group1[i];\n                merge[i] = node || undefined;\n            }\n        }\n        for (; j < m0; j++) {\n            merges[j] = groups0[j];\n        }\n        return new Selection(merges, this.parents);\n    };\n    /**\n     * Return the first non-null element in this selection.\n     * If the selection is empty, returns null.\n     */\n    Selection.prototype.node = function () {\n        var groups = this.groups;\n        var numGroups = groups.length;\n        for (var j = 0; j < numGroups; j++) {\n            var group = groups[j];\n            var groupSize = group.length;\n            for (var i = 0; i < groupSize; i++) {\n                var node = group[i];\n                if (node) {\n                    return node;\n                }\n            }\n        }\n        return null;\n    };\n    Selection.prototype.attr = function (name, value) {\n        this.each(function (node) {\n            node[name] = value;\n        });\n        return this;\n    };\n    Selection.prototype.attrFn = function (name, value) {\n        this.each(function (node, datum, index, group) {\n            node[name] = value(node, datum, index, group);\n        });\n        return this;\n    };\n    /**\n     * Invokes the given function once, passing in this selection.\n     * Returns this selection. Facilitates method chaining.\n     * @param cb\n     */\n    Selection.prototype.call = function (cb) {\n        cb(this);\n        return this;\n    };\n    Object.defineProperty(Selection.prototype, \"size\", {\n        /**\n         * Returns the total number of nodes in this selection.\n         */\n        get: function () {\n            var size = 0;\n            this.each(function () { return size++; });\n            return size;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Selection.prototype, \"data\", {\n        /**\n         * Returns the array of data for the selected elements.\n         */\n        get: function () {\n            var data = [];\n            this.each(function (_, datum) { return data.push(datum); });\n            return data;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Selection.prototype, \"enter\", {\n        get: function () {\n            return new Selection(this.enterGroups ? this.enterGroups : [[]], this.parents);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Selection.prototype, \"exit\", {\n        get: function () {\n            return new Selection(this.exitGroups ? this.exitGroups : [[]], this.parents);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Binds the given value to each selected node and returns this selection\n     * with its {@link GDatum} type changed to the type of the given value.\n     * This method doesn't compute a join and doesn't affect indexes or the enter and exit selections.\n     * This method can also be used to clear bound data.\n     * @param value\n     */\n    Selection.prototype.setDatum = function (value) {\n        return this.each(function (node) {\n            node.datum = value;\n        });\n    };\n    Object.defineProperty(Selection.prototype, \"datum\", {\n        /**\n         * Returns the bound datum for the first non-null element in the selection.\n         * This is generally useful only if you know the selection contains exactly one element.\n         */\n        get: function () {\n            var node = this.node();\n            return node ? node.datum : null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Binds the specified array of values with the selected nodes, returning a new selection\n     * that represents the _update_ selection: the nodes successfully bound to the values.\n     * Also defines the {@link enter} and {@link exit} selections on the returned selection,\n     * which can be used to add or remove the nodes to correspond to the new data.\n     * The `values` is an array of values of a particular type, or a function that returns\n     * an array of values for each group.\n     * When values are assigned to the nodes, they are stored in the {@link Node.datum} property.\n     * @param values\n     * @param key\n     */\n    Selection.prototype.setData = function (values, key) {\n        if (typeof values !== 'function') {\n            var data_1 = values;\n            values = function () { return data_1; };\n        }\n        var groups = this.groups;\n        var parents = this.parents;\n        var numGroups = groups.length;\n        var updateGroups = new Array(numGroups);\n        var enterGroups = new Array(numGroups);\n        var exitGroups = new Array(numGroups);\n        for (var j = 0; j < numGroups; j++) {\n            var group = groups[j];\n            var parent_2 = parents[j];\n            if (!parent_2) {\n                throw new Error(\"Group #\" + j + \" has no parent: \" + group);\n            }\n            var groupSize = group.length;\n            var data = values(parent_2, parent_2.datum, j, parents);\n            var dataSize = data.length;\n            var enterGroup = enterGroups[j] = new Array(dataSize);\n            var updateGroup = updateGroups[j] = new Array(dataSize);\n            var exitGroup = exitGroups[j] = new Array(groupSize);\n            if (key) {\n                this.bindKey(parent_2, group, enterGroup, updateGroup, exitGroup, data, key);\n            }\n            else {\n                this.bindIndex(parent_2, group, enterGroup, updateGroup, exitGroup, data);\n            }\n            // Now connect the enter nodes to their following update node, such that\n            // appendChild can insert the materialized enter node before this node,\n            // rather than at the end of the parent node.\n            for (var i0 = 0, i1 = 0; i0 < dataSize; i0++) {\n                var previous = enterGroup[i0];\n                if (previous) {\n                    if (i0 >= i1) {\n                        i1 = i0 + 1;\n                    }\n                    var next = void 0;\n                    while (!(next = updateGroup[i1]) && i1 < dataSize) {\n                        i1++;\n                    }\n                    previous.next = next || null;\n                }\n            }\n        }\n        var result = new Selection(updateGroups, parents);\n        result.enterGroups = enterGroups;\n        result.exitGroups = exitGroups;\n        return result;\n    };\n    Selection.prototype.bindIndex = function (parent, group, enter, update, exit, data) {\n        var groupSize = group.length;\n        var dataSize = data.length;\n        var i = 0;\n        for (; i < dataSize; i++) {\n            var node = group[i];\n            if (node) {\n                node.datum = data[i];\n                update[i] = node;\n            }\n            else { // more datums than group nodes\n                enter[i] = new EnterNode(parent, data[i]);\n            }\n        }\n        // more group nodes than datums\n        for (; i < groupSize; i++) {\n            var node = group[i];\n            if (node) {\n                exit[i] = node;\n            }\n        }\n    };\n    Selection.prototype.bindKey = function (parent, group, enter, update, exit, data, key) {\n        var groupSize = group.length;\n        var dataSize = data.length;\n        var keyValues = new Array(groupSize);\n        var nodeByKeyValue = {};\n        // Compute the key for each node.\n        // If multiple nodes have the same key, the duplicates are added to exit.\n        for (var i = 0; i < groupSize; i++) {\n            var node = group[i];\n            if (node) {\n                var keyValue = keyValues[i] = Selection.keyPrefix + key(node, node.datum, i, group);\n                if (keyValue in nodeByKeyValue) {\n                    exit[i] = node;\n                }\n                else {\n                    nodeByKeyValue[keyValue] = node;\n                }\n            }\n        }\n        // Compute the key for each datum.\n        // If there is a node associated with this key, join and add it to update.\n        // If there is not (or the key is a duplicate), add it to enter.\n        for (var i = 0; i < dataSize; i++) {\n            var keyValue = Selection.keyPrefix + key(parent, data[i], i, data);\n            var node = nodeByKeyValue[keyValue];\n            if (node) {\n                update[i] = node;\n                node.datum = data[i];\n                nodeByKeyValue[keyValue] = undefined;\n            }\n            else {\n                enter[i] = new EnterNode(parent, data[i]);\n            }\n        }\n        // Add any remaining nodes that were not bound to data to exit.\n        for (var i = 0; i < groupSize; i++) {\n            var node = group[i];\n            if (node && (nodeByKeyValue[keyValues[i]] === node)) {\n                exit[i] = node;\n            }\n        }\n    };\n    Selection.keyPrefix = '$'; // Protect against keys like '__proto__'.\n    return Selection;\n}());\nexport { Selection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Shape } from \"./shape\";\nimport { chainObjects } from \"../../util/object\";\nimport { BBox } from \"../bbox\";\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        var _this = _super.call(this) || this;\n        _this._x1 = 0;\n        _this._y1 = 0;\n        _this._x2 = 0;\n        _this._y2 = 0;\n        _this.restoreOwnStyles();\n        return _this;\n    }\n    Object.defineProperty(Line.prototype, \"x1\", {\n        get: function () {\n            // TODO: Investigate getter performance further in the context\n            //       of the scene graph.\n            //       In isolated benchmarks using a getter has the same\n            //       performance as a direct property access in Firefox 64.\n            //       But in Chrome 71 the getter is 60% slower than direct access.\n            //       Direct read is 4.5+ times slower in Chrome than it is in Firefox.\n            //       Property access and direct read have the same performance\n            //       in Safari 12, which is 2+ times faster than Firefox at this.\n            // https://jsperf.com/es5-getters-setters-versus-getter-setter-methods/18\n            // This is a know Chrome issue. They say it's not a regression, since\n            // the behavior is observed since M60, but jsperf.com history shows the\n            // 10x slowdown happened between Chrome 48 and Chrome 57.\n            // https://bugs.chromium.org/p/chromium/issues/detail?id=908743\n            return this._x1;\n        },\n        set: function (value) {\n            if (this._x1 !== value) {\n                this._x1 = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Line.prototype, \"y1\", {\n        get: function () {\n            return this._y1;\n        },\n        set: function (value) {\n            if (this._y1 !== value) {\n                this._y1 = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Line.prototype, \"x2\", {\n        get: function () {\n            return this._x2;\n        },\n        set: function (value) {\n            if (this._x2 !== value) {\n                this._x2 = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Line.prototype, \"y2\", {\n        get: function () {\n            return this._y2;\n        },\n        set: function (value) {\n            if (this._y2 !== value) {\n                this._y2 = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Line.prototype.computeBBox = function () {\n        return new BBox(this.x1, this.y1, this.x2 - this.x1, this.y2 - this.y1);\n    };\n    Line.prototype.isPointInPath = function (x, y) {\n        return false;\n    };\n    Line.prototype.isPointInStroke = function (x, y) {\n        return false;\n    };\n    Line.prototype.render = function (ctx) {\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        this.matrix.toContext(ctx);\n        var x1 = this.x1;\n        var y1 = this.y1;\n        var x2 = this.x2;\n        var y2 = this.y2;\n        // Align to the pixel grid if the line is strictly vertical\n        // or horizontal (but not both, i.e. a dot).\n        if (x1 === x2) {\n            var x = Math.round(x1) + Math.floor(this.strokeWidth) % 2 / 2;\n            x1 = x;\n            x2 = x;\n        }\n        else if (y1 === y2) {\n            var y = Math.round(y1) + Math.floor(this.strokeWidth) % 2 / 2;\n            y1 = y;\n            y2 = y;\n        }\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        this.fillStroke(ctx);\n        this.dirty = false;\n    };\n    Line.className = 'Line';\n    Line.defaultStyles = chainObjects(Shape.defaultStyles, {\n        fill: undefined,\n        strokeWidth: 1\n    });\n    return Line;\n}(Shape));\nexport { Line };\n","var twoPi = Math.PI * 2;\n/**\n * Normalize the given angle to be in the [0, 2) interval.\n * @param radians Angle in radians.\n */\nexport function normalizeAngle360(radians) {\n    radians %= twoPi;\n    radians += twoPi;\n    radians %= twoPi;\n    return radians;\n}\nexport function normalizeAngle360Inclusive(radians) {\n    radians %= twoPi;\n    radians += twoPi;\n    if (radians !== twoPi) {\n        radians %= twoPi;\n    }\n    return radians;\n}\n/**\n * Normalize the given angle to be in the [-, ) interval.\n * @param radians Angle in radians.\n */\nexport function normalizeAngle180(radians) {\n    radians %= twoPi;\n    if (radians < -Math.PI) {\n        radians += twoPi;\n    }\n    else if (radians >= Math.PI) {\n        radians -= twoPi;\n    }\n    return radians;\n}\nexport function toRadians(degrees) {\n    return degrees / 180 * Math.PI;\n}\nexport function toDegrees(radians) {\n    return radians / Math.PI * 180;\n}\n","// @ts-ignore Suppress tsc error: Property 'sign' does not exist on type 'Math'\nvar sign = Math.sign ? Math.sign : function (x) {\n    x = +x;\n    if (x === 0 || isNaN(x)) {\n        return x;\n    }\n    return x > 0 ? 1 : -1;\n};\n/**\n * Finds the roots of a parametric linear equation in `t`,\n * where `t` lies in the interval of `[0,1]`.\n */\nexport function linearRoot(a, b) {\n    var t = -b / a;\n    return (a !== 0 && t >= 0 && t <= 1) ? [t] : [];\n}\n/**\n * Finds the roots of a parametric quadratic equation in `t`,\n * where `t` lies in the interval of `[0,1]`.\n */\nexport function quadraticRoots(a, b, c) {\n    if (a === 0) {\n        return linearRoot(b, c);\n    }\n    var D = b * b - 4 * a * c; // The polynomial's discriminant.\n    var roots = [];\n    if (D === 0) { // A single real root.\n        var t = -b / (2 * a);\n        if (t >= 0 && t <= 1) {\n            roots.push(t);\n        }\n    }\n    else if (D > 0) { // A pair of distinct real roots.\n        var rD = Math.sqrt(D);\n        var t1 = (-b - rD) / (2 * a);\n        var t2 = (-b + rD) / (2 * a);\n        if (t1 >= 0 && t1 <= 1) {\n            roots.push(t1);\n        }\n        if (t2 >= 0 && t2 <= 1) {\n            roots.push(t2);\n        }\n    }\n    // else -> Complex roots.\n    return roots;\n}\n/**\n * Finds the roots of a parametric cubic equation in `t`,\n * where `t` lies in the interval of `[0,1]`.\n * Returns an array of parametric intersection locations along the cubic,\n * excluding out-of-bounds intersections (before or after the end point\n * or in the imaginary plane).\n * An adaptation of http://www.particleincell.com/blog/2013/cubic-line-intersection/\n */\nexport function cubicRoots(a, b, c, d) {\n    if (a === 0) {\n        return quadraticRoots(b, c, d);\n    }\n    var A = b / a;\n    var B = c / a;\n    var C = d / a;\n    var Q = (3 * B - A * A) / 9;\n    var R = (9 * A * B - 27 * C - 2 * A * A * A) / 54;\n    var D = Q * Q * Q + R * R; // The polynomial's discriminant.\n    var third = 1 / 3;\n    var roots = [];\n    if (D >= 0) { // Complex or duplicate roots.\n        var rD = Math.sqrt(D);\n        var S = sign(R + rD) * Math.pow(Math.abs(R + rD), third);\n        var T = sign(R - rD) * Math.pow(Math.abs(R - rD), third);\n        var Im = Math.abs(Math.sqrt(3) * (S - T) / 2); // Complex part of the root pair.\n        var t = -third * A + (S + T); // A real root.\n        if (t >= 0 && t <= 1) {\n            roots.push(t);\n        }\n        if (Im === 0) {\n            var t_1 = -third * A - (S + T) / 2; // The real part of a complex root.\n            if (t_1 >= 0 && t_1 <= 1) {\n                roots.push(t_1);\n            }\n        }\n    }\n    else { // Distinct real roots.\n        var theta = Math.acos(R / Math.sqrt(-Q * Q * Q));\n        var thirdA = third * A;\n        var twoSqrtQ = 2 * Math.sqrt(-Q);\n        var t1 = twoSqrtQ * Math.cos(third * theta) - thirdA;\n        var t2 = twoSqrtQ * Math.cos(third * (theta + 2 * Math.PI)) - thirdA;\n        var t3 = twoSqrtQ * Math.cos(third * (theta + 4 * Math.PI)) - thirdA;\n        if (t1 >= 0 && t1 <= 1) {\n            roots.push(t1);\n        }\n        if (t2 >= 0 && t2 <= 1) {\n            roots.push(t2);\n        }\n        if (t3 >= 0 && t3 <= 1) {\n            roots.push(t3);\n        }\n    }\n    return roots;\n}\n","import { cubicRoots } from \"./polyRoots\";\n/**\n * Returns the intersection point for the given pair of line segments, or null,\n * if the segments are parallel or don't intersect.\n * Based on http://paulbourke.net/geometry/pointlineplane/\n */\nexport function segmentIntersection(ax1, ay1, ax2, ay2, bx1, by1, bx2, by2) {\n    var d = (ax2 - ax1) * (by2 - by1) - (ay2 - ay1) * (bx2 - bx1);\n    if (d === 0) { // The lines are parallel.\n        return null;\n    }\n    var ua = ((bx2 - bx1) * (ay1 - by1) - (ax1 - bx1) * (by2 - by1)) / d;\n    var ub = ((ax2 - ax1) * (ay1 - by1) - (ay2 - ay1) * (ax1 - bx1)) / d;\n    if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {\n        return {\n            x: ax1 + ua * (ax2 - ax1),\n            y: ay1 + ua * (ay2 - ay1)\n        };\n    }\n    return null; // The intersection point is outside either or both segments.\n}\n/**\n * Returns intersection points of the given cubic curve and the line segment.\n * Takes in x/y components of cubic control points and line segment start/end points\n * as parameters.\n */\nexport function cubicSegmentIntersections(px1, py1, px2, py2, px3, py3, px4, py4, x1, y1, x2, y2) {\n    var intersections = [];\n    // Find line equation coefficients.\n    var A = y1 - y2;\n    var B = x2 - x1;\n    var C = x1 * (y2 - y1) - y1 * (x2 - x1);\n    // Find cubic Bezier curve equation coefficients from control points.\n    var bx = bezierCoefficients(px1, px2, px3, px4);\n    var by = bezierCoefficients(py1, py2, py3, py4);\n    var a = A * bx[0] + B * by[0]; // t^3\n    var b = A * bx[1] + B * by[1]; // t^2\n    var c = A * bx[2] + B * by[2]; // t\n    var d = A * bx[3] + B * by[3] + C; // 1\n    var roots = cubicRoots(a, b, c, d);\n    // Verify that the roots are within bounds of the linear segment.\n    for (var i = 0; i < roots.length; i++) {\n        var t = roots[i];\n        var tt = t * t;\n        var ttt = t * tt;\n        // Find the cartesian plane coordinates for the parametric root `t`.\n        var x = bx[0] * ttt + bx[1] * tt + bx[2] * t + bx[3];\n        var y = by[0] * ttt + by[1] * tt + by[2] * t + by[3];\n        // The parametric cubic roots we found are intersection points\n        // with an infinite line, and so the x/y coordinates above are as well.\n        // Make sure the x/y is also within the bounds of the given segment.\n        var s = void 0;\n        if (x1 !== x2) {\n            s = (x - x1) / (x2 - x1);\n        }\n        else { // the line is vertical\n            s = (y - y1) / (y2 - y1);\n        }\n        if (s >= 0 && s <= 1) {\n            intersections.push({ x: x, y: y });\n        }\n    }\n    return intersections;\n}\n/**\n * Returns the given coordinates vector multiplied by the coefficient matrix\n * of the parametric cubic Bzier equation.\n */\nexport function bezierCoefficients(P1, P2, P3, P4) {\n    return [\n        -P1 + 3 * P2 - 3 * P3 + P4,\n        3 * P1 - 6 * P2 + 3 * P3,\n        -3 * P1 + 3 * P2,\n        P1 //                 | 1  0  0  0| |P4|\n    ];\n}\n","import { cubicSegmentIntersections, segmentIntersection } from \"./intersection\";\nvar Path2D = /** @class */ (function () {\n    function Path2D() {\n        // The methods of this class will likely be called many times per animation frame,\n        // and any allocation can trigger a GC cycle during animation, so we attempt\n        // to minimize the number of allocations.\n        this.commands = [];\n        this.params = [];\n        this._closedPath = false;\n    }\n    Path2D.prototype.moveTo = function (x, y) {\n        if (this.xy) {\n            this.xy[0] = x;\n            this.xy[1] = y;\n        }\n        else {\n            this.xy = [x, y];\n        }\n        this.commands.push('M');\n        this.params.push(x, y);\n    };\n    Path2D.prototype.lineTo = function (x, y) {\n        if (this.xy) {\n            this.commands.push('L');\n            this.params.push(x, y);\n            this.xy[0] = x;\n            this.xy[1] = y;\n        }\n        else {\n            this.moveTo(x, y);\n        }\n    };\n    Path2D.prototype.rect = function (x, y, width, height) {\n        this.moveTo(x, y);\n        this.lineTo(x + width, y);\n        this.lineTo(x + width, y + height);\n        this.lineTo(x, y + height);\n        this.closePath();\n    };\n    /**\n     * Adds an arc segment to the path definition.\n     * https://www.w3.org/TR/SVG11/paths.html#PathDataEllipticalArcCommands\n     * @param rx The major-axis radius.\n     * @param ry The minor-axis radius.\n     * @param rotation The x-axis rotation, expressed in radians.\n     * @param fA The large arc flag. `1` to use angle > .\n     * @param fS The sweep flag. `1` for the arc that goes to `x`/`y` clockwise.\n     * @param x2 The x coordinate to arc to.\n     * @param y2 The y coordinate to arc to.\n     */\n    Path2D.prototype.arcTo = function (rx, ry, rotation, fA, fS, x2, y2) {\n        // Convert from endpoint to center parametrization:\n        // https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n        var xy = this.xy;\n        if (!xy) {\n            return;\n        }\n        if (rx < 0) {\n            rx = -rx;\n        }\n        if (ry < 0) {\n            ry = -ry;\n        }\n        var x1 = xy[0];\n        var y1 = xy[1];\n        var hdx = (x1 - x2) / 2;\n        var hdy = (y1 - y2) / 2;\n        var sinPhi = Math.sin(rotation);\n        var cosPhi = Math.cos(rotation);\n        var xp = cosPhi * hdx + sinPhi * hdy;\n        var yp = -sinPhi * hdx + cosPhi * hdy;\n        var ratX = xp / rx;\n        var ratY = yp / ry;\n        var lambda = ratX * ratX + ratY * ratY;\n        var cx = (x1 + x2) / 2;\n        var cy = (y1 + y2) / 2;\n        var cpx = 0;\n        var cpy = 0;\n        if (lambda >= 1) {\n            lambda = Math.sqrt(lambda);\n            rx *= lambda;\n            ry *= lambda;\n            // me gives lambda == cpx == cpy == 0;\n        }\n        else {\n            lambda = Math.sqrt(1 / lambda - 1);\n            if (fA === fS) {\n                lambda = -lambda;\n            }\n            cpx = lambda * rx * ratY;\n            cpy = -lambda * ry * ratX;\n            cx += cosPhi * cpx - sinPhi * cpy;\n            cy += sinPhi * cpx + cosPhi * cpy;\n        }\n        var theta1 = Math.atan2((yp - cpy) / ry, (xp - cpx) / rx);\n        var deltaTheta = Math.atan2((-yp - cpy) / ry, (-xp - cpx) / rx) - theta1;\n        // if (fS) {\n        //     if (deltaTheta <= 0) {\n        //         deltaTheta += Math.PI * 2;\n        //     }\n        // }\n        // else {\n        //     if (deltaTheta >= 0) {\n        //         deltaTheta -= Math.PI * 2;\n        //     }\n        // }\n        this.cubicArc(cx, cy, rx, ry, rotation, theta1, theta1 + deltaTheta, 1 - fS);\n    };\n    Path2D.prototype.arcToAlt = function (rx, ry, rotation, fA, fS, x2, y2) {\n        // Convert from endpoint to center parametrization. See:\n        // https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n        if (!this.xy) {\n            return;\n        }\n        if (rx < 0) {\n            rx = -rx;\n        }\n        if (ry < 0) {\n            ry = -ry;\n        }\n        var x1 = this.xy[0];\n        var y1 = this.xy[1];\n        var hdx = (x1 - x2) / 2;\n        var hdy = (y1 - y2) / 2;\n        var sinPhi = Math.sin(rotation);\n        var cosPhi = Math.cos(rotation);\n        var x1p = cosPhi * hdx + sinPhi * hdy;\n        var y1p = -sinPhi * hdx + cosPhi * hdy;\n        var rx_y1p = rx * rx * y1p * y1p;\n        var ry_x1p = ry * ry * x1p * x1p;\n        var root = Math.sqrt((rx * rx * ry * ry - rx_y1p - ry_x1p) / (rx_y1p + ry_x1p));\n        var rootSign = fA === fS ? 0 : 1;\n        var cxp = rootSign * root * rx * y1p / ry;\n        var cyp = -rootSign * root * ry * x1p / rx;\n        var cx = cosPhi * cxp - sinPhi * cyp + (x1 + x2) / 2;\n        var cy = sinPhi * cxp + cosPhi * cyp + (y1 + y2) / 2;\n        var theta1 = Math.acos((x1p - cxp) / rx / ((x1p - cxp) / rx));\n    };\n    /**\n     * Approximates an elliptical arc with up to four cubic Bzier curves.\n     * @param commands The string array to write SVG command letters to.\n     * @param params The number array to write SVG command parameters (cubic control points) to.\n     * @param cx The x-axis coordinate for the ellipse's center.\n     * @param cy The y-axis coordinate for the ellipse's center.\n     * @param rx The ellipse's major-axis radius.\n     * @param ry The ellipse's minor-axis radius.\n     * @param phi The rotation for this ellipse, expressed in radians.\n     * @param theta1 The starting angle, measured clockwise from the positive x-axis and expressed in radians.\n     * @param theta2 The ending angle, measured clockwise from the positive x-axis and expressed in radians.\n     * @param anticlockwise The arc control points are always placed clockwise from `theta1` to `theta2`,\n     * even when `theta1 > theta2`, unless this flag is set to `1`.\n     */\n    Path2D.cubicArc = function (commands, params, cx, cy, rx, ry, phi, theta1, theta2, anticlockwise) {\n        if (anticlockwise) {\n            var temp = theta1;\n            theta1 = theta2;\n            theta2 = temp;\n        }\n        var start = params.length;\n        // See https://pomax.github.io/bezierinfo/#circles_cubic\n        // Arc of unit circle (start angle = 0, end angle <= /2) in cubic Bzier coordinates:\n        // S = [1, 0]\n        // C1 = [1, f]\n        // C2 = [cos() + f * sin(), sin() - f * cos()]\n        // E = [cos(), sin()]\n        // f = 4/3 * tan(/4)\n        var f90 = 0.5522847498307935; // f for  = /2 is 4/3 * (Math.sqrt(2) - 1)\n        var sinTheta1 = Math.sin(theta1);\n        var cosTheta1 = Math.cos(theta1);\n        var sinPhi = Math.sin(phi);\n        var cosPhi = Math.cos(phi);\n        var rightAngle = Math.PI / 2;\n        // Since we know how to draw an arc of a unit circle with a cubic Bzier,\n        // to draw an elliptical arc with arbitrary rotation and radii we:\n        // 1) rotate the Bzier coordinates that represent a circular arc by \n        // 2) scale the circular arc separately along the x/y axes, making it elliptical\n        // 3) rotate elliptical arc by \n        // |cos() -sin()| |sx  0| |cos() -sin()| -> |xx xy|\n        // |sin()  cos()| | 0 sy| |sin()  cos()| -> |yx yy|\n        var xx = cosPhi * cosTheta1 * rx - sinPhi * sinTheta1 * ry;\n        var yx = sinPhi * cosTheta1 * rx + cosPhi * sinTheta1 * ry;\n        var xy = -cosPhi * sinTheta1 * rx - sinPhi * cosTheta1 * ry;\n        var yy = -sinPhi * sinTheta1 * rx + cosPhi * cosTheta1 * ry;\n        // TODO: what if delta between 1 and 2 is greater than 2?\n        // Always draw clockwise from 1 to 2.\n        theta2 -= theta1;\n        if (theta2 < 0) {\n            theta2 += Math.PI * 2;\n        }\n        // Multiplying each point [x, y] by:\n        // |xx xy cx| |x|\n        // |yx yy cy| |y|\n        // | 0  0  1| |1|\n        // TODO: This move command may be redundant, if we are already at this point.\n        // The coordinates of the point calculated here may differ ever so slightly\n        // because of precision error.\n        commands.push('M');\n        params.push(xx + cx, yx + cy);\n        while (theta2 >= rightAngle) {\n            theta2 -= rightAngle;\n            commands.push('C');\n            // Temp workaround for https://bugs.chromium.org/p/chromium/issues/detail?id=993330\n            // Revert this commit when fixed ^^.\n            var lastX = xy + cx;\n            params.push(xx + xy * f90 + cx, yx + yy * f90 + cy, xx * f90 + xy + cx, yx * f90 + yy + cy, Math.abs(lastX) < 1e-8 ? 0 : lastX, yy + cy);\n            // Prepend /2 rotation matrix.\n            // |xx xy| | 0 1| -> | xy -xx|\n            // |yx yy| |-1 0| -> | yy -yx|\n            // [xx, yx, xy, yy] = [xy, yy, -xx, -yx];\n            // Compared to swapping with a temp variable, destructuring is:\n            // - 10% faster in Chrome 70\n            // - 99% slower in Firefox 63\n            // Temp variable solution is 45% faster in FF than Chrome.\n            // https://jsperf.com/multi-swap\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=1165569\n            var temp = xx;\n            xx = xy;\n            xy = -temp;\n            temp = yx;\n            yx = yy;\n            yy = -temp;\n        }\n        if (theta2) {\n            var f = 4 / 3 * Math.tan(theta2 / 4);\n            var sinPhi2 = Math.sin(theta2);\n            var cosPhi2 = Math.cos(theta2);\n            var C2x = cosPhi2 + f * sinPhi2;\n            var C2y = sinPhi2 - f * cosPhi2;\n            commands.push('C');\n            // Temp workaround for https://bugs.chromium.org/p/chromium/issues/detail?id=993330\n            // Revert this commit when fixed ^^.\n            var lastX = xx * cosPhi2 + xy * sinPhi2 + cx;\n            params.push(xx + xy * f + cx, yx + yy * f + cy, xx * C2x + xy * C2y + cx, yx * C2x + yy * C2y + cy, Math.abs(lastX) < 1e-8 ? 0 : lastX, yx * cosPhi2 + yy * sinPhi2 + cy);\n        }\n        if (anticlockwise) {\n            for (var i = start, j = params.length - 2; i < j; i += 2, j -= 2) {\n                var temp = params[i];\n                params[i] = params[j];\n                params[j] = temp;\n                temp = params[i + 1];\n                params[i + 1] = params[j + 1];\n                params[j + 1] = temp;\n            }\n        }\n    };\n    Path2D.prototype.cubicArc = function (cx, cy, rx, ry, phi, theta1, theta2, anticlockwise) {\n        var commands = this.commands;\n        var params = this.params;\n        var start = commands.length;\n        Path2D.cubicArc(commands, params, cx, cy, rx, ry, phi, theta1, theta2, anticlockwise);\n        var x = params[params.length - 2];\n        var y = params[params.length - 1];\n        if (this.xy) {\n            commands[start] = 'L';\n            this.xy[0] = x;\n            this.xy[1] = y;\n        }\n        else {\n            this.xy = [x, y];\n        }\n    };\n    /**\n     * Returns the `[x, y]` coordinates of the curve at `t`.\n     * @param points `(n + 1) * 2` control point coordinates for a Bzier curve of n-th order.\n     * @param t\n     */\n    Path2D.prototype.deCasteljau = function (points, t) {\n        var n = points.length;\n        if (n < 2 || n % 2 === 1) {\n            throw new Error('Fewer than two points or not an even count.');\n        }\n        else if (n === 2 || t === 0) {\n            return points.slice(0, 2);\n        }\n        else if (t === 1) {\n            return points.slice(-2);\n        }\n        else {\n            var newPoints = [];\n            var last = n - 2;\n            for (var i = 0; i < last; i += 2) {\n                newPoints.push((1 - t) * points[i] + t * points[i + 2], // x\n                (1 - t) * points[i + 1] + t * points[i + 3] // y\n                );\n            }\n            return this.deCasteljau(newPoints, t);\n        }\n    };\n    /**\n     * Approximates the given curve using `n` line segments.\n     * @param points `(n + 1) * 2` control point coordinates for a Bzier curve of n-th order.\n     * @param n\n     */\n    Path2D.prototype.approximateCurve = function (points, n) {\n        var xy = this.deCasteljau(points, 0);\n        this.moveTo(xy[0], xy[1]);\n        var step = 1 / n;\n        for (var t = step; t <= 1; t += step) {\n            var xy_1 = this.deCasteljau(points, t);\n            this.lineTo(xy_1[0], xy_1[1]);\n        }\n    };\n    /**\n     * Adds a quadratic curve segment to the path definition.\n     * Note: the given quadratic segment is converted and stored as a cubic one.\n     * @param cx x-component of the curve's control point\n     * @param cy y-component of the curve's control point\n     * @param x x-component of the end point\n     * @param y y-component of the end point\n     */\n    Path2D.prototype.quadraticCurveTo = function (cx, cy, x, y) {\n        if (!this.xy) {\n            this.moveTo(cx, cy);\n        }\n        // See https://pomax.github.io/bezierinfo/#reordering\n        this.cubicCurveTo((this.xy[0] + 2 * cx) / 3, (this.xy[1] + 2 * cy) / 3, // 1/3 start + 2/3 control\n        (2 * cx + x) / 3, (2 * cy + y) / 3, // 2/3 control + 1/3 end\n        x, y);\n    };\n    Path2D.prototype.cubicCurveTo = function (cx1, cy1, cx2, cy2, x, y) {\n        if (!this.xy) {\n            this.moveTo(cx1, cy1);\n        }\n        this.commands.push('C');\n        this.params.push(cx1, cy1, cx2, cy2, x, y);\n        this.xy[0] = x;\n        this.xy[1] = y;\n    };\n    Object.defineProperty(Path2D.prototype, \"closedPath\", {\n        get: function () {\n            return this._closedPath;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Path2D.prototype.closePath = function () {\n        if (this.xy) {\n            this.xy = undefined;\n            this.commands.push('Z');\n            this._closedPath = true;\n        }\n    };\n    Path2D.prototype.clear = function () {\n        this.commands.length = 0;\n        this.params.length = 0;\n        this.xy = undefined;\n        this._closedPath = false;\n    };\n    Path2D.prototype.isPointInPath = function (x, y) {\n        var commands = this.commands;\n        var params = this.params;\n        var cn = commands.length;\n        // Hit testing using ray casting method, where the ray's origin is some point\n        // outside the path. In this case, an offscreen point that is remote enough, so that\n        // even if the path itself is large and is partially offscreen, the ray's origin\n        // will likely be outside the path anyway. To test if the given point is inside the\n        // path or not, we cast a ray from the origin to the given point and check the number\n        // of intersections of this segment with the path. If the number of intersections is\n        // even, then the ray both entered and exited the path an equal number of times,\n        // therefore the point is outside the path, and inside the path, if the number of\n        // intersections is odd. Since the path is compound, we check if the ray segment\n        // intersects with each of the path's segments, which can be either a line segment\n        // (one or no intersection points) or a Bzier curve segment (up to 3 intersection\n        // points).\n        var ox = -10000;\n        var oy = -10000;\n        // the starting point of the  current path\n        var sx = NaN;\n        var sy = NaN;\n        // the previous point of the current path\n        var px = 0;\n        var py = 0;\n        var intersectionCount = 0;\n        for (var ci = 0, pi = 0; ci < cn; ci++) {\n            switch (commands[ci]) {\n                case 'M':\n                    if (!isNaN(sx)) {\n                        if (segmentIntersection(sx, sy, px, py, ox, oy, x, y)) {\n                            intersectionCount++;\n                        }\n                    }\n                    sx = px = params[pi++];\n                    sy = py = params[pi++];\n                    break;\n                case 'L':\n                    if (segmentIntersection(px, py, px = params[pi++], py = params[pi++], ox, oy, x, y)) {\n                        intersectionCount++;\n                    }\n                    break;\n                case 'C':\n                    intersectionCount += cubicSegmentIntersections(px, py, params[pi++], params[pi++], params[pi++], params[pi++], px = params[pi++], py = params[pi++], ox, oy, x, y).length;\n                    break;\n                case 'Z':\n                    if (!isNaN(sx)) {\n                        if (segmentIntersection(sx, sy, px, py, ox, oy, x, y)) {\n                            intersectionCount++;\n                        }\n                    }\n                    break;\n            }\n        }\n        return intersectionCount % 2 === 1;\n    };\n    Path2D.fromString = function (value) {\n        var path = new Path2D();\n        path.setFromString(value);\n        return path;\n    };\n    /**\n     * Split the SVG path at command letters,\n     * then extract the command letter and parameters from each substring.\n     * @param value\n     */\n    Path2D.parseSvgPath = function (value) {\n        return value.trim().split(Path2D.splitCommandsRe).map(function (part) {\n            var strParams = part.match(Path2D.matchParamsRe);\n            return {\n                command: part.substr(0, 1),\n                params: strParams ? strParams.map(parseFloat) : []\n            };\n        });\n    };\n    Path2D.prettifySvgPath = function (value) {\n        return Path2D.parseSvgPath(value).map(function (d) { return d.command + d.params.join(','); }).join('\\n');\n    };\n    /**\n     * See https://www.w3.org/TR/SVG11/paths.html\n     * @param value\n     */\n    Path2D.prototype.setFromString = function (value) {\n        var _this = this;\n        this.clear();\n        var parts = Path2D.parseSvgPath(value);\n        // Current point.\n        var x;\n        var y;\n        // Last control point. Used to calculate the reflection point\n        // for `S`, `s`, `T`, `t` commands.\n        var cpx;\n        var cpy;\n        var lastCommand;\n        function checkQuadraticCP() {\n            if (!lastCommand.match(Path2D.quadraticCommandRe)) {\n                cpx = x;\n                cpy = y;\n            }\n        }\n        function checkCubicCP() {\n            if (!lastCommand.match(Path2D.cubicCommandRe)) {\n                cpx = x;\n                cpy = y;\n            }\n        }\n        // But that will make compiler complain about x/y, cpx/cpy\n        // being used without being set first.\n        parts.forEach(function (part) {\n            var p = part.params;\n            var n = p.length;\n            var i = 0;\n            switch (part.command) {\n                case 'M':\n                    _this.moveTo(x = p[i++], y = p[i++]);\n                    while (i < n) {\n                        _this.lineTo(x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 'm':\n                    _this.moveTo(x += p[i++], y += p[i++]);\n                    while (i < n) {\n                        _this.lineTo(x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'L':\n                    while (i < n) {\n                        _this.lineTo(x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 'l':\n                    while (i < n) {\n                        _this.lineTo(x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'C':\n                    while (i < n) {\n                        _this.cubicCurveTo(p[i++], p[i++], cpx = p[i++], cpy = p[i++], x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 'c':\n                    while (i < n) {\n                        _this.cubicCurveTo(x + p[i++], y + p[i++], cpx = x + p[i++], cpy = y + p[i++], x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'S':\n                    checkCubicCP();\n                    while (i < n) {\n                        _this.cubicCurveTo(x + x - cpx, y + y - cpy, cpx = p[i++], cpy = p[i++], x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 's':\n                    checkCubicCP();\n                    while (i < n) {\n                        _this.cubicCurveTo(x + x - cpx, y + y - cpy, cpx = x + p[i++], cpy = y + p[i++], x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'Q':\n                    while (i < n) {\n                        _this.quadraticCurveTo(cpx = p[i++], cpy = p[i++], x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 'q':\n                    while (i < n) {\n                        _this.quadraticCurveTo(cpx = x + p[i++], cpy = y + p[i++], x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'T':\n                    checkQuadraticCP();\n                    while (i < n) {\n                        _this.quadraticCurveTo(cpx = x + x - cpx, cpy = y + y - cpy, x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 't':\n                    checkQuadraticCP();\n                    while (i < n) {\n                        _this.quadraticCurveTo(cpx = x + x - cpx, cpy = y + y - cpy, x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'A':\n                    while (i < n) {\n                        _this.arcTo(p[i++], p[i++], p[i++] * Math.PI / 180, p[i++], p[i++], x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 'a':\n                    while (i < n) {\n                        _this.arcTo(p[i++], p[i++], p[i++] * Math.PI / 180, p[i++], p[i++], x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'Z':\n                case 'z':\n                    _this.closePath();\n                    break;\n                case 'H':\n                    while (i < n) {\n                        _this.lineTo(x = p[i++], y);\n                    }\n                    break;\n                case 'h':\n                    while (i < n) {\n                        _this.lineTo(x += p[i++], y);\n                    }\n                    break;\n                case 'V':\n                    while (i < n) {\n                        _this.lineTo(x, y = p[i++]);\n                    }\n                    break;\n                case 'v':\n                    while (i < n) {\n                        _this.lineTo(x, y += p[i++]);\n                    }\n                    break;\n            }\n            lastCommand = part.command;\n        });\n    };\n    Path2D.prototype.toString = function () {\n        var c = this.commands;\n        var p = this.params;\n        var cn = c.length;\n        var out = [];\n        for (var ci = 0, pi = 0; ci < cn; ci++) {\n            switch (c[ci]) {\n                case 'M':\n                    out.push('M' + p[pi++] + ',' + p[pi++]);\n                    break;\n                case 'L':\n                    out.push('L' + p[pi++] + ',' + p[pi++]);\n                    break;\n                case 'C':\n                    out.push('C' + p[pi++] + ',' + p[pi++] + ' ' +\n                        p[pi++] + ',' + p[pi++] + ' ' +\n                        p[pi++] + ',' + p[pi++]);\n                    break;\n                case 'Z':\n                    out.push('Z');\n                    break;\n            }\n        }\n        return out.join('');\n    };\n    Path2D.prototype.toPrettyString = function () {\n        return Path2D.prettifySvgPath(this.toString());\n    };\n    Path2D.prototype.toSvg = function () {\n        return Path2D.xmlDeclaration + \"\\n<svg width=\\\"100%\\\" height=\\\"100%\\\" viewBox=\\\"0 0 50 50\\\" version=\\\"1.1\\\" xmlns=\\\"\" + Path2D.xmlns + \"\\\">\\n    <path d=\\\"\" + this.toString() + \"\\\" style=\\\"fill:none;stroke:#000;stroke-width:0.5;\\\"/>\\n</svg>\";\n    };\n    Path2D.prototype.toDebugSvg = function () {\n        var d = Path2D.prettifySvgPath(this.toString());\n        return Path2D.xmlDeclaration + \"\\n<svg width=\\\"100%\\\" height=\\\"100%\\\" viewBox=\\\"0 0 100 100\\\" version=\\\"1.1\\\" xmlns=\\\"\" + Path2D.xmlns + \"\\\">\\n    <path d=\\\"\" + d + \"\\\" style=\\\"fill:none;stroke:#000;stroke-width:0.5;\\\"/>\\n</svg>\";\n    };\n    /**\n     * Returns an array of sub-paths of this Path,\n     * where each sub-path is represented exclusively by cubic segments.\n     */\n    Path2D.prototype.toCubicPaths = function () {\n        // Each sub-path is an array of `(n * 3 + 1) * 2` numbers,\n        // where `n` is the number of segments.\n        var paths = [];\n        var params = this.params;\n        // current path\n        var path;\n        // the starting point of the  current path\n        var sx;\n        var sy;\n        // the previous point of the current path\n        var px;\n        var py;\n        var i = 0; // current parameter\n        this.commands.forEach(function (command) {\n            switch (command) {\n                case 'M':\n                    path = [\n                        sx = px = params[i++],\n                        sy = py = params[i++]\n                    ];\n                    paths.push(path);\n                    break;\n                case 'L':\n                    var x = params[i++];\n                    var y = params[i++];\n                    // Place control points along the line `a + (b - a) * t`\n                    // at t = 1/3 and 2/3:\n                    path.push((px + px + x) / 3, (py + py + y) / 3, (px + x + x) / 3, (py + y + y) / 3, px = x, py = y);\n                    break;\n                case 'C':\n                    path.push(params[i++], params[i++], params[i++], params[i++], px = params[i++], py = params[i++]);\n                    break;\n                case 'Z':\n                    path.push((px + px + sx) / 3, (py + py + sy) / 3, (px + sx + sx) / 3, (py + sy + sy) / 3, px = sx, py = sy);\n                    break;\n            }\n        });\n        return paths;\n    };\n    Path2D.cubicPathToString = function (path) {\n        var n = path.length;\n        if (!(n % 2 === 0 && (n / 2 - 1) / 2 >= 1)) {\n            throw new Error('Invalid path.');\n        }\n        return 'M' + path.slice(0, 2).join(',') + 'C' + path.slice(2).join(',');\n    };\n    Path2D.splitCommandsRe = /(?=[AaCcHhLlMmQqSsTtVvZz])/g;\n    Path2D.matchParamsRe = /-?[0-9]*\\.?\\d+/g;\n    Path2D.quadraticCommandRe = /[QqTt]/;\n    Path2D.cubicCommandRe = /[CcSs]/;\n    Path2D.xmlDeclaration = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n    Path2D.xmlns = 'http://www.w3.org/2000/svg';\n    return Path2D;\n}());\nexport { Path2D };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Shape } from \"./shape\";\nimport { Path2D } from \"../path2D\";\nvar Path = /** @class */ (function (_super) {\n    __extends(Path, _super);\n    function Path() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * Declare a path to retain for later rendering and hit testing\n         * using custom Path2D class. Think of it as a TypeScript version\n         * of the native Path2D (with some differences) that works in all browsers.\n         */\n        _this.path = new Path2D();\n        /**\n        * The path only has to be updated when certain attributes change.\n        * For example, if transform attributes (such as `translationX`)\n        * are changed, we don't have to update the path. The `dirtyPath` flag\n        * is how we keep track if the path has to be updated or not.\n        */\n        _this._dirtyPath = true;\n        /**\n         * Path definition in SVG path syntax:\n         * https://www.w3.org/TR/SVG11/paths.html#DAttribute\n         */\n        _this._svgPath = '';\n        return _this;\n    }\n    Object.defineProperty(Path.prototype, \"dirtyPath\", {\n        get: function () {\n            return this._dirtyPath;\n        },\n        set: function (value) {\n            if (this._dirtyPath !== value) {\n                this._dirtyPath = value;\n                if (value) {\n                    this.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Path.prototype, \"svgPath\", {\n        get: function () {\n            return this._svgPath;\n        },\n        set: function (value) {\n            if (this._svgPath !== value) {\n                this._svgPath = value;\n                this.path.setFromString(value);\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Path.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        return this.path.closedPath && this.path.isPointInPath(point.x, point.y);\n    };\n    Path.prototype.isPointInStroke = function (x, y) {\n        return false;\n    };\n    Path.prototype.updatePath = function () { };\n    Path.prototype.render = function (ctx) {\n        var scene = this.scene;\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        // if (scene.debug.renderBoundingBoxes) {\n        //     const bbox = this.computeBBox();\n        //     if (bbox) {\n        //         this.matrix.transformBBox(bbox).render(ctx);\n        //     }\n        // }\n        this.matrix.toContext(ctx);\n        if (this.dirtyPath) {\n            this.updatePath();\n            this.dirtyPath = false;\n        }\n        scene.appendPath(this.path);\n        this.fillStroke(ctx);\n        this.dirty = false;\n    };\n    Path.className = 'Path';\n    return Path;\n}(Shape));\nexport { Path };\n","export function isEqual(a, b, epsilon) {\n    if (epsilon === void 0) { epsilon = 1e-10; }\n    return Math.abs(a - b) < epsilon;\n}\n/**\n * `Number.toFixed(n)` always formats a number so that it has `n` digits after the decimal point.\n * For example, `Number(0.00003427).toFixed(2)` returns `0.00`.\n * That's not very helpful, because all the meaningful information is lost.\n * In this case we would want the formatted value to have at least two significant digits: `0.000034`,\n * not two fraction digits.\n * @param value\n * @param fractionOrSignificantDigits\n */\nexport function toFixed(value, fractionOrSignificantDigits) {\n    if (fractionOrSignificantDigits === void 0) { fractionOrSignificantDigits = 2; }\n    var power = Math.floor(Math.log(Math.abs(value)) / Math.LN10);\n    if (power >= 0 || !isFinite(power)) {\n        return value.toFixed(fractionOrSignificantDigits); // fraction digits\n    }\n    return value.toFixed(Math.abs(power) - 1 + fractionOrSignificantDigits); // significant digits\n}\nvar numberUnits = [\"\", \"K\", \"M\", \"B\", \"T\"];\nexport function log10(x) {\n    return Math.log(x) * Math.LOG10E;\n}\nexport function toReadableNumber(value, fractionDigits) {\n    if (fractionDigits === void 0) { fractionDigits = 2; }\n    // For example: toReadableNumber(10550000000) yields \"10.6B\"\n    var prefix = '';\n    if (value <= 0) {\n        value = -value;\n        prefix = '-';\n    }\n    var thousands = ~~(log10(value) / log10(1000)); // discard the floating point part\n    return prefix + (value / Math.pow(1000.0, thousands)).toFixed(fractionDigits) + numberUnits[thousands];\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Shape } from \"./shape\";\nimport { Path } from \"./path\";\nimport { BBox } from \"../bbox\";\nimport { normalizeAngle360 } from \"../../util/angle\";\nimport { chainObjects } from \"../../util/object\";\nimport { isEqual } from \"../../util/number\";\nexport var ArcType;\n(function (ArcType) {\n    ArcType[ArcType[\"Open\"] = 0] = \"Open\";\n    ArcType[ArcType[\"Chord\"] = 1] = \"Chord\";\n    ArcType[ArcType[\"Round\"] = 2] = \"Round\";\n})(ArcType || (ArcType = {}));\n/**\n * Elliptical arc node.\n */\nvar Arc = /** @class */ (function (_super) {\n    __extends(Arc, _super);\n    function Arc() {\n        var _this = _super.call(this) || this;\n        _this._centerX = 0;\n        _this._centerY = 0;\n        _this._radiusX = 10;\n        _this._radiusY = 10;\n        _this._startAngle = 0;\n        _this._endAngle = Math.PI * 2;\n        _this._counterClockwise = false;\n        /**\n         * The type of arc to render:\n         * - {@link ArcType.Open} - end points of the arc segment are not connected (default)\n         * - {@link ArcType.Chord} - end points of the arc segment are connected by a line segment\n         * - {@link ArcType.Round} - each of the end points of the arc segment are connected\n         *                           to the center of the arc\n         * Arcs with {@link ArcType.Open} do not support hit testing, even if they have their\n         * {@link Shape.fillStyle} set, because they are not closed paths. Hit testing support\n         * would require using two paths - one for rendering, another for hit testing - and there\n         * doesn't seem to be a compelling reason to do that, when one can just use {@link ArcType.Chord}\n         * to create a closed path.\n         */\n        _this._type = ArcType.Open;\n        _this.restoreOwnStyles();\n        return _this;\n    }\n    Object.defineProperty(Arc.prototype, \"centerX\", {\n        get: function () {\n            return this._centerX;\n        },\n        set: function (value) {\n            if (this._centerX !== value) {\n                this._centerX = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"centerY\", {\n        get: function () {\n            return this._centerY;\n        },\n        set: function (value) {\n            if (this._centerY !== value) {\n                this._centerY = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"radiusX\", {\n        get: function () {\n            return this._radiusX;\n        },\n        set: function (value) {\n            if (this._radiusX !== value) {\n                this._radiusX = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"radiusY\", {\n        get: function () {\n            return this._radiusY;\n        },\n        set: function (value) {\n            if (this._radiusY !== value) {\n                this._radiusY = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"startAngle\", {\n        get: function () {\n            return this._startAngle;\n        },\n        set: function (value) {\n            if (this._startAngle !== value) {\n                this._startAngle = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"endAngle\", {\n        get: function () {\n            return this._endAngle;\n        },\n        set: function (value) {\n            if (this._endAngle !== value) {\n                this._endAngle = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"fullPie\", {\n        get: function () {\n            return isEqual(normalizeAngle360(this.startAngle), normalizeAngle360(this.endAngle));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"counterClockwise\", {\n        get: function () {\n            return this._counterClockwise;\n        },\n        set: function (value) {\n            if (this._counterClockwise !== value) {\n                this._counterClockwise = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"type\", {\n        get: function () {\n            return this._type;\n        },\n        set: function (value) {\n            if (this._type !== value) {\n                this._type = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Arc.prototype.updatePath = function () {\n        var path = this.path;\n        path.clear(); // No need to recreate the Path, can simply clear the existing one.\n        // This is much faster than the native Path2D implementation even though this `cubicArc`\n        // method is pure TypeScript and actually produces the definition of an elliptical arc,\n        // where you can specify two radii and rotation, while Path2D's `arc` method simply produces\n        // a circular arc. Maybe it's due to the experimental nature of the Path2D class,\n        // maybe it's because we have to create a new instance of it on each render, who knows...\n        path.cubicArc(this.centerX, this.centerY, this.radiusX, this.radiusY, 0, this.startAngle, this.endAngle, this.counterClockwise ? 1 : 0);\n        if (this.type === ArcType.Chord) {\n            path.closePath();\n        }\n        else if (this.type === ArcType.Round && !this.fullPie) {\n            path.lineTo(this.centerX, this.centerY);\n            path.closePath();\n        }\n    };\n    Arc.prototype.computeBBox = function () {\n        // Only works with full arcs (circles) and untransformed ellipses.\n        return new BBox(this.centerX - this.radiusX, this.centerY - this.radiusY, this.radiusX * 2, this.radiusY * 2);\n    };\n    Arc.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        var bbox = this.computeBBox();\n        return this.type !== ArcType.Open\n            && bbox.containsPoint(point.x, point.y)\n            && this.path.isPointInPath(point.x, point.y);\n    };\n    Arc.className = 'Arc';\n    Arc.defaultStyles = chainObjects(Shape.defaultStyles, {\n        lineWidth: 1,\n        fillStyle: null\n    });\n    return Arc;\n}(Path));\nexport { Arc };\n","import { Group } from \"./scene/group\";\nimport { Selection } from \"./scene/selection\";\nimport { Line } from \"./scene/shape/line\";\nimport { normalizeAngle360, normalizeAngle360Inclusive, toRadians } from \"./util/angle\";\nimport { Text } from \"./scene/shape/text\";\nimport { Arc } from \"./scene/shape/arc\";\nimport { BBox } from \"./scene/bbox\";\nimport { Matrix } from \"./scene/matrix\";\n// import { Rect } from \"./scene/shape/rect\"; // debug (bbox)\nvar Tags;\n(function (Tags) {\n    Tags[Tags[\"Tick\"] = 0] = \"Tick\";\n    Tags[Tags[\"GridLine\"] = 1] = \"GridLine\";\n})(Tags || (Tags = {}));\nvar AxisTick = /** @class */ (function () {\n    function AxisTick() {\n        /**\n         * The line width to be used by axis ticks.\n         */\n        this.width = 1;\n        /**\n         * The line length to be used by axis ticks.\n         */\n        this.size = 6;\n        /**\n         * The color of the axis ticks.\n         * Use `undefined` rather than `rgba(0, 0, 0, 0)` to make the ticks invisible.\n         */\n        this.color = 'rgba(195, 195, 195, 1)';\n        /**\n         * A hint of how many ticks to use (the exact number of ticks might differ),\n         * a `TimeInterval` or a `CountableTimeInterval`.\n         * For example:\n         *\n         *     axis.tick.count = 5;\n         *     axis.tick.count = year;\n         *     axis.tick.count = month.every(6);\n         */\n        this.count = 10;\n    }\n    return AxisTick;\n}());\nexport { AxisTick };\nvar AxisLabel = /** @class */ (function () {\n    function AxisLabel() {\n        this.fontSize = 12;\n        this.fontFamily = 'Verdana, sans-serif';\n        /**\n         * The padding between the labels and the ticks.\n         */\n        this.padding = 5;\n        /**\n         * The color of the labels.\n         * Use `undefined` rather than `rgba(0, 0, 0, 0)` to make labels invisible.\n         */\n        this.color = 'rgba(87, 87, 87, 1)';\n        /**\n         * Custom label rotation in degrees.\n         * Labels are rendered perpendicular to the axis line by default.\n         * Or parallel to the axis line, if the {@link parallelLabels} is set to `true`.\n         * The value of this config is used as the angular offset/deflection\n         * from the default rotation.\n         */\n        this.rotation = 0;\n        /**\n         * By default labels and ticks are positioned to the left of the axis line.\n         * `true` positions the labels to the right of the axis line.\n         * However, if the axis is rotated, its easier to think in terms\n         * of this side or the opposite side, rather than left and right.\n         * We use the term `mirror` for conciseness, although it's not\n         * true mirroring - for example, when a label is rotated, so that\n         * it is inclined at the 45 degree angle, text flowing from north-west\n         * to south-east, ending at the tick to the left of the axis line,\n         * and then we set this config to `true`, the text will still be flowing\n         * from north-west to south-east, _starting_ at the tick to the right\n         * of the axis line.\n         */\n        this.mirrored = false;\n        /**\n         * Labels are rendered perpendicular to the axis line by default.\n         * Setting this config to `true` makes labels render parallel to the axis line\n         * and center aligns labels' text at the ticks.\n         */\n        this.parallel = false;\n    }\n    Object.defineProperty(AxisLabel.prototype, \"format\", {\n        get: function () {\n            return this._format;\n        },\n        set: function (value) {\n            // See `TimeLocaleObject` docs for the list of supported format directives.\n            if (this._format !== value) {\n                this._format = value;\n                if (this.onFormatChange) {\n                    this.onFormatChange(value);\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AxisLabel;\n}());\nexport { AxisLabel };\n/**\n * A general purpose linear axis with no notion of orientation.\n * The axis is always rendered vertically, with horizontal labels positioned to the left\n * of the axis line by default. The axis can be {@link rotation | rotated} by an arbitrary angle,\n * so that it can be used as a top, right, bottom, left, radial or any other kind\n * of linear axis.\n * The generic `D` parameter is the type of the domain of the axis' scale.\n * The output range of the axis' scale is always numeric (screen coordinates).\n */\nvar Axis = /** @class */ (function () {\n    function Axis(scale) {\n        this.lineNode = new Line();\n        this.group = new Group();\n        this.line = {\n            width: 1,\n            color: 'rgba(195, 195, 195, 1)'\n        };\n        this.tick = new AxisTick();\n        this.label = new AxisLabel();\n        this.translation = { x: 0, y: 0 };\n        this.rotation = 0; // axis rotation angle in degrees\n        this._visibleRange = [0, 1];\n        this._title = undefined;\n        /**\n         * The length of the grid. The grid is only visible in case of a non-zero value.\n         * In case {@link radialGrid} is `true`, the value is interpreted as an angle\n         * (in degrees).\n         */\n        this._gridLength = 0;\n        /**\n         * The array of styles to cycle through when rendering grid lines.\n         * For example, use two {@link GridStyle} objects for alternating styles.\n         * Contains only one {@link GridStyle} object by default, meaning all grid lines\n         * have the same style.\n         */\n        this.gridStyle = [{\n                stroke: 'rgba(219, 219, 219, 1)',\n                lineDash: [4, 2]\n            }];\n        /**\n         * `false` - render grid as lines of {@link gridLength} that extend the ticks\n         *           on the opposite side of the axis\n         * `true` - render grid as concentric circles that go through the ticks\n         */\n        this._radialGrid = false;\n        this.scale = scale;\n        this.requestedRange = scale.range.slice();\n        this.groupSelection = Selection.select(this.group).selectAll();\n        this.label.onFormatChange = this.onTickFormatChange.bind(this);\n        this.group.append(this.lineNode);\n        this.onTickFormatChange();\n        // this.group.append(this.bboxRect); // debug (bbox)\n    }\n    Axis.prototype.updateRange = function () {\n        var _a = this, rr = _a.requestedRange, vr = _a.visibleRange, scale = _a.scale;\n        var span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n        var shift = span * vr[0];\n        var start = rr[0] - shift;\n        scale.range = [start, start + span];\n    };\n    Object.defineProperty(Axis.prototype, \"range\", {\n        get: function () {\n            return this.requestedRange.slice();\n        },\n        set: function (value) {\n            this.requestedRange = value.slice();\n            this.updateRange();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Axis.prototype, \"visibleRange\", {\n        get: function () {\n            return this._visibleRange.slice();\n        },\n        set: function (value) {\n            if (value && value.length === 2) {\n                var min = value[0], max = value[1];\n                min = Math.max(0, min);\n                max = Math.min(1, max);\n                min = Math.min(min, max);\n                max = Math.max(min, max);\n                this._visibleRange = [min, max];\n                this.updateRange();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Axis.prototype, \"domain\", {\n        get: function () {\n            return this.scale.domain.slice();\n        },\n        set: function (value) {\n            this.scale.domain = value.slice();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Axis.prototype.onTickFormatChange = function (format) {\n        if (format) {\n            if (this.scale.tickFormat) {\n                this.tickFormatter = this.scale.tickFormat(10, format);\n            }\n        }\n        else {\n            if (this.scale.tickFormat) {\n                this.tickFormatter = this.scale.tickFormat(10, undefined);\n            }\n            else {\n                this.tickFormatter = undefined;\n            }\n        }\n    };\n    Object.defineProperty(Axis.prototype, \"title\", {\n        get: function () {\n            return this._title;\n        },\n        set: function (value) {\n            var oldTitle = this._title;\n            if (oldTitle !== value) {\n                if (oldTitle) {\n                    this.group.removeChild(oldTitle.node);\n                }\n                if (value) {\n                    value.node.rotation = -Math.PI / 2;\n                    this.group.appendChild(value.node);\n                }\n                this._title = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Axis.prototype, \"gridLength\", {\n        get: function () {\n            return this._gridLength;\n        },\n        set: function (value) {\n            // Was visible and now invisible, or was invisible and now visible.\n            if (this._gridLength && !value || !this._gridLength && value) {\n                this.groupSelection = this.groupSelection.remove().setData([]);\n            }\n            this._gridLength = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Axis.prototype, \"radialGrid\", {\n        get: function () {\n            return this._radialGrid;\n        },\n        set: function (value) {\n            if (this._radialGrid !== value) {\n                this._radialGrid = value;\n                this.groupSelection = this.groupSelection.remove().setData([]);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Creates/removes/updates the scene graph nodes that constitute the axis.\n     * Supposed to be called _manually_ after changing _any_ of the axis properties.\n     * This allows to bulk set axis properties before updating the nodes.\n     * The node changes made by this method are rendered on the next animation frame.\n     * We could schedule this method call automatically on the next animation frame\n     * when any of the axis properties change (the way we do when properties of scene graph's\n     * nodes change), but this will mean that we first wait for the next animation\n     * frame to make changes to the nodes of the axis, then wait for another animation\n     * frame to render those changes. It's nice to have everything update automatically,\n     * but this extra level of async indirection will not just introduce an unwanted delay,\n     * it will also make it harder to reason about the program.\n     */\n    Axis.prototype.update = function () {\n        var _this = this;\n        var _a = this, group = _a.group, scale = _a.scale, tick = _a.tick, label = _a.label, gridStyle = _a.gridStyle, requestedRange = _a.requestedRange;\n        var requestedRangeMin = Math.min(requestedRange[0], requestedRange[1]);\n        var requestedRangeMax = Math.max(requestedRange[0], requestedRange[1]);\n        var rotation = toRadians(this.rotation);\n        var parallelLabels = label.parallel;\n        var labelRotation = normalizeAngle360(toRadians(label.rotation));\n        group.translationX = this.translation.x;\n        group.translationY = this.translation.y;\n        group.rotation = rotation;\n        var halfBandwidth = (scale.bandwidth || 0) / 2;\n        // The side of the axis line to position the labels on.\n        // -1 = left (default)\n        //  1 = right\n        var sideFlag = label.mirrored ? 1 : -1;\n        // When labels are parallel to the axis line, the `parallelFlipFlag` is used to\n        // flip the labels to avoid upside-down text, when the axis is rotated\n        // such that it is in the right hemisphere, i.e. the angle of rotation\n        // is in the [0, ] interval.\n        // The rotation angle is normalized, so that we have an easier time checking\n        // if it's in the said interval. Since the axis is always rendered vertically\n        // and then rotated, zero rotation means 12 (not 3) o-clock.\n        // -1 = flip\n        //  1 = don't flip (default)\n        var parallelFlipRotation = normalizeAngle360(rotation);\n        var parallelFlipFlag = !labelRotation && parallelFlipRotation >= 0 && parallelFlipRotation <= Math.PI ? -1 : 1;\n        var regularFlipRotation = normalizeAngle360(rotation - Math.PI / 2);\n        // Flip if the axis rotation angle is in the top hemisphere.\n        var regularFlipFlag = !labelRotation && regularFlipRotation >= 0 && regularFlipRotation <= Math.PI ? -1 : 1;\n        var alignFlag = labelRotation >= 0 && labelRotation <= Math.PI ? -1 : 1;\n        var ticks = scale.ticks(this.tick.count);\n        var update = this.groupSelection.setData(ticks);\n        update.exit.remove();\n        var enter = update.enter.append(Group);\n        // Line auto-snaps to pixel grid if vertical or horizontal.\n        enter.append(Line).each(function (node) { return node.tag = Tags.Tick; });\n        if (this.gridLength) {\n            if (this.radialGrid) {\n                enter.append(Arc).each(function (node) { return node.tag = Tags.GridLine; });\n            }\n            else {\n                enter.append(Line).each(function (node) { return node.tag = Tags.GridLine; });\n            }\n        }\n        enter.append(Text);\n        var groupSelection = update.merge(enter);\n        groupSelection\n            .attrFn('translationY', function (_, datum) {\n            return Math.round(scale.convert(datum) + halfBandwidth);\n        })\n            .attrFn('visible', function (node) {\n            return node.translationY >= requestedRangeMin && node.translationY <= requestedRangeMax;\n        });\n        groupSelection.selectByTag(Tags.Tick)\n            .each(function (line) {\n            line.strokeWidth = tick.width;\n            line.stroke = tick.color;\n        })\n            .attr('x1', sideFlag * tick.size)\n            .attr('x2', 0)\n            .attr('y1', 0)\n            .attr('y2', 0);\n        if (this.gridLength && gridStyle.length) {\n            var styleCount_1 = gridStyle.length;\n            var gridLines = void 0;\n            if (this.radialGrid) {\n                var angularGridLength_1 = normalizeAngle360Inclusive(toRadians(this.gridLength));\n                gridLines = groupSelection.selectByTag(Tags.GridLine)\n                    .each(function (arc, datum) {\n                    var radius = Math.round(scale.convert(datum) + halfBandwidth);\n                    arc.centerX = 0;\n                    arc.centerY = scale.range[0] - radius;\n                    arc.endAngle = angularGridLength_1;\n                    arc.radiusX = radius;\n                    arc.radiusY = radius;\n                });\n            }\n            else {\n                gridLines = groupSelection.selectByTag(Tags.GridLine)\n                    .each(function (line) {\n                    line.x1 = 0;\n                    line.x2 = -sideFlag * _this.gridLength;\n                    line.y1 = 0;\n                    line.y2 = 0;\n                    line.visible = Math.abs(line.parent.translationY - scale.range[0]) > 1;\n                });\n            }\n            gridLines.each(function (gridLine, _, index) {\n                var style = gridStyle[index % styleCount_1];\n                gridLine.stroke = style.stroke;\n                gridLine.strokeWidth = tick.width;\n                gridLine.lineDash = style.lineDash;\n                gridLine.fill = undefined;\n            });\n        }\n        var tickFormatter = this.tickFormatter;\n        // `ticks instanceof NumericTicks` doesn't work here, so we feature detect.\n        var fractionDigits = ticks.fractionDigits >= 0 ? ticks.fractionDigits : 0;\n        var labelSelection = groupSelection.selectByClass(Text)\n            .each(function (node, datum, index) {\n            node.fontStyle = label.fontStyle;\n            node.fontWeight = label.fontWeight;\n            node.fontSize = label.fontSize;\n            node.fontFamily = label.fontFamily;\n            node.fill = label.color;\n            node.textBaseline = parallelLabels && !labelRotation\n                ? (sideFlag * parallelFlipFlag === -1 ? 'hanging' : 'bottom')\n                : 'middle';\n            node.text = label.formatter\n                ? label.formatter({\n                    value: fractionDigits >= 0 ? datum : String(datum),\n                    index: index,\n                    fractionDigits: fractionDigits,\n                    formatter: tickFormatter\n                })\n                : fractionDigits\n                    // the `datum` is a floating point number\n                    ? datum.toFixed(fractionDigits)\n                    // the `datum` is an integer, a string or an object\n                    : tickFormatter\n                        ? tickFormatter(datum)\n                        : String(datum);\n            node.textAlign = parallelLabels\n                ? labelRotation ? (sideFlag * alignFlag === -1 ? 'end' : 'start') : 'center'\n                : sideFlag * regularFlipFlag === -1 ? 'end' : 'start';\n        });\n        var labelX = sideFlag * (tick.size + label.padding);\n        var autoRotation = parallelLabels\n            ? parallelFlipFlag * Math.PI / 2\n            : (regularFlipFlag === -1 ? Math.PI : 0);\n        labelSelection.each(function (label) {\n            label.x = labelX;\n            label.rotationCenterX = labelX;\n            label.rotation = autoRotation + labelRotation;\n        });\n        this.groupSelection = groupSelection;\n        // Render axis line.\n        var lineNode = this.lineNode;\n        lineNode.x1 = 0;\n        lineNode.x2 = 0;\n        lineNode.y1 = requestedRange[0];\n        lineNode.y2 = requestedRange[1];\n        lineNode.strokeWidth = this.line.width;\n        lineNode.stroke = this.line.color;\n        lineNode.visible = ticks.length > 0;\n        var title = this.title;\n        var titleVisible = false;\n        if (title && title.enabled) {\n            titleVisible = true;\n            var padding = title.padding.bottom;\n            var titleNode = title.node;\n            var bbox = this.computeBBox({ excludeTitle: true });\n            var titleRotationFlag = sideFlag === -1 && parallelFlipRotation > Math.PI && parallelFlipRotation < Math.PI * 2 ? -1 : 1;\n            titleNode.rotation = titleRotationFlag * sideFlag * Math.PI / 2;\n            titleNode.x = titleRotationFlag * sideFlag * (lineNode.y1 + lineNode.y2) / 2;\n            titleNode.x = titleRotationFlag * sideFlag * (requestedRange[0] + requestedRange[1]) / 2;\n            if (sideFlag === -1) {\n                titleNode.y = titleRotationFlag * (-padding - bbox.width + Math.max(bbox.x + bbox.width, 0));\n            }\n            else {\n                titleNode.y = -padding - bbox.width - Math.min(bbox.x, 0);\n            }\n            // title.text = `Axis Title: ${sideFlag} ${toDegrees(parallelFlipRotation).toFixed(0)} ${titleRotationFlag}`;\n            titleNode.textBaseline = titleRotationFlag === 1 ? 'bottom' : 'top';\n        }\n        if (title) {\n            title.node.visible = titleVisible;\n        }\n        // debug (bbox)\n        // const bbox = this.computeBBox();\n        // const bboxRect = this.bboxRect;\n        // bboxRect.x = bbox.x;\n        // bboxRect.y = bbox.y;\n        // bboxRect.width = bbox.width;\n        // bboxRect.height = bbox.height;\n    };\n    Axis.prototype.computeBBox = function (options) {\n        var _a = this, title = _a.title, lineNode = _a.lineNode;\n        var labels = this.groupSelection.selectByClass(Text);\n        var left = Infinity;\n        var right = -Infinity;\n        var top = Infinity;\n        var bottom = -Infinity;\n        labels.each(function (label) {\n            // The label itself is rotated, but not translated, the group that\n            // contains it is. So to capture the group transform in the label bbox\n            // calculation we combine the transform matrices of the label and the group.\n            // Depending on the timing of the `axis.computeBBox()` method call, we may\n            // not have the group's and the label's transform matrices updated yet (because\n            // the transform matrix is not recalculated whenever a node's transform attributes\n            // change, instead it's marked for recalculation on the next frame by setting\n            // the node's `dirtyTransform` flag to `true`), so we force them to update\n            // right here by calling `computeTransformMatrix`.\n            label.computeTransformMatrix();\n            var matrix = Matrix.flyweight(label.matrix);\n            var group = label.parent;\n            group.computeTransformMatrix();\n            matrix.preMultiplySelf(group.matrix);\n            var labelBBox = label.computeBBox();\n            if (labelBBox) {\n                var bbox = matrix.transformBBox(labelBBox);\n                left = Math.min(left, bbox.x);\n                right = Math.max(right, bbox.x + bbox.width);\n                top = Math.min(top, bbox.y);\n                bottom = Math.max(bottom, bbox.y + bbox.height);\n            }\n        });\n        if (title && title.enabled && (!options || !options.excludeTitle)) {\n            var label = title.node;\n            label.computeTransformMatrix();\n            var matrix = Matrix.flyweight(label.matrix);\n            var labelBBox = label.computeBBox();\n            if (labelBBox) {\n                var bbox = matrix.transformBBox(labelBBox);\n                left = Math.min(left, bbox.x);\n                right = Math.max(right, bbox.x + bbox.width);\n                top = Math.min(top, bbox.y);\n                bottom = Math.max(bottom, bbox.y + bbox.height);\n            }\n        }\n        left = Math.min(left, 0);\n        right = Math.max(right, 0);\n        top = Math.min(top, lineNode.y1, lineNode.y2);\n        bottom = Math.max(bottom, lineNode.y1, lineNode.y2);\n        return new BBox(left, top, right - left, bottom - top);\n    };\n    return Axis;\n}());\nexport { Axis };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Axis } from \"../axis\";\nexport var ChartAxisDirection;\n(function (ChartAxisDirection) {\n    ChartAxisDirection[\"X\"] = \"x\";\n    ChartAxisDirection[\"Y\"] = \"y\"; // means 'radius' in polar charts\n})(ChartAxisDirection || (ChartAxisDirection = {}));\nexport function flipChartAxisDirection(direction) {\n    if (direction === ChartAxisDirection.X) {\n        return ChartAxisDirection.Y;\n    }\n    else {\n        return ChartAxisDirection.X;\n    }\n}\nexport var ChartAxisPosition;\n(function (ChartAxisPosition) {\n    ChartAxisPosition[\"Top\"] = \"top\";\n    ChartAxisPosition[\"Right\"] = \"right\";\n    ChartAxisPosition[\"Bottom\"] = \"bottom\";\n    ChartAxisPosition[\"Left\"] = \"left\";\n    ChartAxisPosition[\"Angle\"] = \"angle\";\n    ChartAxisPosition[\"Radius\"] = \"radius\";\n})(ChartAxisPosition || (ChartAxisPosition = {}));\nvar ChartAxis = /** @class */ (function (_super) {\n    __extends(ChartAxis, _super);\n    function ChartAxis() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.keys = [];\n        _this.boundSeries = [];\n        return _this;\n    }\n    Object.defineProperty(ChartAxis.prototype, \"type\", {\n        get: function () {\n            return this.constructor.type || '';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartAxis.prototype, \"position\", {\n        get: function () {\n            return this._position;\n        },\n        set: function (value) {\n            if (this._position !== value) {\n                this._position = value;\n                switch (value) {\n                    case ChartAxisPosition.Top:\n                        this.direction = ChartAxisDirection.X;\n                        this.rotation = -90;\n                        this.label.mirrored = true;\n                        this.label.parallel = true;\n                        break;\n                    case ChartAxisPosition.Right:\n                        this.direction = ChartAxisDirection.Y;\n                        this.rotation = 0;\n                        this.label.mirrored = true;\n                        this.label.parallel = false;\n                        break;\n                    case ChartAxisPosition.Bottom:\n                        this.direction = ChartAxisDirection.X;\n                        this.rotation = -90;\n                        this.label.mirrored = false;\n                        this.label.parallel = true;\n                        break;\n                    case ChartAxisPosition.Left:\n                        this.direction = ChartAxisDirection.Y;\n                        this.rotation = 0;\n                        this.label.mirrored = false;\n                        this.label.parallel = false;\n                        break;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ChartAxis;\n}(Axis));\nexport { ChartAxis };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { BandScale } from \"../../scale/bandScale\";\nimport { ChartAxis } from \"../chartAxis\";\nvar CategoryAxis = /** @class */ (function (_super) {\n    __extends(CategoryAxis, _super);\n    function CategoryAxis() {\n        var _this = this;\n        var scale = new BandScale();\n        scale.paddingInner = 0.2;\n        scale.paddingOuter = 0.3;\n        _this = _super.call(this, scale) || this;\n        return _this;\n    }\n    CategoryAxis.className = 'CategoryAxis';\n    CategoryAxis.type = 'category';\n    return CategoryAxis;\n}(ChartAxis));\nexport { CategoryAxis };\n","// Custom `Array.find` implementation for legacy browsers.\nexport function find(arr, predicate) {\n    for (var i = 0, ln = arr.length; i < ln; i++) {\n        var value = arr[i];\n        if (predicate(value, i, arr)) {\n            return value;\n        }\n    }\n}\n/**\n * Returns the minimum and maximum value in the given iterable using natural order.\n * If the iterable contains no comparable values, returns `undefined`.\n * @param values\n */\nexport function extent(values) {\n    var n = values.length;\n    var i = -1;\n    var value;\n    var min;\n    var max;\n    while (++i < n) { // Find the first comparable finite value.\n        if ((value = values[i]) != null && value >= value) {\n            min = max = value;\n            while (++i < n) { // Compare the remaining values.\n                if ((value = values[i]) != null) {\n                    if (min > value) {\n                        min = value;\n                    }\n                    if (max < value) {\n                        max = value;\n                    }\n                }\n            }\n        }\n    }\n    return typeof min === 'undefined' || typeof max === 'undefined' ? undefined : [min, max];\n}\nexport function finiteExtent(values) {\n    var n = values.length;\n    var i = -1;\n    var value;\n    var min;\n    var max;\n    while (++i < n) { // Find the first comparable finite value.\n        if ((value = values[i]) != null && value >= value && isFinite(value)) {\n            min = max = value;\n            while (++i < n) { // Compare the remaining values.\n                if ((value = values[i]) != null && isFinite(value)) {\n                    if (min > value) {\n                        min = value;\n                    }\n                    if (max < value) {\n                        max = value;\n                    }\n                }\n            }\n        }\n    }\n    return min === undefined || max === undefined ? undefined : [min, max];\n}\n/**\n * This method will only return `undefined` if there's not a single valid finite number present\n * in the given array of values. Date values will be converted to timestamps.\n * @param values\n */\nexport function numericExtent(values) {\n    var calculatedExtent = finiteExtent(values);\n    if (typeof calculatedExtent === 'undefined') {\n        return;\n    }\n    var a = calculatedExtent[0], b = calculatedExtent[1];\n    var min = a instanceof Date ? a.getTime() : a;\n    var max = b instanceof Date ? b.getTime() : b;\n    if (typeof min === 'number' && isFinite(min) && typeof max === 'number' && isFinite(max)) {\n        return [min, max];\n    }\n}\n/**\n * finds the min and max using a process appropriate for stacked values. Ie,\n * summing up the positive and negative numbers, and returning the totals of each\n */\nexport function findMinMax(values) {\n    var min = 0;\n    var max = 0;\n    for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n        var value = values_1[_i];\n        if (value < 0) {\n            min += value;\n        }\n        else {\n            max += value;\n        }\n    }\n    return { min: min, max: max };\n}\nexport function findLargestMinMax(totals) {\n    var min = 0;\n    var max = 0;\n    for (var _i = 0, totals_1 = totals; _i < totals_1.length; _i++) {\n        var total = totals_1[_i];\n        if (total.min < min) {\n            min = total.min;\n        }\n        if (total.max > max) {\n            max = total.max;\n        }\n    }\n    return { min: min, max: max };\n}\n","import { find } from \"../util/array\";\n/**\n * The tree layout is calculated in abstract x/y coordinates, where the root is at (0, 0)\n * and the tree grows downward from the root.\n */\nvar TreeNode = /** @class */ (function () {\n    function TreeNode(label, parent, number) {\n        if (label === void 0) { label = ''; }\n        if (number === void 0) { number = 0; }\n        this.x = 0;\n        this.y = 0;\n        this.subtreeLeft = NaN;\n        this.subtreeRight = NaN;\n        this.screenX = 0;\n        this.screenY = 0;\n        this.children = [];\n        this.leafCount = 0;\n        this.prelim = 0;\n        this.mod = 0;\n        this.ancestor = this;\n        this.change = 0;\n        this.shift = 0;\n        this.label = label;\n        // screenX and screenY are meant to be recomputed from (layout) x and y\n        // when the tree is resized (without performing another layout)\n        this.parent = parent;\n        this.depth = parent ? parent.depth + 1 : 0;\n        this.number = number;\n    }\n    TreeNode.prototype.getLeftSibling = function () {\n        return this.number > 0 && this.parent ? this.parent.children[this.number - 1] : undefined;\n    };\n    TreeNode.prototype.getLeftmostSibling = function () {\n        return this.number > 0 && this.parent ? this.parent.children[0] : undefined;\n    };\n    // traverse the left contour of a subtree, return the successor of v on this contour\n    TreeNode.prototype.nextLeft = function () {\n        return this.children ? this.children[0] : this.thread;\n    };\n    // traverse the right contour of a subtree, return the successor of v on this contour\n    TreeNode.prototype.nextRight = function () {\n        return this.children ? this.children[this.children.length - 1] : this.thread;\n    };\n    TreeNode.prototype.getSiblings = function () {\n        var _this = this;\n        return this.parent ? this.parent.children.filter(function (_, i) { return i !== _this.number; }) : [];\n    };\n    return TreeNode;\n}());\n/**\n * Converts an array of ticks, where each tick has an array of labels, to a label tree.\n * If `pad` is `true`, will ensure that every branch matches the depth of the tree by\n * creating empty labels.\n */\nexport function ticksToTree(ticks, pad) {\n    if (pad === void 0) { pad = true; }\n    var root = new TreeNode();\n    var depth = 0;\n    if (pad) {\n        ticks.forEach(function (tick) { return depth = Math.max(depth, tick.labels.length); });\n    }\n    ticks.forEach(function (tick) {\n        if (pad) {\n            while (tick.labels.length < depth) {\n                tick.labels.unshift('');\n            }\n        }\n        insertTick(root, tick);\n    });\n    return root;\n}\nfunction insertTick(root, tick) {\n    var pathParts = tick.labels.slice().reverse(); // path elements from root to leaf label\n    var lastPartIndex = pathParts.length - 1;\n    pathParts.forEach(function (pathPart, partIndex) {\n        var children = root.children;\n        var existingNode = find(children, function (child) { return child.label === pathPart; });\n        var isNotLeaf = partIndex !== lastPartIndex;\n        if (existingNode && isNotLeaf) { // the isNotLeaf check is to allow duplicate leafs\n            root = existingNode;\n        }\n        else {\n            var node = new TreeNode(pathPart, root);\n            node.number = children.length;\n            children.push(node);\n            if (isNotLeaf) {\n                root = node;\n            }\n        }\n    });\n}\n// Shift the subtree.\nfunction moveSubtree(wm, wp, shift) {\n    var subtrees = wp.number - wm.number;\n    var ratio = shift / subtrees;\n    wp.change -= ratio;\n    wp.shift += shift;\n    wm.change += ratio;\n    wp.prelim += shift;\n    wp.mod += shift;\n}\nfunction ancestor(vim, v, defaultAncestor) {\n    return v.getSiblings().indexOf(vim.ancestor) >= 0 ? vim.ancestor : defaultAncestor;\n}\n// Spaces out the children.\nfunction executeShifts(v) {\n    var children = v.children;\n    if (children) {\n        var shift = 0;\n        var change = 0;\n        for (var i = children.length - 1; i >= 0; i--) {\n            var w = children[i];\n            w.prelim += shift;\n            w.mod += shift;\n            change += w.change;\n            shift += w.shift + change;\n        }\n    }\n}\n// Moves current subtree with v as the root if some nodes are conflicting in space.\nfunction apportion(v, defaultAncestor, distance) {\n    var w = v.getLeftSibling();\n    if (w) {\n        var vop = v;\n        var vip = v;\n        var vim = w;\n        var vom = vip.getLeftmostSibling();\n        var sip = vip.mod;\n        var sop = vop.mod;\n        var sim = vim.mod;\n        var som = vom.mod;\n        while (vim.nextRight() && vip.nextLeft()) {\n            vim = vim.nextRight();\n            vip = vip.nextLeft();\n            vom = vom.nextLeft();\n            vop = vop.nextRight();\n            vop.ancestor = v;\n            var shift = (vim.prelim + sim) - (vip.prelim + sip) + distance;\n            if (shift > 0) {\n                moveSubtree(ancestor(vim, v, defaultAncestor), v, shift);\n                sip += shift;\n                sop += shift;\n            }\n            sim += vim.mod;\n            sip += vip.mod;\n            som += vom.mod;\n            sop += vop.mod;\n        }\n        if (vim.nextRight() && !vop.nextRight()) {\n            vop.thread = vim.nextRight();\n            vop.mod += sim - sop;\n        }\n        else {\n            if (vip.nextLeft() && !vom.nextLeft()) {\n                vom.thread = vip.nextLeft();\n                vom.mod += sip - som;\n            }\n            defaultAncestor = v;\n        }\n    }\n    return defaultAncestor;\n}\n// Compute the preliminary x-coordinate of node and its children (recursively).\nfunction firstWalk(node, distance) {\n    var children = node.children;\n    if (children.length) {\n        var defaultAncestor_1 = children[0];\n        children.forEach(function (child) {\n            firstWalk(child, distance);\n            defaultAncestor_1 = apportion(child, defaultAncestor_1, distance);\n        });\n        executeShifts(node);\n        var midpoint = (children[0].prelim + children[children.length - 1].prelim) / 2;\n        var leftSibling = node.getLeftSibling();\n        if (leftSibling) {\n            node.prelim = leftSibling.prelim + distance;\n            node.mod = node.prelim - midpoint;\n        }\n        else {\n            node.prelim = midpoint;\n        }\n    }\n    else {\n        var leftSibling = node.getLeftSibling();\n        node.prelim = leftSibling ? leftSibling.prelim + distance : 0;\n    }\n}\nvar Dimensions = /** @class */ (function () {\n    function Dimensions() {\n        this.top = Infinity;\n        this.right = -Infinity;\n        this.bottom = -Infinity;\n        this.left = Infinity;\n    }\n    Dimensions.prototype.update = function (node, xy) {\n        var _a = xy(node), x = _a.x, y = _a.y;\n        if (x > this.right) {\n            this.right = x;\n        }\n        if (x < this.left) {\n            this.left = x;\n        }\n        if (y > this.bottom) {\n            this.bottom = y;\n        }\n        if (y < this.top) {\n            this.top = y;\n        }\n    };\n    return Dimensions;\n}());\nfunction secondWalk(v, m, layout) {\n    v.x = v.prelim + m;\n    v.y = v.depth;\n    layout.update(v);\n    v.children.forEach(function (w) { return secondWalk(w, m + v.mod, layout); });\n}\n// After the second walk the parent nodes are positioned at the center of their immediate children.\n// If we want the parent nodes to be positioned at the center of the subtree for which they are roots,\n// we need a third walk to adjust the positions.\nfunction thirdWalk(v) {\n    var children = v.children;\n    var leafCount = 0;\n    children.forEach(function (w) {\n        thirdWalk(w);\n        if (w.children.length) {\n            leafCount += w.leafCount;\n        }\n        else {\n            leafCount++;\n        }\n    });\n    v.leafCount = leafCount;\n    if (children.length) {\n        v.subtreeLeft = children[0].subtreeLeft;\n        v.subtreeRight = children[v.children.length - 1].subtreeRight;\n        v.x = (v.subtreeLeft + v.subtreeRight) / 2;\n    }\n    else {\n        v.subtreeLeft = v.x;\n        v.subtreeRight = v.x;\n    }\n}\nexport function treeLayout(root) {\n    var layout = new TreeLayout;\n    firstWalk(root, 1);\n    secondWalk(root, -root.prelim, layout);\n    thirdWalk(root);\n    return layout;\n}\nvar TreeLayout = /** @class */ (function () {\n    function TreeLayout() {\n        this.dimensions = new Dimensions;\n        this.leafCount = 0;\n        this.nodes = [];\n        // One might want to process leaf nodes separately from the rest of the tree.\n        // For example, position labels corresponding to leafs vertically, rather than horizontally.\n        this.leafNodes = [];\n        this.nonLeafNodes = [];\n        this.depth = 0;\n    }\n    TreeLayout.prototype.update = function (node) {\n        this.dimensions.update(node, function (node) { return ({ x: node.x, y: node.y }); });\n        if (!node.children.length) {\n            this.leafCount++;\n            this.leafNodes.push(node);\n        }\n        else {\n            this.nonLeafNodes.push(node);\n        }\n        if (node.depth > this.depth) {\n            this.depth = node.depth;\n        }\n        this.nodes.push(node);\n    };\n    TreeLayout.prototype.resize = function (width, height, shiftX, shiftY, flipX) {\n        if (shiftX === void 0) { shiftX = 0; }\n        if (shiftY === void 0) { shiftY = 0; }\n        if (flipX === void 0) { flipX = false; }\n        var xSteps = this.leafCount - 1;\n        var ySteps = this.depth;\n        var dimensions = this.dimensions;\n        var scalingX = 1;\n        var scalingY = 1;\n        if (width > 0 && xSteps) {\n            var existingSpacingX = (dimensions.right - dimensions.left) / xSteps;\n            var desiredSpacingX = width / xSteps;\n            scalingX = desiredSpacingX / existingSpacingX;\n            if (flipX) {\n                scalingX = -scalingX;\n            }\n        }\n        if (height > 0 && ySteps) {\n            var existingSpacingY = (dimensions.bottom - dimensions.top) / ySteps;\n            var desiredSpacingY = height / ySteps;\n            scalingY = desiredSpacingY / existingSpacingY;\n        }\n        var screenDimensions = new Dimensions();\n        this.nodes.forEach(function (node) {\n            node.screenX = node.x * scalingX;\n            node.screenY = node.y * scalingY;\n            screenDimensions.update(node, function (node) { return ({ x: node.screenX, y: node.screenY }); });\n        });\n        // Normalize so that root top and leftmost leaf left start at zero.\n        var offsetX = -screenDimensions.left;\n        var offsetY = -screenDimensions.top;\n        this.nodes.forEach(function (node) {\n            node.screenX += offsetX + shiftX;\n            node.screenY += offsetY + shiftY;\n        });\n    };\n    return TreeLayout;\n}());\nexport { TreeLayout };\nfunction logTree(root, formatter) {\n    root.children.forEach(function (child) { return logTree(child, formatter); });\n    if (formatter) {\n        console.log(formatter(root));\n    }\n    else {\n        console.log(root);\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Group } from \"../../scene/group\";\nimport { Selection } from \"../../scene/selection\";\nimport { Line } from \"../../scene/shape/line\";\nimport { normalizeAngle360, toRadians } from \"../../util/angle\";\nimport { Text } from \"../../scene/shape/text\";\nimport { BBox } from \"../../scene/bbox\";\nimport { Matrix } from \"../../scene/matrix\";\n// import { Rect } from \"../../scene/shape/rect\"; debug (bbox)\nimport { BandScale } from \"../../scale/bandScale\";\nimport { ticksToTree, treeLayout } from \"../../layout/tree\";\nimport { AxisLabel } from \"../../axis\";\nimport { ChartAxis } from \"../chartAxis\";\nimport { createId } from \"../../util/id\";\nvar GroupedCategoryAxisLabel = /** @class */ (function (_super) {\n    __extends(GroupedCategoryAxisLabel, _super);\n    function GroupedCategoryAxisLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.grid = false;\n        return _this;\n    }\n    return GroupedCategoryAxisLabel;\n}(AxisLabel));\n/**\n * A general purpose linear axis with no notion of orientation.\n * The axis is always rendered vertically, with horizontal labels positioned to the left\n * of the axis line by default. The axis can be {@link rotation | rotated} by an arbitrary angle,\n * so that it can be used as a top, right, bottom, left, radial or any other kind\n * of linear axis.\n * The generic `D` parameter is the type of the domain of the axis' scale.\n * The output range of the axis' scale is always numeric (screen coordinates).\n */\nvar GroupedCategoryAxis = /** @class */ (function (_super) {\n    __extends(GroupedCategoryAxis, _super);\n    function GroupedCategoryAxis() {\n        var _this = _super.call(this, new BandScale()) || this;\n        _this.id = createId(_this);\n        _this.tickScale = new BandScale();\n        _this.group = new Group();\n        _this.longestSeparatorLength = 0;\n        _this.translation = {\n            x: 0,\n            y: 0\n        };\n        /**\n         * Axis rotation angle in degrees.\n         */\n        _this.rotation = 0;\n        _this.line = {\n            width: 1,\n            color: 'rgba(195, 195, 195, 1)'\n        };\n        // readonly tick = new AxisTick();\n        _this.label = new GroupedCategoryAxisLabel();\n        /**\n         * The color of the labels.\n         * Use `undefined` rather than `rgba(0, 0, 0, 0)` to make labels invisible.\n         */\n        _this.labelColor = 'rgba(87, 87, 87, 1)';\n        var _a = _this, group = _a.group, scale = _a.scale, tickScale = _a.tickScale;\n        scale.paddingOuter = 0.1;\n        scale.paddingInner = scale.paddingOuter * 2;\n        _this.requestedRange = scale.range.slice();\n        tickScale.paddingInner = 1;\n        tickScale.paddingOuter = 0;\n        _this.gridLineSelection = Selection.select(group).selectAll();\n        _this.axisLineSelection = Selection.select(group).selectAll();\n        _this.separatorSelection = Selection.select(group).selectAll();\n        _this.labelSelection = Selection.select(group).selectAll();\n        return _this;\n        // this.group.append(this.bboxRect); // debug (bbox)\n    }\n    Object.defineProperty(GroupedCategoryAxis.prototype, \"domain\", {\n        get: function () {\n            return this.scale.domain;\n        },\n        set: function (value) {\n            this.scale.domain = value;\n            var tickTree = ticksToTree(value);\n            this.tickTreeLayout = treeLayout(tickTree);\n            var domain = value.slice();\n            domain.push('');\n            this.tickScale.domain = domain;\n            this.resizeTickTree();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GroupedCategoryAxis.prototype, \"range\", {\n        get: function () {\n            return this.requestedRange.slice();\n        },\n        set: function (value) {\n            this.requestedRange = value.slice();\n            this.updateRange();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    GroupedCategoryAxis.prototype.updateRange = function () {\n        var _a = this, rr = _a.requestedRange, vr = _a.visibleRange, scale = _a.scale;\n        var span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n        var shift = span * vr[0];\n        var start = rr[0] - shift;\n        this.tickScale.range = scale.range = [start, start + span];\n        this.resizeTickTree();\n    };\n    GroupedCategoryAxis.prototype.resizeTickTree = function () {\n        var s = this.scale;\n        var range = s.domain.length ? [s.convert(s.domain[0]), s.convert(s.domain[s.domain.length - 1])] : s.range;\n        var layout = this.tickTreeLayout;\n        var lineHeight = this.lineHeight;\n        if (layout) {\n            layout.resize(Math.abs(range[1] - range[0]), layout.depth * lineHeight, (Math.min(range[0], range[1]) || 0) + (s.bandwidth || 0) / 2, -layout.depth * lineHeight, (range[1] - range[0]) < 0);\n        }\n    };\n    Object.defineProperty(GroupedCategoryAxis.prototype, \"lineHeight\", {\n        get: function () {\n            return this.label.fontSize * 1.5;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GroupedCategoryAxis.prototype, \"gridLength\", {\n        get: function () {\n            return this._gridLength;\n        },\n        /**\n         * The length of the grid. The grid is only visible in case of a non-zero value.\n         */\n        set: function (value) {\n            // Was visible and now invisible, or was invisible and now visible.\n            if (this._gridLength && !value || !this._gridLength && value) {\n                this.gridLineSelection = this.gridLineSelection.remove().setData([]);\n                this.labelSelection = this.labelSelection.remove().setData([]);\n            }\n            this._gridLength = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Creates/removes/updates the scene graph nodes that constitute the axis.\n     * Supposed to be called _manually_ after changing _any_ of the axis properties.\n     * This allows to bulk set axis properties before updating the nodes.\n     * The node changes made by this method are rendered on the next animation frame.\n     * We could schedule this method call automatically on the next animation frame\n     * when any of the axis properties change (the way we do when properties of scene graph's\n     * nodes change), but this will mean that we first wait for the next animation\n     * frame to make changes to the nodes of the axis, then wait for another animation\n     * frame to render those changes. It's nice to have everything update automatically,\n     * but this extra level of async indirection will not just introduce an unwanted delay,\n     * it will also make it harder to reason about the program.\n     */\n    GroupedCategoryAxis.prototype.update = function () {\n        var _this = this;\n        var _a = this, group = _a.group, scale = _a.scale, label = _a.label, tickScale = _a.tickScale, requestedRange = _a.requestedRange;\n        var rangeStart = scale.range[0];\n        var rangeEnd = scale.range[1];\n        var rangeLength = Math.abs(rangeEnd - rangeStart);\n        var bandwidth = (rangeLength / scale.domain.length) || 0;\n        var parallelLabels = label.parallel;\n        var rotation = toRadians(this.rotation);\n        var isHorizontal = Math.abs(Math.cos(rotation)) < 1e-8;\n        var labelRotation = normalizeAngle360(toRadians(this.label.rotation));\n        group.translationX = this.translation.x;\n        group.translationY = this.translation.y;\n        group.rotation = rotation;\n        var title = this.title;\n        // The Text `node` of the Caption is not used to render the title of the grouped category axis.\n        // The phantom root of the tree layout is used instead.\n        if (title) {\n            title.node.visible = false;\n        }\n        var lineHeight = this.lineHeight;\n        // Render ticks and labels.\n        var tickTreeLayout = this.tickTreeLayout;\n        var labels = scale.ticks();\n        var treeLabels = tickTreeLayout ? tickTreeLayout.nodes : [];\n        var isLabelTree = tickTreeLayout ? tickTreeLayout.depth > 1 : false;\n        var ticks = tickScale.ticks();\n        // The side of the axis line to position the labels on.\n        // -1 = left (default)\n        //  1 = right\n        var sideFlag = label.mirrored ? 1 : -1;\n        // When labels are parallel to the axis line, the `parallelFlipFlag` is used to\n        // flip the labels to avoid upside-down text, when the axis is rotated\n        // such that it is in the right hemisphere, i.e. the angle of rotation\n        // is in the [0, ] interval.\n        // The rotation angle is normalized, so that we have an easier time checking\n        // if it's in the said interval. Since the axis is always rendered vertically\n        // and then rotated, zero rotation means 12 (not 3) o-clock.\n        // -1 = flip\n        //  1 = don't flip (default)\n        var parallelFlipRotation = normalizeAngle360(rotation);\n        var parallelFlipFlag = (!labelRotation && parallelFlipRotation >= 0 && parallelFlipRotation <= Math.PI) ? -1 : 1;\n        var regularFlipRotation = normalizeAngle360(rotation - Math.PI / 2);\n        // Flip if the axis rotation angle is in the top hemisphere.\n        var regularFlipFlag = (!labelRotation && regularFlipRotation >= 0 && regularFlipRotation <= Math.PI) ? -1 : 1;\n        var updateGridLines = this.gridLineSelection.setData(this.gridLength ? ticks : []);\n        updateGridLines.exit.remove();\n        var enterGridLines = updateGridLines.enter.append(Line);\n        var gridLineSelection = updateGridLines.merge(enterGridLines);\n        var updateLabels = this.labelSelection.setData(treeLabels);\n        updateLabels.exit.remove();\n        var enterLabels = updateLabels.enter.append(Text);\n        var labelSelection = updateLabels.merge(enterLabels);\n        var labelFormatter = label.formatter;\n        var maxLeafLabelWidth = 0;\n        labelSelection\n            .each(function (node, datum, index) {\n            node.fontStyle = label.fontStyle;\n            node.fontWeight = label.fontWeight;\n            node.fontSize = label.fontSize;\n            node.fontFamily = label.fontFamily;\n            node.fill = label.color;\n            node.textBaseline = parallelFlipFlag === -1 ? 'bottom' : 'hanging';\n            // label.textBaseline = parallelLabels && !labelRotation\n            //     ? (sideFlag * parallelFlipFlag === -1 ? 'hanging' : 'bottom')\n            //     : 'middle';\n            node.textAlign = 'center';\n            node.translationX = datum.screenY - label.fontSize * 0.25;\n            node.translationY = datum.screenX;\n            if (title && index === 0) { // use the phantom root as the axis title\n                node.text = title.text;\n                node.fontSize = title.fontSize;\n                node.fontStyle = title.fontStyle;\n                node.fontWeight = title.fontWeight;\n                node.fontFamily = title.fontFamily;\n                node.textBaseline = 'hanging';\n                node.visible = labels.length > 0;\n            }\n            else {\n                node.text = labelFormatter\n                    ? labelFormatter({\n                        value: String(datum.label),\n                        index: index\n                    })\n                    : String(datum.label);\n                node.visible =\n                    datum.screenX >= requestedRange[0] &&\n                        datum.screenX <= requestedRange[1];\n            }\n            var bbox = node.computeBBox();\n            if (bbox && bbox.width > maxLeafLabelWidth) {\n                maxLeafLabelWidth = bbox.width;\n            }\n        });\n        var labelX = sideFlag * label.padding;\n        var autoRotation = parallelLabels\n            ? parallelFlipFlag * Math.PI / 2\n            : (regularFlipFlag === -1 ? Math.PI : 0);\n        var labelGrid = this.label.grid;\n        var separatorData = [];\n        labelSelection.each(function (label, datum, index) {\n            label.x = labelX;\n            label.rotationCenterX = labelX;\n            if (!datum.children.length) {\n                label.rotation = labelRotation;\n                label.textAlign = 'end';\n                label.textBaseline = 'middle';\n            }\n            else {\n                label.translationX -= maxLeafLabelWidth - lineHeight + _this.label.padding;\n                if (isHorizontal) {\n                    label.rotation = autoRotation;\n                }\n                else {\n                    label.rotation = -Math.PI / 2;\n                }\n            }\n            // Calculate positions of label separators for all nodes except the root.\n            // Each separator is placed to the top of the current label.\n            if (datum.parent && isLabelTree) {\n                var y = !datum.children.length\n                    ? datum.screenX - bandwidth / 2\n                    : datum.screenX - datum.leafCount * bandwidth / 2;\n                if (!datum.children.length) {\n                    if ((datum.number !== datum.children.length - 1) || labelGrid) {\n                        separatorData.push({\n                            y: y,\n                            x1: 0,\n                            x2: -maxLeafLabelWidth - _this.label.padding * 2,\n                            toString: function () { return String(index); }\n                        });\n                    }\n                }\n                else {\n                    var x = -maxLeafLabelWidth - _this.label.padding * 2 + datum.screenY;\n                    separatorData.push({\n                        y: y,\n                        x1: x + lineHeight,\n                        x2: x,\n                        toString: function () { return String(index); }\n                    });\n                }\n            }\n        });\n        // Calculate the position of the long separator on the far bottom of the axis.\n        var minX = 0;\n        separatorData.forEach(function (d) { return minX = Math.min(minX, d.x2); });\n        this.longestSeparatorLength = Math.abs(minX);\n        separatorData.push({\n            y: Math.max(rangeStart, rangeEnd),\n            x1: 0,\n            x2: minX,\n            toString: function () { return String(separatorData.length); }\n        });\n        var updateSeparators = this.separatorSelection.setData(separatorData);\n        updateSeparators.exit.remove();\n        var enterSeparators = updateSeparators.enter.append(Line);\n        var separatorSelection = updateSeparators.merge(enterSeparators);\n        this.separatorSelection = separatorSelection;\n        var epsilon = 0.0000001;\n        separatorSelection.each(function (line, datum, i) {\n            line.x1 = datum.x1;\n            line.x2 = datum.x2;\n            line.y1 = datum.y;\n            line.y2 = datum.y;\n            line.visible = datum.y >= requestedRange[0] - epsilon && datum.y <= requestedRange[1] + epsilon;\n            line.stroke = _this.tick.color;\n            line.fill = undefined;\n            line.strokeWidth = 1;\n        });\n        this.gridLineSelection = gridLineSelection;\n        this.labelSelection = labelSelection;\n        // Render axis lines.\n        var lineCount = tickTreeLayout ? tickTreeLayout.depth + 1 : 1;\n        var lines = [];\n        for (var i = 0; i < lineCount; i++) {\n            lines.push(i);\n        }\n        var updateAxisLines = this.axisLineSelection.setData(lines);\n        updateAxisLines.exit.remove();\n        var enterAxisLines = updateAxisLines.enter.append(Line);\n        var axisLineSelection = updateAxisLines.merge(enterAxisLines);\n        this.axisLineSelection = axisLineSelection;\n        axisLineSelection.each(function (line, _, index) {\n            var x = index > 0 ? -maxLeafLabelWidth - _this.label.padding * 2 - (index - 1) * lineHeight : 0;\n            line.x1 = x;\n            line.x2 = x;\n            line.y1 = requestedRange[0];\n            line.y2 = requestedRange[1];\n            line.strokeWidth = _this.line.width;\n            line.stroke = _this.line.color;\n            line.visible = labels.length > 0 && (index === 0 || (labelGrid && isLabelTree));\n        });\n        if (this.gridLength) {\n            var styles_1 = this.gridStyle;\n            var styleCount_1 = styles_1.length;\n            gridLineSelection\n                .each(function (line, datum, index) {\n                var y = Math.round(tickScale.convert(datum));\n                line.x1 = 0;\n                line.x2 = -sideFlag * _this.gridLength;\n                line.y1 = y;\n                line.y2 = y;\n                line.visible = y >= requestedRange[0] && y <= requestedRange[1] &&\n                    Math.abs(line.parent.translationY - rangeStart) > 1;\n                var style = styles_1[index % styleCount_1];\n                line.stroke = style.stroke;\n                line.strokeWidth = _this.tick.width;\n                line.lineDash = style.lineDash;\n                line.fill = undefined;\n            });\n        }\n        // debug (bbox)\n        // const bbox = this.computeBBox();\n        // const bboxRect = this.bboxRect;\n        // bboxRect.x = bbox.x;\n        // bboxRect.y = bbox.y;\n        // bboxRect.width = bbox.width;\n        // bboxRect.height = bbox.height;\n    };\n    GroupedCategoryAxis.prototype.computeBBox = function (options) {\n        var includeTitle = !options || !options.excludeTitle;\n        var left = Infinity;\n        var right = -Infinity;\n        var top = Infinity;\n        var bottom = -Infinity;\n        this.labelSelection.each(function (label, _, index) {\n            // The label itself is rotated, but not translated, the group that\n            // contains it is. So to capture the group transform in the label bbox\n            // calculation we combine the transform matrices of the label and the group.\n            // Depending on the timing of the `axis.computeBBox()` method call, we may\n            // not have the group's and the label's transform matrices updated yet (because\n            // the transform matrix is not recalculated whenever a node's transform attributes\n            // change, instead it's marked for recalculation on the next frame by setting\n            // the node's `dirtyTransform` flag to `true`), so we force them to update\n            // right here by calling `computeTransformMatrix`.\n            if (index > 0 || includeTitle) { // first node is the root (title)\n                label.computeTransformMatrix();\n                var matrix = Matrix.flyweight(label.matrix);\n                var labelBBox = label.computeBBox();\n                if (labelBBox) {\n                    var bbox = matrix.transformBBox(labelBBox);\n                    left = Math.min(left, bbox.x);\n                    right = Math.max(right, bbox.x + bbox.width);\n                    top = Math.min(top, bbox.y);\n                    bottom = Math.max(bottom, bbox.y + bbox.height);\n                }\n            }\n        });\n        return new BBox(left, top, Math.max(right - left, this.longestSeparatorLength), bottom - top);\n    };\n    // debug (bbox)\n    // private bboxRect = (() => {\n    //     const rect = new Rect();\n    //     rect.fill = undefined;\n    //     rect.stroke = 'red';\n    //     rect.strokeWidth = 1;\n    //     rect.strokeOpacity = 0.7;\n    //     return rect;\n    // })();\n    GroupedCategoryAxis.className = 'GroupedCategoryAxis';\n    GroupedCategoryAxis.type = 'groupedCategory';\n    return GroupedCategoryAxis;\n}(ChartAxis));\nexport { GroupedCategoryAxis };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Path } from \"./path\";\nimport { Shape } from \"./shape\";\nimport { BBox } from \"../bbox\";\nexport var RectSizing;\n(function (RectSizing) {\n    RectSizing[RectSizing[\"Content\"] = 0] = \"Content\";\n    RectSizing[RectSizing[\"Border\"] = 1] = \"Border\";\n})(RectSizing || (RectSizing = {}));\nvar Rect = /** @class */ (function (_super) {\n    __extends(Rect, _super);\n    function Rect() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._x = 0;\n        _this._y = 0;\n        _this._width = 10;\n        _this._height = 10;\n        _this._radius = 0;\n        /**\n         * If `true`, the rect is aligned to the pixel grid for crisp looking lines.\n         * Animated rects may not look nice with this option enabled, for example\n         * when a rect is translated by a sub-pixel value on each frame.\n         */\n        _this._crisp = false;\n        _this.effectiveStrokeWidth = Shape.defaultStyles.strokeWidth;\n        /**\n         * Similar to https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing\n         */\n        _this._sizing = RectSizing.Content;\n        return _this;\n    }\n    Object.defineProperty(Rect.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            if (this._x !== value) {\n                this._x = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            if (this._y !== value) {\n                this._y = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        set: function (value) {\n            if (this._width !== value) {\n                this._width = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        set: function (value) {\n            if (this._height !== value) {\n                this._height = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"radius\", {\n        get: function () {\n            return this._radius;\n        },\n        set: function (value) {\n            if (this._radius !== value) {\n                this._radius = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"crisp\", {\n        get: function () {\n            return this._crisp;\n        },\n        set: function (value) {\n            if (this._crisp !== value) {\n                this._crisp = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"strokeWidth\", {\n        get: function () {\n            return this._strokeWidth;\n        },\n        set: function (value) {\n            if (this._strokeWidth !== value) {\n                this._strokeWidth = value;\n                // Normally, when the `lineWidth` changes, we only need to repaint the rect\n                // without updating the path. If the `isCrisp` is set to `true` however,\n                // we need to update the path to make sure the new stroke aligns to\n                // the pixel grid. This is the reason we override the `lineWidth` setter\n                // and getter here.\n                if (this.crisp || this.sizing === RectSizing.Border) {\n                    this.dirtyPath = true;\n                }\n                else {\n                    this.effectiveStrokeWidth = value;\n                    this.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"sizing\", {\n        get: function () {\n            return this._sizing;\n        },\n        set: function (value) {\n            if (this._sizing !== value) {\n                this._sizing = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Rect.prototype.updatePath = function () {\n        var borderSizing = this.sizing === RectSizing.Border;\n        var path = this.path;\n        path.clear();\n        var x = this.x;\n        var y = this.y;\n        var width = this.width;\n        var height = this.height;\n        var strokeWidth;\n        if (borderSizing) {\n            var halfWidth = width / 2;\n            var halfHeight = height / 2;\n            strokeWidth = Math.min(this.strokeWidth, halfWidth, halfHeight);\n            x = Math.min(x + strokeWidth / 2, x + halfWidth);\n            y = Math.min(y + strokeWidth / 2, y + halfHeight);\n            width = Math.max(width - strokeWidth, 0);\n            height = Math.max(height - strokeWidth, 0);\n        }\n        else {\n            strokeWidth = this.strokeWidth;\n        }\n        this.effectiveStrokeWidth = strokeWidth;\n        if (this.crisp && !borderSizing) {\n            var _a = this, a = _a.alignment, al = _a.align;\n            path.rect(al(a, x), al(a, y), al(a, x, width), al(a, y, height));\n        }\n        else {\n            path.rect(x, y, width, height);\n        }\n    };\n    Rect.prototype.computeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        return new BBox(x, y, width, height);\n    };\n    Rect.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        var bbox = this.computeBBox();\n        return bbox.containsPoint(point.x, point.y);\n    };\n    Rect.prototype.isPointInStroke = function (x, y) {\n        return false;\n    };\n    Rect.prototype.fillStroke = function (ctx) {\n        var pixelRatio = this.scene.canvas.pixelRatio || 1;\n        if (this.fill) {\n            ctx.fillStyle = this.fill;\n            ctx.globalAlpha = this.opacity * this.fillOpacity;\n            // The canvas context scaling (depends on the device's pixel ratio)\n            // has no effect on shadows, so we have to account for the pixel ratio\n            // manually here.\n            var fillShadow = this.fillShadow;\n            if (fillShadow && fillShadow.enabled) {\n                ctx.shadowColor = fillShadow.color;\n                ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = fillShadow.blur * pixelRatio;\n            }\n            ctx.fill();\n        }\n        ctx.shadowColor = 'rgba(0, 0, 0, 0)';\n        if (this.stroke && this.effectiveStrokeWidth) {\n            ctx.strokeStyle = this.stroke;\n            ctx.globalAlpha = this.opacity * this.strokeOpacity;\n            ctx.lineWidth = this.effectiveStrokeWidth;\n            if (this.lineDash) {\n                ctx.setLineDash(this.lineDash);\n            }\n            if (this.lineDashOffset) {\n                ctx.lineDashOffset = this.lineDashOffset;\n            }\n            if (this.lineCap) {\n                ctx.lineCap = this.lineCap;\n            }\n            if (this.lineJoin) {\n                ctx.lineJoin = this.lineJoin;\n            }\n            var strokeShadow = this.strokeShadow;\n            if (strokeShadow && strokeShadow.enabled) {\n                ctx.shadowColor = strokeShadow.color;\n                ctx.shadowOffsetX = strokeShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = strokeShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = strokeShadow.blur * pixelRatio;\n            }\n            ctx.stroke();\n        }\n    };\n    Rect.className = 'Rect';\n    return Rect;\n}(Path));\nexport { Rect };\n","import { HdpiCanvas } from \"../canvas/hdpiCanvas\";\nimport { createId } from \"../util/id\";\nvar Scene = /** @class */ (function () {\n    // As a rule of thumb, constructors with no parameters are preferred.\n    // A few exceptions are:\n    // - we absolutely need to know something at construction time (document)\n    // - knowing something at construction time meaningfully improves performance (width, height)\n    function Scene(document, width, height) {\n        var _this = this;\n        if (document === void 0) { document = window.document; }\n        this.id = createId(this);\n        this._dirty = false;\n        this.animationFrameId = 0;\n        this._root = null;\n        this.debug = {\n            renderFrameIndex: false,\n            renderBoundingBoxes: false\n        };\n        this._frameIndex = 0;\n        this.render = function () {\n            var _a;\n            var _b = _this, ctx = _b.ctx, root = _b.root, pendingSize = _b.pendingSize;\n            _this.animationFrameId = 0;\n            if (pendingSize) {\n                (_a = _this.canvas).resize.apply(_a, pendingSize);\n                _this.pendingSize = undefined;\n            }\n            if (root && !root.visible) {\n                _this.dirty = false;\n                return;\n            }\n            // start with a blank canvas, clear previous drawing\n            ctx.clearRect(0, 0, _this.width, _this.height);\n            if (root) {\n                ctx.save();\n                if (root.visible) {\n                    root.render(ctx);\n                }\n                ctx.restore();\n            }\n            _this._frameIndex++;\n            if (_this.debug.renderFrameIndex) {\n                ctx.fillStyle = 'white';\n                ctx.fillRect(0, 0, 40, 15);\n                ctx.fillStyle = 'black';\n                ctx.fillText(_this.frameIndex.toString(), 2, 10);\n            }\n            _this.dirty = false;\n        };\n        this.canvas = new HdpiCanvas(document, width, height);\n        this.ctx = this.canvas.context;\n    }\n    Object.defineProperty(Scene.prototype, \"container\", {\n        get: function () {\n            return this.canvas.container;\n        },\n        set: function (value) {\n            this.canvas.container = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.prototype.download = function (fileName) {\n        this.canvas.download(fileName);\n    };\n    Scene.prototype.getDataURL = function (type) {\n        return this.canvas.getDataURL(type);\n    };\n    Object.defineProperty(Scene.prototype, \"width\", {\n        get: function () {\n            return this.pendingSize ? this.pendingSize[0] : this.canvas.width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Scene.prototype, \"height\", {\n        get: function () {\n            return this.pendingSize ? this.pendingSize[1] : this.canvas.height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.prototype.resize = function (width, height) {\n        width = Math.round(width);\n        height = Math.round(height);\n        if (width === this.width && height === this.height) {\n            return;\n        }\n        this.pendingSize = [width, height];\n        this.dirty = true;\n    };\n    Object.defineProperty(Scene.prototype, \"dirty\", {\n        get: function () {\n            return this._dirty;\n        },\n        set: function (dirty) {\n            if (dirty && !this._dirty) {\n                this.animationFrameId = requestAnimationFrame(this.render);\n            }\n            this._dirty = dirty;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.prototype.cancelRender = function () {\n        if (this.animationFrameId) {\n            cancelAnimationFrame(this.animationFrameId);\n            this.animationFrameId = 0;\n            this._dirty = false;\n        }\n    };\n    Object.defineProperty(Scene.prototype, \"root\", {\n        get: function () {\n            return this._root;\n        },\n        set: function (node) {\n            if (node === this._root) {\n                return;\n            }\n            if (this._root) {\n                this._root._setScene(undefined);\n            }\n            this._root = node;\n            if (node) {\n                // If `node` is the root node of another scene ...\n                if (node.parent === null && node.scene && node.scene !== this) {\n                    node.scene.root = null;\n                }\n                node._setScene(this);\n            }\n            this.dirty = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.prototype.appendPath = function (path) {\n        var ctx = this.ctx;\n        var commands = path.commands;\n        var params = path.params;\n        var n = commands.length;\n        var j = 0;\n        ctx.beginPath();\n        for (var i = 0; i < n; i++) {\n            switch (commands[i]) {\n                case 'M':\n                    ctx.moveTo(params[j++], params[j++]);\n                    break;\n                case 'L':\n                    ctx.lineTo(params[j++], params[j++]);\n                    break;\n                case 'C':\n                    ctx.bezierCurveTo(params[j++], params[j++], params[j++], params[j++], params[j++], params[j++]);\n                    break;\n                case 'Z':\n                    ctx.closePath();\n                    break;\n            }\n        }\n    };\n    Object.defineProperty(Scene.prototype, \"frameIndex\", {\n        get: function () {\n            return this._frameIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.className = 'Scene';\n    return Scene;\n}());\nexport { Scene };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Path } from \"../../scene/shape/path\";\nimport { BBox } from \"../../scene/bbox\";\nvar Marker = /** @class */ (function (_super) {\n    __extends(Marker, _super);\n    function Marker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._x = 0;\n        _this._y = 0;\n        _this._size = 12;\n        return _this;\n    }\n    Object.defineProperty(Marker.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            if (this._x !== value) {\n                this._x = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Marker.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            if (this._y !== value) {\n                this._y = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Marker.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        set: function (value) {\n            if (this._size !== value) {\n                this._size = Math.abs(value);\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Marker.prototype.computeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, size = _a.size;\n        var half = size / 2;\n        return new BBox(x - half, y - half, size, size);\n    };\n    return Marker;\n}(Path));\nexport { Marker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Square = /** @class */ (function (_super) {\n    __extends(Square, _super);\n    function Square() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Square.prototype.updatePath = function () {\n        var _a = this, path = _a.path, x = _a.x, y = _a.y;\n        var hs = this.size / 2;\n        var _b = this, a = _b.alignment, al = _b.align;\n        path.clear();\n        path.moveTo(al(a, x - hs), al(a, y - hs));\n        path.lineTo(al(a, x + hs), al(a, y - hs));\n        path.lineTo(al(a, x + hs), al(a, y + hs));\n        path.lineTo(al(a, x - hs), al(a, y + hs));\n        path.closePath();\n    };\n    Square.className = 'Square';\n    return Square;\n}(Marker));\nexport { Square };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Group } from \"../scene/group\";\nimport { Text } from \"../scene/shape/text\";\nimport { Square } from \"./marker/square\";\nimport { HdpiCanvas } from \"../canvas/hdpiCanvas\";\nvar MarkerLabel = /** @class */ (function (_super) {\n    __extends(MarkerLabel, _super);\n    function MarkerLabel() {\n        var _this = _super.call(this) || this;\n        _this.label = new Text();\n        _this._marker = new Square();\n        _this._markerSize = 15;\n        _this._spacing = 8;\n        var label = _this.label;\n        label.textBaseline = 'middle';\n        label.fontSize = 12;\n        label.fontFamily = 'Verdana, sans-serif';\n        label.fill = 'black';\n        // For better looking vertical alignment of labels to markers.\n        label.y = HdpiCanvas.has.textMetrics ? 1 : 0;\n        _this.append([_this.marker, label]);\n        _this.update();\n        return _this;\n    }\n    Object.defineProperty(MarkerLabel.prototype, \"text\", {\n        get: function () {\n            return this.label.text;\n        },\n        set: function (value) {\n            this.label.text = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"fontStyle\", {\n        get: function () {\n            return this.label.fontStyle;\n        },\n        set: function (value) {\n            this.label.fontStyle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"fontWeight\", {\n        get: function () {\n            return this.label.fontWeight;\n        },\n        set: function (value) {\n            this.label.fontWeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"fontSize\", {\n        get: function () {\n            return this.label.fontSize;\n        },\n        set: function (value) {\n            this.label.fontSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"fontFamily\", {\n        get: function () {\n            return this.label.fontFamily;\n        },\n        set: function (value) {\n            this.label.fontFamily = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"color\", {\n        get: function () {\n            return this.label.fill;\n        },\n        set: function (value) {\n            this.label.fill = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"marker\", {\n        get: function () {\n            return this._marker;\n        },\n        set: function (value) {\n            if (this._marker !== value) {\n                this.removeChild(this._marker);\n                this._marker = value;\n                this.appendChild(value);\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerSize\", {\n        get: function () {\n            return this._markerSize;\n        },\n        set: function (value) {\n            if (this._markerSize !== value) {\n                this._markerSize = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerFill\", {\n        get: function () {\n            return this.marker.fill;\n        },\n        set: function (value) {\n            this.marker.fill = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerStroke\", {\n        get: function () {\n            return this.marker.stroke;\n        },\n        set: function (value) {\n            this.marker.stroke = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerStrokeWidth\", {\n        get: function () {\n            return this.marker.strokeWidth;\n        },\n        set: function (value) {\n            this.marker.strokeWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerFillOpacity\", {\n        get: function () {\n            return this.marker.fillOpacity;\n        },\n        set: function (value) {\n            this.marker.fillOpacity = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerStrokeOpacity\", {\n        get: function () {\n            return this.marker.strokeOpacity;\n        },\n        set: function (value) {\n            this.marker.strokeOpacity = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"opacity\", {\n        get: function () {\n            return this.marker.opacity;\n        },\n        set: function (value) {\n            this.marker.opacity = value;\n            this.label.opacity = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"spacing\", {\n        get: function () {\n            return this._spacing;\n        },\n        set: function (value) {\n            if (this._spacing !== value) {\n                this._spacing = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MarkerLabel.prototype.update = function () {\n        var marker = this.marker;\n        var markerSize = this.markerSize;\n        marker.size = markerSize;\n        this.label.x = markerSize / 2 + this.spacing;\n    };\n    MarkerLabel.className = 'MarkerLabel';\n    return MarkerLabel;\n}(Group));\nexport { MarkerLabel };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Circle.prototype.updatePath = function () {\n        var _a = this, x = _a.x, y = _a.y, path = _a.path, size = _a.size;\n        var r = size / 2;\n        path.clear();\n        path.cubicArc(x, y, r, r, 0, 0, Math.PI * 2, 0);\n        path.closePath();\n    };\n    Circle.className = 'Circle';\n    return Circle;\n}(Marker));\nexport { Circle };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Cross = /** @class */ (function (_super) {\n    __extends(Cross, _super);\n    function Cross() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Cross.prototype.updatePath = function () {\n        var _a = this, x = _a.x, y = _a.y;\n        var _b = this, path = _b.path, size = _b.size;\n        var s = size / 4.2;\n        path.clear();\n        path.moveTo(x -= s, y);\n        path.lineTo(x -= s, y -= s);\n        path.lineTo(x += s, y -= s);\n        path.lineTo(x += s, y += s);\n        path.lineTo(x += s, y -= s);\n        path.lineTo(x += s, y += s);\n        path.lineTo(x -= s, y += s);\n        path.lineTo(x += s, y += s);\n        path.lineTo(x -= s, y += s);\n        path.lineTo(x -= s, y -= s);\n        path.lineTo(x -= s, y += s);\n        path.lineTo(x -= s, y -= s);\n        path.closePath();\n    };\n    Cross.className = 'Cross';\n    return Cross;\n}(Marker));\nexport { Cross };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Diamond = /** @class */ (function (_super) {\n    __extends(Diamond, _super);\n    function Diamond() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Diamond.prototype.updatePath = function () {\n        var _a = this, x = _a.x, y = _a.y;\n        var _b = this, path = _b.path, size = _b.size;\n        var s = size / 2;\n        path.clear();\n        path.moveTo(x, y -= s);\n        path.lineTo(x += s, y += s);\n        path.lineTo(x -= s, y += s);\n        path.lineTo(x -= s, y -= s);\n        path.lineTo(x += s, y -= s);\n        path.closePath();\n    };\n    Diamond.className = 'Diamond';\n    return Diamond;\n}(Marker));\nexport { Diamond };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Heart = /** @class */ (function (_super) {\n    __extends(Heart, _super);\n    function Heart() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Heart.prototype.rad = function (degree) {\n        return degree / 180 * Math.PI;\n    };\n    Heart.prototype.updatePath = function () {\n        var _a = this, x = _a.x, path = _a.path, size = _a.size, rad = _a.rad;\n        var r = size / 4;\n        var y = this.y + r / 2;\n        path.clear();\n        path.cubicArc(x - r, y - r, r, r, 0, rad(130), rad(330), 0);\n        path.cubicArc(x + r, y - r, r, r, 0, rad(220), rad(50), 0);\n        path.lineTo(x, y + r);\n        path.closePath();\n    };\n    Heart.className = 'Heart';\n    return Heart;\n}(Marker));\nexport { Heart };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Plus = /** @class */ (function (_super) {\n    __extends(Plus, _super);\n    function Plus() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Plus.prototype.updatePath = function () {\n        var _a = this, x = _a.x, y = _a.y;\n        var _b = this, path = _b.path, size = _b.size;\n        var s = size / 3;\n        var hs = s / 2;\n        path.clear();\n        path.moveTo(x -= hs, y -= hs);\n        path.lineTo(x, y -= s);\n        path.lineTo(x += s, y);\n        path.lineTo(x, y += s);\n        path.lineTo(x += s, y);\n        path.lineTo(x, y += s);\n        path.lineTo(x -= s, y);\n        path.lineTo(x, y += s);\n        path.lineTo(x -= s, y);\n        path.lineTo(x, y -= s);\n        path.lineTo(x -= s, y);\n        path.lineTo(x, y -= s);\n        path.closePath();\n    };\n    Plus.className = 'Plus';\n    return Plus;\n}(Marker));\nexport { Plus };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Triangle = /** @class */ (function (_super) {\n    __extends(Triangle, _super);\n    function Triangle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Triangle.prototype.updatePath = function () {\n        var _a = this, x = _a.x, y = _a.y;\n        var _b = this, path = _b.path, size = _b.size;\n        var s = size * 1.1;\n        path.clear();\n        path.moveTo(x, y -= s * 0.48);\n        path.lineTo(x += s * 0.5, y += s * 0.87);\n        path.lineTo(x -= s, y);\n        path.closePath();\n    };\n    Triangle.className = 'Triangle';\n    return Triangle;\n}(Marker));\nexport { Triangle };\n","import { Square } from \"./square\";\nimport { Circle } from \"./circle\";\nimport { Cross } from \"./cross\";\nimport { Diamond } from \"./diamond\";\nimport { Heart } from \"./heart\";\nimport { Plus } from \"./plus\";\nimport { Triangle } from \"./triangle\";\n// This function is in its own file because putting it into SeriesMarker makes the Legend\n// suddenly aware of the series (it's an agnostic component), and putting it into Marker\n// introduces circular dependencies.\nexport function getMarker(shape) {\n    if (shape === void 0) { shape = Square; }\n    if (typeof shape === 'string') {\n        switch (shape) {\n            case 'circle':\n                return Circle;\n            case 'cross':\n                return Cross;\n            case 'diamond':\n                return Diamond;\n            case 'heart':\n                return Heart;\n            case 'plus':\n                return Plus;\n            case 'triangle':\n                return Triangle;\n            default:\n                return Square;\n        }\n    }\n    if (typeof shape === 'function') {\n        return shape;\n    }\n    return Square;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from \"../scene/group\";\nimport { Selection } from \"../scene/selection\";\nimport { MarkerLabel } from \"./markerLabel\";\nimport { reactive, Observable } from \"../util/observable\";\nimport { getMarker } from \"./marker/util\";\nimport { createId } from \"../util/id\";\nexport var LegendOrientation;\n(function (LegendOrientation) {\n    LegendOrientation[LegendOrientation[\"Vertical\"] = 0] = \"Vertical\";\n    LegendOrientation[LegendOrientation[\"Horizontal\"] = 1] = \"Horizontal\";\n})(LegendOrientation || (LegendOrientation = {}));\nexport var LegendPosition;\n(function (LegendPosition) {\n    LegendPosition[\"Top\"] = \"top\";\n    LegendPosition[\"Right\"] = \"right\";\n    LegendPosition[\"Bottom\"] = \"bottom\";\n    LegendPosition[\"Left\"] = \"left\";\n})(LegendPosition || (LegendPosition = {}));\nvar Legend = /** @class */ (function (_super) {\n    __extends(Legend, _super);\n    function Legend() {\n        var _this = _super.call(this) || this;\n        _this.id = createId(_this);\n        _this.group = new Group();\n        _this.itemSelection = Selection.select(_this.group).selectAll();\n        _this.oldSize = [0, 0];\n        _this.data = [];\n        _this.enabled = true;\n        _this.orientation = LegendOrientation.Vertical;\n        _this.position = LegendPosition.Right;\n        /**\n         * Spacing between the legend and the edge of the chart's element.\n         */\n        _this.spacing = 20;\n        /**\n         * The legend uses grid layout for its items, occupying as few columns as possible when positioned to left or right,\n         * and as few rows as possible when positioned to top or bottom. This config specifies the amount of horizontal\n         * spacing between legend items.\n         */\n        _this.layoutHorizontalSpacing = 16;\n        /**\n         * The legend uses grid layout for its items, occupying as few columns as possible when positioned to left or right,\n         * and as few rows as possible when positioned to top or bottom. This config specifies the amount of vertical\n         * spacing between legend items.\n         */\n        _this.layoutVerticalSpacing = 8;\n        /**\n         * Spacing between the marker and the label within each legend item.\n         */\n        _this.itemSpacing = 8;\n        _this.markerSize = 15;\n        _this.strokeWidth = 1;\n        _this.color = 'black';\n        _this.fontSize = 12;\n        _this.fontFamily = 'Verdana, sans-serif';\n        _this._size = [0, 0];\n        _this.addPropertyListener('data', _this.onDataChange);\n        _this.addPropertyListener('enabled', _this.onEnabledChange);\n        _this.addPropertyListener('position', _this.onPositionChange);\n        _this.addPropertyListener('markerShape', _this.onMarkerShapeChange);\n        _this.addEventListener('change', _this.update);\n        return _this;\n    }\n    Object.defineProperty(Legend.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Legend.prototype.onDataChange = function (event) {\n        this.group.visible = event.value.length > 0 && this.enabled;\n    };\n    Legend.prototype.onEnabledChange = function (event) {\n        this.group.visible = event.value && this.data.length > 0;\n    };\n    Legend.prototype.onPositionChange = function (event) {\n        switch (event.value) {\n            case 'right':\n            case 'left':\n                this.orientation = LegendOrientation.Vertical;\n                break;\n            case 'bottom':\n            case 'top':\n                this.orientation = LegendOrientation.Horizontal;\n                break;\n        }\n    };\n    Legend.prototype.onMarkerShapeChange = function () {\n        this.itemSelection = this.itemSelection.setData([]);\n        this.itemSelection.exit.remove();\n    };\n    /**\n     * The method is given the desired size of the legend, which only serves as a hint.\n     * The vertically oriented legend will take as much horizontal space as needed, but will\n     * respect the height constraints, and the horizontal legend will take as much vertical\n     * space as needed in an attempt not to exceed the given width.\n     * After the layout is done, the {@link size} will contain the actual size of the legend.\n     * If the actual size is not the same as the previous actual size, the legend will fire\n     * the 'layoutChange' event to communicate that another layout is needed, and the above\n     * process should be repeated.\n     * @param width\n     * @param height\n     */\n    Legend.prototype.performLayout = function (width, height) {\n        var _this = this;\n        var _a = this, markerShape = _a.markerShape, layoutHorizontalSpacing = _a.layoutHorizontalSpacing, layoutVerticalSpacing = _a.layoutVerticalSpacing;\n        var updateSelection = this.itemSelection.setData(this.data, function (_, datum) {\n            var MarkerShape = getMarker(markerShape || datum.marker.shape);\n            return datum.id + '-' + datum.itemId + '-' + MarkerShape.name;\n        });\n        updateSelection.exit.remove();\n        var enterSelection = updateSelection.enter.append(MarkerLabel).each(function (node, datum) {\n            var MarkerShape = getMarker(markerShape || datum.marker.shape);\n            node.marker = new MarkerShape();\n        });\n        var itemSelection = this.itemSelection = updateSelection.merge(enterSelection);\n        var itemCount = itemSelection.size;\n        // Update properties that affect the size of the legend items and measure them.\n        var bboxes = [];\n        itemSelection.each(function (markerLabel, datum) {\n            // TODO: measure only when one of these properties or data change (in a separate routine)\n            markerLabel.markerSize = _this.markerSize;\n            markerLabel.fontStyle = _this.fontStyle;\n            markerLabel.fontWeight = _this.fontWeight;\n            markerLabel.fontSize = _this.fontSize;\n            markerLabel.fontFamily = _this.fontFamily;\n            markerLabel.text = datum.label.text;\n            markerLabel.spacing = _this.itemSpacing;\n            bboxes.push(markerLabel.computeBBox());\n        });\n        var itemHeight = bboxes.length && bboxes[0].height;\n        var rowCount = 0;\n        var columnWidth = 0;\n        var paddedItemsWidth = 0;\n        var paddedItemsHeight = 0;\n        switch (this.orientation) {\n            case LegendOrientation.Horizontal:\n                if (!(isFinite(width) && width > 0)) {\n                    return false;\n                }\n                rowCount = 0;\n                var columnCount = 0;\n                // Split legend items into columns until the width is suitable.\n                do {\n                    var itemsWidth = 0;\n                    columnCount = 0;\n                    columnWidth = 0;\n                    rowCount++;\n                    var i = 0;\n                    while (i < itemCount) {\n                        var bbox = bboxes[i];\n                        if (bbox.width > columnWidth) {\n                            columnWidth = bbox.width;\n                        }\n                        i++;\n                        if (i % rowCount === 0) {\n                            itemsWidth += columnWidth;\n                            columnWidth = 0;\n                            columnCount++;\n                        }\n                    }\n                    if (i % rowCount !== 0) {\n                        itemsWidth += columnWidth;\n                        columnCount++;\n                    }\n                    paddedItemsWidth = itemsWidth + (columnCount - 1) * layoutHorizontalSpacing;\n                } while (paddedItemsWidth > width && columnCount > 1);\n                paddedItemsHeight = itemHeight * rowCount + (rowCount - 1) * layoutVerticalSpacing;\n                break;\n            case LegendOrientation.Vertical:\n                if (!(isFinite(height) && height > 0)) {\n                    return false;\n                }\n                rowCount = itemCount * 2;\n                // Split legend items into columns until the height is suitable.\n                do {\n                    rowCount = (rowCount >> 1) + (rowCount % 2);\n                    columnWidth = 0;\n                    var itemsWidth = 0;\n                    var itemsHeight = 0;\n                    var columnCount_1 = 0;\n                    var i = 0;\n                    while (i < itemCount) {\n                        var bbox = bboxes[i];\n                        if (!columnCount_1) {\n                            itemsHeight += bbox.height;\n                        }\n                        if (bbox.width > columnWidth) {\n                            columnWidth = bbox.width;\n                        }\n                        i++;\n                        if (i % rowCount === 0) {\n                            itemsWidth += columnWidth;\n                            columnWidth = 0;\n                            columnCount_1++;\n                        }\n                    }\n                    if (i % rowCount !== 0) {\n                        itemsWidth += columnWidth;\n                        columnCount_1++;\n                    }\n                    paddedItemsWidth = itemsWidth + (columnCount_1 - 1) * layoutHorizontalSpacing;\n                    paddedItemsHeight = itemsHeight + (rowCount - 1) * layoutVerticalSpacing;\n                } while (paddedItemsHeight > height && rowCount > 1);\n                break;\n        }\n        // Top-left corner of the first legend item.\n        var startX = (width - paddedItemsWidth) / 2;\n        var startY = (height - paddedItemsHeight) / 2;\n        var x = 0;\n        var y = 0;\n        columnWidth = 0;\n        // Position legend items using the layout computed above.\n        itemSelection.each(function (markerLabel, datum, i) {\n            // Round off for pixel grid alignment to work properly.\n            markerLabel.translationX = Math.floor(startX + x);\n            markerLabel.translationY = Math.floor(startY + y);\n            var bbox = bboxes[i];\n            if (bbox.width > columnWidth) {\n                columnWidth = bbox.width;\n            }\n            if ((i + 1) % rowCount === 0) {\n                x += columnWidth + layoutHorizontalSpacing;\n                y = 0;\n                columnWidth = 0;\n            }\n            else {\n                y += bbox.height + layoutVerticalSpacing;\n            }\n        });\n        // Update legend item properties that don't affect the layout.\n        this.update();\n        var size = this._size;\n        var oldSize = this.oldSize;\n        size[0] = paddedItemsWidth;\n        size[1] = paddedItemsHeight;\n        if (size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n            oldSize[0] = size[0];\n            oldSize[1] = size[1];\n        }\n    };\n    Legend.prototype.update = function () {\n        var _this = this;\n        this.itemSelection.each(function (markerLabel, datum) {\n            var marker = datum.marker;\n            markerLabel.markerFill = marker.fill;\n            markerLabel.markerStroke = marker.stroke;\n            markerLabel.markerStrokeWidth = _this.strokeWidth;\n            markerLabel.markerFillOpacity = marker.fillOpacity;\n            markerLabel.markerStrokeOpacity = marker.strokeOpacity;\n            markerLabel.opacity = datum.enabled ? 1 : 0.5;\n            markerLabel.color = _this.color;\n        });\n    };\n    Legend.prototype.getDatumForPoint = function (x, y) {\n        var node = this.group.pickNode(x, y);\n        if (node && node.parent) {\n            return node.parent.datum;\n        }\n    };\n    Legend.className = 'Legend';\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"data\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"enabled\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"orientation\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"position\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"spacing\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"layoutHorizontalSpacing\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"layoutVerticalSpacing\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"itemSpacing\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"markerShape\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"markerSize\", void 0);\n    __decorate([\n        reactive('change')\n    ], Legend.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        reactive('change')\n    ], Legend.prototype, \"color\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"fontStyle\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"fontWeight\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"fontSize\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"fontFamily\", void 0);\n    return Legend;\n}(Observable));\nexport { Legend };\n","var SizeMonitor = /** @class */ (function () {\n    function SizeMonitor() {\n    }\n    SizeMonitor.init = function () {\n        var _this = this;\n        var NativeResizeObserver = window.ResizeObserver;\n        if (NativeResizeObserver) {\n            this.resizeObserver = new NativeResizeObserver(function (entries) {\n                for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                    var entry = entries_1[_i];\n                    var _a = entry.contentRect, width = _a.width, height = _a.height;\n                    _this.checkSize(_this.elements.get(entry.target), entry.target, width, height);\n                }\n            });\n        }\n        else { // polyfill (more reliable even in browsers that support ResizeObserver)\n            var step = function () {\n                _this.elements.forEach(function (entry, element) {\n                    var width = element.clientWidth ? element.clientWidth : 0;\n                    var height = element.clientHeight ? element.clientHeight : 0;\n                    _this.checkSize(entry, element, width, height);\n                });\n            };\n            window.setInterval(step, 100);\n        }\n        this.ready = true;\n    };\n    SizeMonitor.checkSize = function (entry, element, width, height) {\n        if (entry) {\n            if (!entry.size || width !== entry.size.width || height !== entry.size.height) {\n                entry.size = { width: width, height: height };\n                entry.cb(entry.size, element);\n            }\n        }\n    };\n    // Only a single callback is supported.\n    SizeMonitor.observe = function (element, cb) {\n        if (!this.ready) {\n            this.init();\n        }\n        this.unobserve(element);\n        if (this.resizeObserver) {\n            this.resizeObserver.observe(element);\n        }\n        this.elements.set(element, { cb: cb });\n    };\n    SizeMonitor.unobserve = function (element) {\n        if (this.resizeObserver) {\n            this.resizeObserver.unobserve(element);\n        }\n        this.elements.delete(element);\n    };\n    SizeMonitor.elements = new Map();\n    SizeMonitor.requestAnimationFrameId = 0;\n    SizeMonitor.ready = false;\n    return SizeMonitor;\n}());\nexport { SizeMonitor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from \"../../scene/group\";\nimport { Observable, reactive } from \"../../util/observable\";\nimport { ChartAxisDirection } from \"../chartAxis\";\nimport { createId } from \"../../util/id\";\nvar Series = /** @class */ (function (_super) {\n    __extends(Series, _super);\n    function Series() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.id = createId(_this);\n        /**\n         * The group node that contains all the nodes used to render this series.\n         */\n        _this.group = new Group();\n        _this.directions = [ChartAxisDirection.X, ChartAxisDirection.Y];\n        _this.tooltipEnabled = true;\n        _this.data = undefined;\n        _this.visible = true;\n        _this.showInLegend = true;\n        _this.scheduleLayout = function () {\n            _this.fireEvent({ type: 'layoutChange' });\n        };\n        _this.scheduleData = function () {\n            _this.fireEvent({ type: 'dataChange' });\n        };\n        return _this;\n    }\n    Object.defineProperty(Series.prototype, \"type\", {\n        get: function () {\n            return this.constructor.type || '';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Returns the actual keys used (to fetch the values from `data` items) for the given direction.\n     */\n    Series.prototype.getKeys = function (direction) {\n        var _this = this;\n        var directionKeys = this.directionKeys;\n        var keys = directionKeys && directionKeys[direction];\n        var values = [];\n        if (keys) {\n            keys.forEach(function (key) {\n                var value = _this[key];\n                if (value) {\n                    if (Array.isArray(value)) {\n                        values.push.apply(values, value);\n                    }\n                    else {\n                        values.push(value);\n                    }\n                }\n            });\n        }\n        return values;\n    };\n    // Returns node data associated with the rendered portion of the series' data.\n    Series.prototype.getNodeData = function () {\n        return [];\n    };\n    Series.prototype.fireNodeClickEvent = function (datum) { };\n    Series.prototype.toggleSeriesItem = function (itemId, enabled) {\n        this.visible = enabled;\n    };\n    // Each series is expected to have its own logic to efficiently update its nodes\n    // on hightlight changes.\n    Series.prototype.onHighlightChange = function () { };\n    Series.prototype.fixNumericExtent = function (extent, type) {\n        if (!extent) {\n            // if (type) {\n            //     console.warn(`The ${type}-domain could not be found (no valid values), using the default of [0, 1].`);\n            // }\n            return [0, 1];\n        }\n        var min = extent[0], max = extent[1];\n        if (min === max) {\n            min -= 1;\n            max += 1;\n            // if (type) {\n            //     console.warn(`The ${type}-domain has zero length and has been automatically expanded`\n            //         + ` by 1 in each direction (from the single valid ${type}-value: ${min}).`);\n            // }\n        }\n        if (!isFinite(min) || !isFinite(max)) {\n            min = 0;\n            max = 1;\n            // if (type) {\n            //     console.warn(`The ${type}-domain has infinite length, using the default of [0, 1].`);\n            // }\n        }\n        return [min, max];\n    };\n    __decorate([\n        reactive('dataChange')\n    ], Series.prototype, \"data\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], Series.prototype, \"visible\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Series.prototype, \"showInLegend\", void 0);\n    return Series;\n}(Observable));\nexport { Series };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Observable, reactive } from \"../../util/observable\";\nimport { Circle } from \"../marker/circle\";\nvar SeriesMarker = /** @class */ (function (_super) {\n    __extends(SeriesMarker, _super);\n    function SeriesMarker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.enabled = true;\n        /**\n         * One of the predefined marker names, or a marker constructor function (for user-defined markers).\n         * A series will create one marker instance per data point.\n         */\n        _this.shape = Circle;\n        _this.size = 8;\n        /**\n         * In case a series has the `sizeKey` set, the `sizeKey` values along with the `minSize/size` configs\n         * will be used to determine the size of the marker. All values will be mapped to a marker size\n         * within the `[minSize, size]` range, where the largest values will correspond to the `size`\n         * and the lowest to the `minSize`.\n         */\n        _this.minSize = 8;\n        _this.strokeWidth = 1;\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"enabled\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"shape\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"size\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"minSize\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"fill\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"stroke\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"strokeWidth\", void 0);\n    return SeriesMarker;\n}(Observable));\nexport { SeriesMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from \"../series\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { SeriesMarker } from \"../seriesMarker\";\nvar CartesianSeries = /** @class */ (function (_super) {\n    __extends(CartesianSeries, _super);\n    function CartesianSeries() {\n        var _a;\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.directionKeys = (_a = {},\n            _a[ChartAxisDirection.X] = ['xKey'],\n            _a[ChartAxisDirection.Y] = ['yKey'],\n            _a);\n        return _this;\n    }\n    return CartesianSeries;\n}(Series));\nexport { CartesianSeries };\nvar CartesianSeriesMarker = /** @class */ (function (_super) {\n    __extends(CartesianSeriesMarker, _super);\n    function CartesianSeriesMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return CartesianSeriesMarker;\n}(SeriesMarker));\nexport { CartesianSeriesMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Scene } from \"../scene/scene\";\nimport { Group } from \"../scene/group\";\nimport { Padding } from \"../util/padding\";\nimport { Shape } from \"../scene/shape/shape\";\nimport { Rect } from \"../scene/shape/rect\";\nimport { Legend } from \"./legend\";\nimport { find } from \"../util/array\";\nimport { SizeMonitor } from \"../util/sizeMonitor\";\nimport { Observable, reactive } from \"../util/observable\";\nimport { CartesianSeries } from \"./series/cartesian/cartesianSeries\";\nimport { createId } from \"../util/id\";\nvar defaultTooltipCss = \"\\n.ag-chart-tooltip {\\n    display: none;\\n    position: absolute;\\n    user-select: none;\\n    pointer-events: none;\\n    white-space: nowrap;\\n    z-index: 99999;\\n    font: 12px Verdana, sans-serif;\\n    color: black;\\n    background: rgb(244, 244, 244);\\n    border-radius: 5px;\\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\\n}\\n\\n.ag-chart-tooltip-visible {\\n    display: table;\\n}\\n\\n.ag-chart-tooltip-title {\\n    font-weight: bold;\\n    padding: 7px;\\n    border-top-left-radius: 5px;\\n    border-top-right-radius: 5px;\\n    color: white;\\n    background-color: #888888;\\n    border-top-left-radius: 5px;\\n    border-top-right-radius: 5px;\\n}\\n\\n.ag-chart-tooltip-content {\\n    padding: 7px;\\n    line-height: 1.7em;\\n    border-bottom-left-radius: 5px;\\n    border-bottom-right-radius: 5px;\\n}\\n\\n.ag-chart-tooltip-arrow::before {\\n    content: \\\"\\\";\\n\\n    position: absolute;\\n    top: 100%;\\n    left: 50%;\\n    transform: translateX(-50%);\\n\\n    border: 6px solid #989898;\\n\\n    border-left-color: transparent;\\n    border-right-color: transparent;\\n    border-top-color: #989898;\\n    border-bottom-color: transparent;\\n\\n    width: 0;\\n    height: 0;\\n\\n    margin: 0 auto;\\n}\\n\\n.ag-chart-tooltip-arrow::after {\\n    content: \\\"\\\";\\n\\n    position: absolute;\\n    top: 100%;\\n    left: 50%;\\n    transform: translateX(-50%);\\n\\n    border: 5px solid black;\\n\\n    border-left-color: transparent;\\n    border-right-color: transparent;\\n    border-top-color: rgb(244, 244, 244);\\n    border-bottom-color: transparent;\\n\\n    width: 0;\\n    height: 0;\\n\\n    margin: 0 auto;\\n}\\n\";\nvar Chart = /** @class */ (function (_super) {\n    __extends(Chart, _super);\n    function Chart(document) {\n        if (document === void 0) { document = window.document; }\n        var _this = _super.call(this) || this;\n        _this.id = createId(_this);\n        _this.background = new Rect();\n        _this.legend = new Legend();\n        _this.legendAutoPadding = new Padding();\n        _this.captionAutoPadding = 0; // top padding only\n        _this._container = undefined;\n        _this._data = [];\n        _this._autoSize = false;\n        _this.padding = new Padding(20);\n        _this._axes = [];\n        _this._series = [];\n        _this._axesChanged = false;\n        _this._seriesChanged = false;\n        _this.layoutCallbackId = 0;\n        _this._performLayout = function () {\n            _this.layoutCallbackId = 0;\n            _this.background.width = _this.width;\n            _this.background.height = _this.height;\n            _this.performLayout();\n            if (!_this.layoutPending) {\n                _this.fireEvent({ type: 'layoutDone' });\n            }\n        };\n        _this.dataCallbackId = 0;\n        _this._onMouseDown = _this.onMouseDown.bind(_this);\n        _this._onMouseUp = _this.onMouseUp.bind(_this);\n        _this._onMouseMove = _this.onMouseMove.bind(_this);\n        _this._onMouseOut = _this.onMouseOut.bind(_this);\n        _this._onClick = _this.onClick.bind(_this);\n        _this._tooltipClass = Chart.defaultTooltipClass;\n        /**\n         * If `true`, the tooltip will be shown for the marker closest to the mouse cursor.\n         * Only has effect on series with markers.\n         */\n        _this.tooltipTracking = true;\n        var root = new Group();\n        var background = _this.background;\n        background.fill = 'white';\n        root.appendChild(background);\n        var element = _this._element = document.createElement('div');\n        element.style.boxSizing = 'border-box';\n        element.style.overflow = 'hidden';\n        element.style.height = '100%';\n        var scene = new Scene(document);\n        _this.scene = scene;\n        scene.root = root;\n        scene.container = element;\n        _this.autoSize = true;\n        var legend = _this.legend;\n        legend.addEventListener('layoutChange', _this.onLayoutChange, _this);\n        legend.addPropertyListener('position', _this.onLegendPositionChange, _this);\n        _this.tooltipElement = document.createElement('div');\n        _this.tooltipClass = '';\n        document.body.appendChild(_this.tooltipElement);\n        if (Chart.tooltipDocuments.indexOf(document) < 0) {\n            var styleElement = document.createElement('style');\n            styleElement.innerHTML = defaultTooltipCss;\n            // Make sure the default tooltip style goes before other styles so it can be overridden.\n            document.head.insertBefore(styleElement, document.head.querySelector('style'));\n            Chart.tooltipDocuments.push(document);\n        }\n        _this.setupDomListeners(scene.canvas.element);\n        _this.addPropertyListener('title', _this.onCaptionChange);\n        _this.addPropertyListener('subtitle', _this.onCaptionChange);\n        _this.addEventListener('layoutChange', function () { return _this.layoutPending = true; });\n        return _this;\n    }\n    Object.defineProperty(Chart.prototype, \"container\", {\n        get: function () {\n            return this._container;\n        },\n        set: function (value) {\n            if (this._container !== value) {\n                var parentNode = this.element.parentNode;\n                if (parentNode != null) {\n                    parentNode.removeChild(this.element);\n                }\n                if (value) {\n                    value.appendChild(this.element);\n                }\n                this._container = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"data\", {\n        get: function () {\n            return this._data;\n        },\n        set: function (data) {\n            this._data = data;\n            this.series.forEach(function (series) { return series.data = data; });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"width\", {\n        get: function () {\n            return this.scene.width;\n        },\n        set: function (value) {\n            this.autoSize = false;\n            if (this.width !== value) {\n                this.scene.resize(value, this.height);\n                this.fireEvent({ type: 'layoutChange' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"height\", {\n        get: function () {\n            return this.scene.height;\n        },\n        set: function (value) {\n            this.autoSize = false;\n            if (this.height !== value) {\n                this.scene.resize(this.width, value);\n                this.fireEvent({ type: 'layoutChange' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"autoSize\", {\n        get: function () {\n            return this._autoSize;\n        },\n        set: function (value) {\n            if (this._autoSize !== value) {\n                this._autoSize = value;\n                if (value) {\n                    var chart_1 = this; // capture `this` for IE11\n                    SizeMonitor.observe(this.element, function (size) {\n                        if (size.width !== chart_1.width || size.height !== chart_1.height) {\n                            chart_1.scene.resize(size.width, size.height);\n                            chart_1.fireEvent({ type: 'layoutChange' });\n                        }\n                    });\n                    this.element.style.display = 'block';\n                }\n                else {\n                    SizeMonitor.unobserve(this.element);\n                    this.element.style.display = 'inline-block';\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.download = function (fileName) {\n        this.scene.download(fileName);\n    };\n    Chart.prototype.destroy = function () {\n        var tooltipParent = this.tooltipElement.parentNode;\n        if (tooltipParent) {\n            tooltipParent.removeChild(this.tooltipElement);\n        }\n        SizeMonitor.unobserve(this.element);\n        this.container = undefined;\n        this.cleanupDomListeners(this.scene.canvas.element);\n        this.scene.container = undefined;\n    };\n    Chart.prototype.onLayoutChange = function () {\n        this.layoutPending = true;\n    };\n    Chart.prototype.onLegendPositionChange = function () {\n        this.legendAutoPadding.clear();\n        this.layoutPending = true;\n    };\n    Chart.prototype.onCaptionChange = function (event) {\n        var value = event.value, oldValue = event.oldValue;\n        if (oldValue) {\n            oldValue.removeEventListener('change', this.onLayoutChange, this);\n            this.scene.root.removeChild(oldValue.node);\n        }\n        if (value) {\n            value.addEventListener('change', this.onLayoutChange, this);\n            this.scene.root.appendChild(value.node);\n        }\n    };\n    Object.defineProperty(Chart.prototype, \"element\", {\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"axes\", {\n        get: function () {\n            return this._axes;\n        },\n        set: function (values) {\n            var _this = this;\n            this._axes.forEach(function (axis) { return _this.detachAxis(axis); });\n            // make linked axes go after the regular ones (simulates stable sort by `linkedTo` property)\n            this._axes = values.filter(function (a) { return !a.linkedTo; }).concat(values.filter(function (a) { return a.linkedTo; }));\n            this._axes.forEach(function (axis) { return _this.attachAxis(axis); });\n            this.axesChanged = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.attachAxis = function (axis) {\n        this.scene.root.insertBefore(axis.group, this.seriesRoot);\n    };\n    Chart.prototype.detachAxis = function (axis) {\n        this.scene.root.removeChild(axis.group);\n    };\n    Object.defineProperty(Chart.prototype, \"series\", {\n        get: function () {\n            return this._series;\n        },\n        set: function (values) {\n            var _this = this;\n            this.removeAllSeries();\n            values.forEach(function (series) { return _this.addSeries(series); });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.scheduleLayout = function () {\n        this.layoutPending = true;\n    };\n    Chart.prototype.scheduleData = function () {\n        // To prevent the chart from thinking the cursor is over the same node\n        // after a change to data (the nodes are reused on data changes).\n        this.dehighlightDatum();\n        this.dataPending = true;\n    };\n    Chart.prototype.addSeries = function (series, before) {\n        var _a = this, allSeries = _a.series, seriesRoot = _a.seriesRoot;\n        var canAdd = allSeries.indexOf(series) < 0;\n        if (canAdd) {\n            var beforeIndex = before ? allSeries.indexOf(before) : -1;\n            if (beforeIndex >= 0) {\n                allSeries.splice(beforeIndex, 0, series);\n                seriesRoot.insertBefore(series.group, before.group);\n            }\n            else {\n                allSeries.push(series);\n                seriesRoot.append(series.group);\n            }\n            this.initSeries(series);\n            this.seriesChanged = true;\n            this.axesChanged = true;\n            return true;\n        }\n        return false;\n    };\n    Chart.prototype.initSeries = function (series) {\n        series.chart = this;\n        if (!series.data) {\n            series.data = this.data;\n        }\n        series.addEventListener('layoutChange', this.scheduleLayout, this);\n        series.addEventListener('dataChange', this.scheduleData, this);\n        series.addEventListener('legendChange', this.updateLegend, this);\n        series.addEventListener('nodeClick', this.onSeriesNodeClick, this);\n    };\n    Chart.prototype.freeSeries = function (series) {\n        series.chart = undefined;\n        series.removeEventListener('layoutChange', this.scheduleLayout, this);\n        series.removeEventListener('dataChange', this.scheduleData, this);\n        series.removeEventListener('legendChange', this.updateLegend, this);\n        series.removeEventListener('nodeClick', this.onSeriesNodeClick, this);\n    };\n    Chart.prototype.addSeriesAfter = function (series, after) {\n        var _a = this, allSeries = _a.series, seriesRoot = _a.seriesRoot;\n        var canAdd = allSeries.indexOf(series) < 0;\n        if (canAdd) {\n            var afterIndex = after ? this.series.indexOf(after) : -1;\n            if (afterIndex >= 0) {\n                if (afterIndex + 1 < allSeries.length) {\n                    seriesRoot.insertBefore(series.group, allSeries[afterIndex + 1].group);\n                }\n                else {\n                    seriesRoot.append(series.group);\n                }\n                this.initSeries(series);\n                allSeries.splice(afterIndex + 1, 0, series);\n            }\n            else {\n                if (allSeries.length > 0) {\n                    seriesRoot.insertBefore(series.group, allSeries[0].group);\n                }\n                else {\n                    seriesRoot.append(series.group);\n                }\n                this.initSeries(series);\n                allSeries.unshift(series);\n            }\n            this.seriesChanged = true;\n            this.axesChanged = true;\n        }\n        return false;\n    };\n    Chart.prototype.removeSeries = function (series) {\n        var index = this.series.indexOf(series);\n        if (index >= 0) {\n            this.series.splice(index, 1);\n            this.freeSeries(series);\n            this.seriesRoot.removeChild(series.group);\n            this.seriesChanged = true;\n            return true;\n        }\n        return false;\n    };\n    Chart.prototype.removeAllSeries = function () {\n        var _this = this;\n        this.series.forEach(function (series) {\n            _this.freeSeries(series);\n            _this.seriesRoot.removeChild(series.group);\n        });\n        this._series = []; // using `_series` instead of `series` to prevent infinite recursion\n        this.seriesChanged = true;\n    };\n    Chart.prototype.assignSeriesToAxes = function () {\n        var _this = this;\n        this.axes.forEach(function (axis) {\n            var axisName = axis.direction + 'Axis';\n            var boundSeries = [];\n            _this.series.forEach(function (series) {\n                if (series[axisName] === axis) {\n                    boundSeries.push(series);\n                }\n            });\n            axis.boundSeries = boundSeries;\n        });\n        this.seriesChanged = false;\n    };\n    Chart.prototype.assignAxesToSeries = function (force) {\n        var _this = this;\n        if (force === void 0) { force = false; }\n        // This method has to run before `assignSeriesToAxes`.\n        var directionToAxesMap = {};\n        this.axes.forEach(function (axis) {\n            var direction = axis.direction;\n            var directionAxes = directionToAxesMap[direction] || (directionToAxesMap[direction] = []);\n            directionAxes.push(axis);\n        });\n        this.series.forEach(function (series) {\n            series.directions.forEach(function (direction) {\n                var axisName = direction + 'Axis';\n                if (!series[axisName] || force) {\n                    var directionAxes = directionToAxesMap[direction];\n                    if (directionAxes) {\n                        var axis = _this.findMatchingAxis(directionAxes, series.getKeys(direction));\n                        if (axis) {\n                            series[axisName] = axis;\n                        }\n                    }\n                }\n            });\n            if (series instanceof CartesianSeries) {\n                if (!series.xAxis) {\n                    console.warn(\"Could not find a matching xAxis for the \" + series.id + \" series.\");\n                    return;\n                }\n                if (!series.yAxis) {\n                    console.warn(\"Could not find a matching yAxis for the \" + series.id + \" series.\");\n                    return;\n                }\n            }\n        });\n        this.axesChanged = false;\n    };\n    Chart.prototype.findMatchingAxis = function (directionAxes, directionKeys) {\n        for (var i = 0; i < directionAxes.length; i++) {\n            var axis = directionAxes[i];\n            var axisKeys = axis.keys;\n            if (!axisKeys.length) {\n                return axis;\n            }\n            else if (directionKeys) {\n                for (var j = 0; j < directionKeys.length; j++) {\n                    if (axisKeys.indexOf(directionKeys[j]) >= 0) {\n                        return axis;\n                    }\n                }\n            }\n        }\n    };\n    Object.defineProperty(Chart.prototype, \"axesChanged\", {\n        get: function () {\n            return this._axesChanged;\n        },\n        set: function (value) {\n            this._axesChanged = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"seriesChanged\", {\n        get: function () {\n            return this._seriesChanged;\n        },\n        set: function (value) {\n            this._seriesChanged = value;\n            if (value) {\n                this.dataPending = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"layoutPending\", {\n        /**\n         * Only `true` while we are waiting for the layout to start.\n         * This will be `false` if the layout has already started and is ongoing.\n         */\n        get: function () {\n            return !!this.layoutCallbackId;\n        },\n        set: function (value) {\n            if (value) {\n                if (!(this.layoutCallbackId || this.dataPending)) {\n                    this.layoutCallbackId = requestAnimationFrame(this._performLayout);\n                }\n            }\n            else if (this.layoutCallbackId) {\n                cancelAnimationFrame(this.layoutCallbackId);\n                this.layoutCallbackId = 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"dataPending\", {\n        get: function () {\n            return !!this.dataCallbackId;\n        },\n        set: function (value) {\n            var _this = this;\n            if (this.dataCallbackId) {\n                clearTimeout(this.dataCallbackId);\n                this.dataCallbackId = 0;\n            }\n            if (value) {\n                this.dataCallbackId = window.setTimeout(function () {\n                    _this.dataPending = false;\n                    _this.processData();\n                }, 0);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.processData = function () {\n        this.layoutPending = false;\n        if (this.axesChanged) {\n            this.assignAxesToSeries(true);\n            this.assignSeriesToAxes();\n        }\n        if (this.seriesChanged) {\n            this.assignSeriesToAxes();\n        }\n        this.series.filter(function (s) { return s.visible; }).forEach(function (series) { return series.processData(); });\n        this.updateLegend();\n        this.layoutPending = true;\n    };\n    Chart.prototype.updateLegend = function () {\n        var legendData = [];\n        this.series.filter(function (s) { return s.showInLegend; }).forEach(function (series) { return series.listSeriesItems(legendData); });\n        this.legend.data = legendData;\n    };\n    Chart.prototype.positionCaptions = function () {\n        var _a = this, title = _a.title, subtitle = _a.subtitle;\n        var titleVisible = false;\n        var subtitleVisible = false;\n        var spacing = 10;\n        var paddingTop = spacing;\n        if (title && title.enabled) {\n            title.node.x = this.width / 2;\n            title.node.y = paddingTop;\n            titleVisible = true;\n            var titleBBox = title.node.computeBBox(); // make sure to set node's x/y, then computeBBox\n            if (titleBBox) {\n                paddingTop = titleBBox.y + titleBBox.height;\n            }\n            if (subtitle && subtitle.enabled) {\n                subtitle.node.x = this.width / 2;\n                subtitle.node.y = paddingTop + spacing;\n                subtitleVisible = true;\n                var subtitleBBox = subtitle.node.computeBBox();\n                if (subtitleBBox) {\n                    paddingTop = subtitleBBox.y + subtitleBBox.height;\n                }\n            }\n        }\n        if (title) {\n            title.node.visible = titleVisible;\n        }\n        if (subtitle) {\n            subtitle.node.visible = subtitleVisible;\n        }\n        this.captionAutoPadding = Math.floor(paddingTop);\n    };\n    Chart.prototype.positionLegend = function () {\n        if (!this.legend.enabled || !this.legend.data.length) {\n            return;\n        }\n        var _a = this, legend = _a.legend, captionAutoPadding = _a.captionAutoPadding, legendAutoPadding = _a.legendAutoPadding;\n        var width = this.width;\n        var height = this.height - captionAutoPadding;\n        var legendGroup = legend.group;\n        var legendSpacing = legend.spacing;\n        var translationX = 0;\n        var translationY = 0;\n        var legendBBox;\n        switch (legend.position) {\n            case 'bottom':\n                legend.performLayout(width - legendSpacing * 2, 0);\n                legendBBox = legendGroup.computeBBox();\n                translationX = (width - legendBBox.width) / 2 - legendBBox.x;\n                translationY = captionAutoPadding + height - legendBBox.height - legendBBox.y - legendSpacing;\n                legendAutoPadding.bottom = legendBBox.height;\n                break;\n            case 'top':\n                legend.performLayout(width - legendSpacing * 2, 0);\n                legendBBox = legendGroup.computeBBox();\n                translationX = (width - legendBBox.width) / 2 - legendBBox.x;\n                translationY = captionAutoPadding + legendSpacing - legendBBox.y;\n                legendAutoPadding.top = legendBBox.height;\n                break;\n            case 'left':\n                legend.performLayout(0, height - legendSpacing * 2);\n                legendBBox = legendGroup.computeBBox();\n                translationX = legendSpacing - legendBBox.x;\n                translationY = captionAutoPadding + (height - legendBBox.height) / 2 - legendBBox.y;\n                legendAutoPadding.left = legendBBox.width;\n                break;\n            default: // case 'right':\n                legend.performLayout(0, height - legendSpacing * 2);\n                legendBBox = legendGroup.computeBBox();\n                translationX = width - legendBBox.width - legendBBox.x - legendSpacing;\n                translationY = captionAutoPadding + (height - legendBBox.height) / 2 - legendBBox.y;\n                legendAutoPadding.right = legendBBox.width;\n                break;\n        }\n        // Round off for pixel grid alignment to work properly.\n        legendGroup.translationX = Math.floor(translationX + legendGroup.translationX);\n        legendGroup.translationY = Math.floor(translationY + legendGroup.translationY);\n    };\n    Chart.prototype.setupDomListeners = function (chartElement) {\n        chartElement.addEventListener('mousedown', this._onMouseDown);\n        chartElement.addEventListener('mousemove', this._onMouseMove);\n        chartElement.addEventListener('mouseup', this._onMouseUp);\n        chartElement.addEventListener('mouseout', this._onMouseOut);\n        chartElement.addEventListener('click', this._onClick);\n    };\n    Chart.prototype.cleanupDomListeners = function (chartElement) {\n        chartElement.removeEventListener('mousedown', this._onMouseDown);\n        chartElement.removeEventListener('mousemove', this._onMouseMove);\n        chartElement.removeEventListener('mouseup', this._onMouseUp);\n        chartElement.removeEventListener('mouseout', this._onMouseOut);\n        chartElement.removeEventListener('click', this._onClick);\n    };\n    // x/y are local canvas coordinates in CSS pixels, not actual pixels\n    Chart.prototype.pickSeriesNode = function (x, y) {\n        if (!this.seriesRect || !this.seriesRect.containsPoint(x, y)) {\n            return undefined;\n        }\n        var allSeries = this.series;\n        var node = undefined;\n        for (var i = allSeries.length - 1; i >= 0; i--) {\n            var series = allSeries[i];\n            node = series.group.pickNode(x, y);\n            if (node) {\n                return {\n                    series: series,\n                    node: node\n                };\n            }\n        }\n    };\n    // Provided x/y are in canvas coordinates.\n    Chart.prototype.pickClosestSeriesNodeDatum = function (x, y) {\n        if (!this.seriesRect || !this.seriesRect.containsPoint(x, y)) {\n            return undefined;\n        }\n        var allSeries = this.series;\n        function getDistance(p1, p2) {\n            return Math.sqrt(Math.pow((p1.x - p2.x), 2) + Math.pow((p1.y - p2.y), 2));\n        }\n        var minDistance = Infinity;\n        var closestDatum;\n        var _loop_1 = function (i) {\n            var series = allSeries[i];\n            if (!series.visible) {\n                return \"continue\";\n            }\n            var hitPoint = series.group.transformPoint(x, y);\n            series.getNodeData().forEach(function (datum) {\n                if (!datum.point) {\n                    return;\n                }\n                var distance = getDistance(hitPoint, datum.point);\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    closestDatum = datum;\n                }\n            });\n        };\n        for (var i = allSeries.length - 1; i >= 0; i--) {\n            _loop_1(i);\n        }\n        if (closestDatum) {\n            return closestDatum;\n        }\n    };\n    Chart.prototype.onMouseMove = function (event) {\n        var _a = this, lastPick = _a.lastPick, tooltipTracking = _a.tooltipTracking;\n        var pick = this.pickSeriesNode(event.offsetX, event.offsetY);\n        var nodeDatum;\n        if (pick && pick.node instanceof Shape) {\n            var node = pick.node;\n            nodeDatum = node.datum;\n            if (lastPick && lastPick.datum === nodeDatum) {\n                lastPick.node = node;\n            }\n            // Marker nodes will have the `point` info in their datums.\n            // Highlight if not a marker node or, if not in the tracking mode, highlight markers too.\n            if ((!node.datum.point || !tooltipTracking)) {\n                if (!lastPick // cursor moved from empty space to a node\n                    || lastPick.node !== node) { // cursor moved from one node to another\n                    this.onSeriesDatumPick(event, node.datum, node);\n                }\n                else if (pick.series.tooltipEnabled) { // cursor moved within the same node\n                    this.showTooltip(event);\n                }\n                // A non-marker node (takes precedence over marker nodes) was highlighted.\n                // Or we are not in the tracking mode.\n                // Either way, we are done at this point.\n                return;\n            }\n        }\n        var hideTooltip = false;\n        // In tracking mode a tooltip is shown for the closest rendered datum.\n        // This makes it easier to show tooltips when markers are small and/or plentiful\n        // and also gives the ability to show tooltips even when the series were configured\n        // to not render markers.\n        if (tooltipTracking) {\n            var closestDatum = this.pickClosestSeriesNodeDatum(event.offsetX, event.offsetY);\n            if (closestDatum && closestDatum.point) {\n                var _b = closestDatum.point, x = _b.x, y = _b.y;\n                var canvas = this.scene.canvas;\n                var point = closestDatum.series.group.inverseTransformPoint(x, y);\n                var canvasRect = canvas.element.getBoundingClientRect();\n                this.onSeriesDatumPick({\n                    pageX: Math.round(canvasRect.left + window.pageXOffset + point.x),\n                    pageY: Math.round(canvasRect.top + window.pageYOffset + point.y)\n                }, closestDatum, nodeDatum === closestDatum ? pick.node : undefined);\n            }\n            else {\n                hideTooltip = true;\n            }\n        }\n        if (lastPick && (hideTooltip || !tooltipTracking)) {\n            // cursor moved from a non-marker node to empty space\n            this.dehighlightDatum();\n            this.hideTooltip();\n            this.lastPick = undefined;\n        }\n    };\n    Chart.prototype.onMouseDown = function (event) { };\n    Chart.prototype.onMouseUp = function (event) { };\n    Chart.prototype.onMouseOut = function (event) {\n        this.toggleTooltip(false);\n    };\n    Chart.prototype.onClick = function (event) {\n        this.checkSeriesNodeClick();\n        this.checkLegendClick(event);\n    };\n    Chart.prototype.checkSeriesNodeClick = function () {\n        var lastPick = this.lastPick;\n        if (lastPick && lastPick.node) {\n            var datum = this.lastPick.datum;\n            datum.series.fireNodeClickEvent(datum);\n        }\n    };\n    Chart.prototype.onSeriesNodeClick = function (event) {\n        this.fireEvent(__assign(__assign({}, event), { type: 'seriesNodeClick' }));\n    };\n    Chart.prototype.checkLegendClick = function (event) {\n        var datum = this.legend.getDatumForPoint(event.offsetX, event.offsetY);\n        if (datum) {\n            var id_1 = datum.id, itemId = datum.itemId, enabled = datum.enabled;\n            var series = find(this.series, function (series) { return series.id === id_1; });\n            if (series) {\n                series.toggleSeriesItem(itemId, !enabled);\n                if (enabled) {\n                    this.hideTooltip();\n                }\n            }\n        }\n    };\n    Chart.prototype.onSeriesDatumPick = function (meta, datum, node) {\n        if (this.lastPick) {\n            // this.lastPick.datum.series.dehighlightDatum();\n            this.dehighlightDatum();\n        }\n        this.lastPick = {\n            datum: datum,\n            node: node\n        };\n        this.highlightDatum(datum);\n        var html = datum.series.tooltipEnabled && datum.series.getTooltipHtml(datum);\n        if (html) {\n            this.showTooltip(meta, html);\n        }\n    };\n    Chart.prototype.highlightDatum = function (datum) {\n        this.highlightedDatum = datum;\n        this.series.forEach(function (s) { return s.onHighlightChange(); });\n    };\n    Chart.prototype.dehighlightDatum = function () {\n        if (this.highlightedDatum) {\n            this.highlightedDatum = undefined;\n            this.series.forEach(function (s) { return s.onHighlightChange(); });\n        }\n    };\n    Object.defineProperty(Chart.prototype, \"tooltipClass\", {\n        get: function () {\n            return this._tooltipClass;\n        },\n        set: function (value) {\n            if (this._tooltipClass !== value) {\n                this._tooltipClass = value;\n                this.toggleTooltip();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.toggleTooltip = function (visible) {\n        if (!visible && this.lastPick) {\n            this.dehighlightDatum();\n            this.lastPick = undefined;\n        }\n        this.updateTooltipClass(visible);\n    };\n    Chart.prototype.updateTooltipClass = function (visible, constrained) {\n        var classList = [Chart.defaultTooltipClass, this.tooltipClass];\n        if (visible === true) {\n            classList.push(Chart.defaultTooltipClass + \"-visible\");\n        }\n        if (constrained !== true) {\n            classList.push(Chart.defaultTooltipClass + \"-arrow\");\n        }\n        this.tooltipElement.setAttribute('class', classList.join(' '));\n    };\n    /**\n     * Shows tooltip at the given event's coordinates.\n     * If the `html` parameter is missing, moves the existing tooltip to the new position.\n     */\n    Chart.prototype.showTooltip = function (meta, html) {\n        var el = this.tooltipElement;\n        var container = this.container;\n        if (html !== undefined) {\n            el.innerHTML = html;\n        }\n        else if (!el.innerHTML) {\n            return;\n        }\n        if (html) {\n            this.toggleTooltip(true);\n        }\n        var left = meta.pageX - el.clientWidth / 2;\n        var top = meta.pageY - el.clientHeight - 8;\n        if (container) {\n            var tooltipRect = el.getBoundingClientRect();\n            var minLeft = 0;\n            var maxLeft = window.innerWidth - tooltipRect.width;\n            if (left < minLeft) {\n                left = minLeft;\n                this.updateTooltipClass(true, true);\n            }\n            else if (left > maxLeft) {\n                left = maxLeft;\n                this.updateTooltipClass(true, true);\n            }\n        }\n        el.style.left = left + \"px\";\n        el.style.top = top + \"px\";\n    };\n    Chart.prototype.hideTooltip = function () {\n        this.toggleTooltip(false);\n    };\n    Chart.defaultTooltipClass = 'ag-chart-tooltip';\n    Chart.tooltipDocuments = [];\n    __decorate([\n        reactive('layoutChange')\n    ], Chart.prototype, \"padding\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Chart.prototype, \"title\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Chart.prototype, \"subtitle\", void 0);\n    return Chart;\n}(Observable));\nexport { Chart };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Node } from \"./node\";\nimport { Path2D } from \"./path2D\";\nimport { BBox } from \"./bbox\";\n/**\n * Acts as `Group` node but with specified bounds that form a rectangle.\n * Any parts of the child nodes outside that rectangle will not be visible.\n * Unlike the `Group` node, the `ClipRect` node cannot be transformed.\n */\nvar ClipRect = /** @class */ (function (_super) {\n    __extends(ClipRect, _super);\n    function ClipRect() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isContainerNode = true;\n        _this.path = new Path2D();\n        _this._active = true;\n        _this._dirtyPath = true;\n        _this._x = 0;\n        _this._y = 0;\n        _this._width = 10;\n        _this._height = 10;\n        return _this;\n    }\n    ClipRect.prototype.containsPoint = function (x, y) {\n        var point = this.transformPoint(x, y);\n        return point.x >= this.x && point.x <= this.x + this.width\n            && point.y >= this.y && point.y <= this.y + this.height;\n    };\n    Object.defineProperty(ClipRect.prototype, \"active\", {\n        get: function () {\n            return this._active;\n        },\n        set: function (value) {\n            if (this._active !== value) {\n                this._active = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ClipRect.prototype, \"dirtyPath\", {\n        get: function () {\n            return this._dirtyPath;\n        },\n        set: function (value) {\n            if (this._dirtyPath !== value) {\n                this._dirtyPath = value;\n                if (value) {\n                    this.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ClipRect.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            if (this._x !== value) {\n                this._x = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ClipRect.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            if (this._y !== value) {\n                this._y = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ClipRect.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        set: function (value) {\n            if (this._width !== value) {\n                this._width = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ClipRect.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        set: function (value) {\n            if (this._height !== value) {\n                this._height = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ClipRect.prototype.updatePath = function () {\n        var path = this.path;\n        path.clear();\n        path.rect(this.x, this.y, this.width, this.height);\n        this.dirtyPath = false;\n    };\n    ClipRect.prototype.computeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        return new BBox(x, y, width, height);\n    };\n    ClipRect.prototype.render = function (ctx) {\n        if (this.active) {\n            if (this.dirtyPath) {\n                this.updatePath();\n            }\n            this.scene.appendPath(this.path);\n            ctx.clip();\n        }\n        var children = this.children;\n        var n = children.length;\n        for (var i = 0; i < n; i++) {\n            ctx.save();\n            var child = children[i];\n            if (child.visible) {\n                child.render(ctx);\n            }\n            ctx.restore();\n        }\n        // debug\n        // this.computeBBox().render(ctx, {\n        //     label: this.id,\n        //     resetTransform: true,\n        //     fillStyle: 'rgba(0, 0, 0, 0.5)'\n        // });\n    };\n    ClipRect.className = 'ClipRect';\n    return ClipRect;\n}(Node));\nexport { ClipRect };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Path } from \"../../scene/shape/path\";\nimport { BBox } from \"../../scene/bbox\";\nvar RangeHandle = /** @class */ (function (_super) {\n    __extends(RangeHandle, _super);\n    function RangeHandle() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._fill = '#f2f2f2';\n        _this._stroke = '#999999';\n        _this._strokeWidth = 1;\n        _this._lineCap = 'square';\n        _this._centerX = 0;\n        _this._centerY = 0;\n        // Use an even number for better looking results.\n        _this._width = 8;\n        // Use an even number for better looking results.\n        _this._gripLineGap = 2;\n        // Use an even number for better looking results.\n        _this._gripLineLength = 8;\n        _this._height = 16;\n        return _this;\n    }\n    Object.defineProperty(RangeHandle.prototype, \"centerX\", {\n        get: function () {\n            return this._centerX;\n        },\n        set: function (value) {\n            if (this._centerX !== value) {\n                this._centerX = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"centerY\", {\n        get: function () {\n            return this._centerY;\n        },\n        set: function (value) {\n            if (this._centerY !== value) {\n                this._centerY = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        set: function (value) {\n            if (this._width !== value) {\n                this._width = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"gripLineGap\", {\n        get: function () {\n            return this._gripLineGap;\n        },\n        set: function (value) {\n            if (this._gripLineGap !== value) {\n                this._gripLineGap = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"gripLineLength\", {\n        get: function () {\n            return this._gripLineLength;\n        },\n        set: function (value) {\n            if (this._gripLineLength !== value) {\n                this._gripLineLength = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        set: function (value) {\n            if (this._height !== value) {\n                this._height = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RangeHandle.prototype.computeBBox = function () {\n        var _a = this, centerX = _a.centerX, centerY = _a.centerY, width = _a.width, height = _a.height;\n        var x = centerX - width / 2;\n        var y = centerY - height / 2;\n        return new BBox(x, y, width, height);\n    };\n    RangeHandle.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        var bbox = this.computeBBox();\n        return bbox.containsPoint(point.x, point.y);\n    };\n    RangeHandle.prototype.updatePath = function () {\n        var _a = this, path = _a.path, centerX = _a.centerX, centerY = _a.centerY, width = _a.width, height = _a.height;\n        var _b = this, a = _b.alignment, al = _b.align;\n        path.clear();\n        var x = centerX - width / 2;\n        var y = centerY - height / 2;\n        var ax = al(a, x);\n        var ay = al(a, y);\n        var axw = ax + al(a, x, width);\n        var ayh = ay + al(a, y, height);\n        // Handle.\n        path.moveTo(ax, ay);\n        path.lineTo(axw, ay);\n        path.lineTo(axw, ayh);\n        path.lineTo(ax, ayh);\n        path.lineTo(ax, ay);\n        // Grip lines.\n        var dx = this.gripLineGap / 2;\n        var dy = this.gripLineLength / 2;\n        path.moveTo(al(a, centerX - dx), al(a, centerY - dy));\n        path.lineTo(al(a, centerX - dx), al(a, centerY + dy));\n        path.moveTo(al(a, centerX + dx), al(a, centerY - dy));\n        path.lineTo(al(a, centerX + dx), al(a, centerY + dy));\n    };\n    RangeHandle.className = 'RangeHandle';\n    return RangeHandle;\n}(Path));\nexport { RangeHandle };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Path } from \"../../scene/shape/path\";\nimport { BBox } from \"../../scene/bbox\";\nvar RangeMask = /** @class */ (function (_super) {\n    __extends(RangeMask, _super);\n    function RangeMask() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._stroke = '#999999';\n        _this._strokeWidth = 1;\n        _this._fill = '#999999';\n        _this._fillOpacity = 0.2;\n        _this._lineCap = 'square';\n        _this._x = 0;\n        _this._y = 0;\n        _this._width = 200;\n        _this._height = 30;\n        _this.minRange = 0.05;\n        _this._min = 0;\n        _this._max = 1;\n        return _this;\n    }\n    Object.defineProperty(RangeMask.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            if (this._x !== value) {\n                this._x = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            if (this._y !== value) {\n                this._y = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        set: function (value) {\n            if (this._width !== value) {\n                this._width = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        set: function (value) {\n            if (this._height !== value) {\n                this._height = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"min\", {\n        get: function () {\n            return this._min;\n        },\n        set: function (value) {\n            value = Math.min(Math.max(value, 0), this.max - this.minRange);\n            if (isNaN(value)) {\n                return;\n            }\n            if (this._min !== value) {\n                this._min = value;\n                this.dirtyPath = true;\n                this.onRangeChange && this.onRangeChange(value, this.max);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"max\", {\n        get: function () {\n            return this._max;\n        },\n        set: function (value) {\n            value = Math.max(Math.min(value, 1), this.min + this.minRange);\n            if (isNaN(value)) {\n                return;\n            }\n            if (this._max !== value) {\n                this._max = value;\n                this.dirtyPath = true;\n                this.onRangeChange && this.onRangeChange(this.min, value);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RangeMask.prototype.computeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        return new BBox(x, y, width, height);\n    };\n    RangeMask.prototype.computeVisibleRangeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, width = _a.width, height = _a.height, min = _a.min, max = _a.max;\n        var minX = x + width * min;\n        var maxX = x + width * max;\n        return new BBox(minX, y, maxX - minX, height);\n    };\n    RangeMask.prototype.updatePath = function () {\n        var _a = this, path = _a.path, x = _a.x, y = _a.y, width = _a.width, height = _a.height, min = _a.min, max = _a.max;\n        var _b = this, a = _b.alignment, al = _b.align;\n        path.clear();\n        var ax = al(a, x);\n        var ay = al(a, y);\n        var axw = ax + al(a, x, width);\n        var ayh = ay + al(a, y, height);\n        // Whole range.\n        path.moveTo(ax, ay);\n        path.lineTo(axw, ay);\n        path.lineTo(axw, ayh);\n        path.lineTo(ax, ayh);\n        path.lineTo(ax, ay);\n        var minX = al(a, x + width * min);\n        var maxX = al(a, x + width * max);\n        // Visible range.\n        path.moveTo(minX, ay);\n        path.lineTo(minX, ayh);\n        path.lineTo(maxX, ayh);\n        path.lineTo(maxX, ay);\n        path.lineTo(minX, ay);\n    };\n    RangeMask.className = 'RangeMask';\n    return RangeMask;\n}(Path));\nexport { RangeMask };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Group } from \"../../scene/group\";\nimport { RangeHandle } from \"./rangeHandle\";\nimport { RangeMask } from \"./rangeMask\";\nvar RangeSelector = /** @class */ (function (_super) {\n    __extends(RangeSelector, _super);\n    function RangeSelector() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isContainerNode = true;\n        _this.minHandle = new RangeHandle();\n        _this.maxHandle = new RangeHandle();\n        _this.mask = (function () {\n            var _a = RangeSelector.defaults, x = _a.x, y = _a.y, width = _a.width, height = _a.height, min = _a.min, max = _a.max;\n            var mask = new RangeMask();\n            mask.x = x;\n            mask.y = y;\n            mask.width = width;\n            mask.height = height;\n            mask.min = min;\n            mask.max = max;\n            var _b = _this, minHandle = _b.minHandle, maxHandle = _b.maxHandle;\n            minHandle.centerX = x;\n            maxHandle.centerX = x + width;\n            minHandle.centerY = maxHandle.centerY = y + height / 2;\n            _this.append([mask, minHandle, maxHandle]);\n            mask.onRangeChange = function (min, max) {\n                _this.updateHandles();\n                _this.onRangeChange && _this.onRangeChange(min, max);\n            };\n            return mask;\n        })();\n        _this._x = RangeSelector.defaults.x;\n        _this._y = RangeSelector.defaults.y;\n        _this._width = RangeSelector.defaults.width;\n        _this._height = RangeSelector.defaults.height;\n        _this._min = RangeSelector.defaults.min;\n        _this._max = RangeSelector.defaults.max;\n        return _this;\n    }\n    Object.defineProperty(RangeSelector.prototype, \"x\", {\n        get: function () {\n            return this.mask.x;\n        },\n        set: function (value) {\n            this.mask.x = value;\n            this.updateHandles();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"y\", {\n        get: function () {\n            return this.mask.y;\n        },\n        set: function (value) {\n            this.mask.y = value;\n            this.updateHandles();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"width\", {\n        get: function () {\n            return this.mask.width;\n        },\n        set: function (value) {\n            this.mask.width = value;\n            this.updateHandles();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"height\", {\n        get: function () {\n            return this.mask.height;\n        },\n        set: function (value) {\n            this.mask.height = value;\n            this.updateHandles();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"min\", {\n        get: function () {\n            return this.mask.min;\n        },\n        set: function (value) {\n            this.mask.min = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"max\", {\n        get: function () {\n            return this.mask.max;\n        },\n        set: function (value) {\n            this.mask.max = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RangeSelector.prototype.updateHandles = function () {\n        var _a = this, minHandle = _a.minHandle, maxHandle = _a.maxHandle, x = _a.x, y = _a.y, width = _a.width, height = _a.height, mask = _a.mask;\n        minHandle.centerX = x + width * mask.min;\n        maxHandle.centerX = x + width * mask.max;\n        minHandle.centerY = maxHandle.centerY = y + height / 2;\n    };\n    RangeSelector.prototype.computeBBox = function () {\n        return this.mask.computeBBox();\n    };\n    RangeSelector.prototype.computeVisibleRangeBBox = function () {\n        return this.mask.computeVisibleRangeBBox();\n    };\n    RangeSelector.prototype.render = function (ctx) {\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        this.matrix.toContext(ctx);\n        var _a = this, mask = _a.mask, minHandle = _a.minHandle, maxHandle = _a.maxHandle;\n        [mask, minHandle, maxHandle].forEach(function (child) {\n            ctx.save();\n            if (child.visible) {\n                child.render(ctx);\n            }\n            ctx.restore();\n        });\n    };\n    RangeSelector.className = 'Range';\n    RangeSelector.defaults = {\n        x: 0,\n        y: 0,\n        width: 200,\n        height: 30,\n        min: 0,\n        max: 1\n    };\n    return RangeSelector;\n}(Group));\nexport { RangeSelector };\n","var NavigatorMask = /** @class */ (function () {\n    function NavigatorMask(rangeMask) {\n        this.rm = rangeMask;\n    }\n    Object.defineProperty(NavigatorMask.prototype, \"fill\", {\n        get: function () {\n            return this.rm.fill;\n        },\n        set: function (value) {\n            this.rm.fill = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorMask.prototype, \"stroke\", {\n        get: function () {\n            return this.rm.stroke;\n        },\n        set: function (value) {\n            this.rm.stroke = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorMask.prototype, \"strokeWidth\", {\n        get: function () {\n            return this.rm.strokeWidth;\n        },\n        set: function (value) {\n            this.rm.strokeWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorMask.prototype, \"fillOpacity\", {\n        get: function () {\n            return this.rm.fillOpacity;\n        },\n        set: function (value) {\n            this.rm.fillOpacity = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return NavigatorMask;\n}());\nexport { NavigatorMask };\n","var NavigatorHandle = /** @class */ (function () {\n    function NavigatorHandle(rangeHandle) {\n        this.rh = rangeHandle;\n    }\n    Object.defineProperty(NavigatorHandle.prototype, \"fill\", {\n        get: function () {\n            return this.rh.fill;\n        },\n        set: function (value) {\n            this.rh.fill = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"stroke\", {\n        get: function () {\n            return this.rh.stroke;\n        },\n        set: function (value) {\n            this.rh.stroke = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"strokeWidth\", {\n        get: function () {\n            return this.rh.strokeWidth;\n        },\n        set: function (value) {\n            this.rh.strokeWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"width\", {\n        get: function () {\n            return this.rh.width;\n        },\n        set: function (value) {\n            this.rh.width = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"height\", {\n        get: function () {\n            return this.rh.height;\n        },\n        set: function (value) {\n            this.rh.height = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"gripLineGap\", {\n        get: function () {\n            return this.rh.gripLineGap;\n        },\n        set: function (value) {\n            this.rh.gripLineGap = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"gripLineLength\", {\n        get: function () {\n            return this.rh.gripLineLength;\n        },\n        set: function (value) {\n            this.rh.gripLineLength = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return NavigatorHandle;\n}());\nexport { NavigatorHandle };\n","import { RangeSelector } from \"../shapes/rangeSelector\";\nimport { ChartAxisDirection } from \"../chartAxis\";\nimport { BBox } from \"../../scene/bbox\";\nimport { NavigatorMask } from \"./navigatorMask\";\nimport { NavigatorHandle } from \"./navigatorHandle\";\nvar Navigator = /** @class */ (function () {\n    function Navigator(chart) {\n        var _this = this;\n        this.rs = new RangeSelector();\n        this.mask = new NavigatorMask(this.rs.mask);\n        this.minHandle = new NavigatorHandle(this.rs.minHandle);\n        this.maxHandle = new NavigatorHandle(this.rs.maxHandle);\n        this.minHandleDragging = false;\n        this.maxHandleDragging = false;\n        this.panHandleOffset = NaN;\n        this._margin = 10;\n        this.chart = chart;\n        chart.scene.root.append(this.rs);\n        this.rs.onRangeChange = function (min, max) { return _this.updateAxes(min, max); };\n    }\n    Object.defineProperty(Navigator.prototype, \"enabled\", {\n        get: function () {\n            return this.rs.visible;\n        },\n        set: function (value) {\n            this.rs.visible = value;\n            this.chart.layoutPending = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"x\", {\n        get: function () {\n            return this.rs.x;\n        },\n        set: function (value) {\n            this.rs.x = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"y\", {\n        get: function () {\n            return this.rs.y;\n        },\n        set: function (value) {\n            this.rs.y = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"width\", {\n        get: function () {\n            return this.rs.width;\n        },\n        set: function (value) {\n            this.rs.width = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"height\", {\n        get: function () {\n            return this.rs.height;\n        },\n        set: function (value) {\n            this.rs.height = value;\n            this.chart.layoutPending = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"margin\", {\n        get: function () {\n            return this._margin;\n        },\n        set: function (value) {\n            this._margin = value;\n            this.chart.layoutPending = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"min\", {\n        get: function () {\n            return this.rs.min;\n        },\n        set: function (value) {\n            this.rs.min = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"max\", {\n        get: function () {\n            return this.rs.max;\n        },\n        set: function (value) {\n            this.rs.max = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Navigator.prototype.updateAxes = function (min, max) {\n        this.chart.axes.forEach(function (axis) {\n            if (axis.direction === ChartAxisDirection.X) {\n                axis.visibleRange = [min, max];\n                axis.update();\n            }\n        });\n        this.chart.series.forEach(function (series) { return series.update(); });\n    };\n    Navigator.prototype.onMouseDown = function (event) {\n        var offsetX = event.offsetX, offsetY = event.offsetY;\n        var rs = this.rs;\n        var minHandle = rs.minHandle, maxHandle = rs.maxHandle, x = rs.x, width = rs.width, min = rs.min;\n        var visibleRange = rs.computeVisibleRangeBBox();\n        if (!(this.minHandleDragging || this.maxHandleDragging)) {\n            if (minHandle.containsPoint(offsetX, offsetY)) {\n                this.minHandleDragging = true;\n            }\n            else if (maxHandle.containsPoint(offsetX, offsetY)) {\n                this.maxHandleDragging = true;\n            }\n            else if (visibleRange.containsPoint(offsetX, offsetY)) {\n                this.panHandleOffset = (offsetX - x) / width - min;\n            }\n        }\n    };\n    Navigator.prototype.onMouseMove = function (event) {\n        var _a = this, rs = _a.rs, panHandleOffset = _a.panHandleOffset;\n        var x = rs.x, y = rs.y, width = rs.width, height = rs.height, minHandle = rs.minHandle, maxHandle = rs.maxHandle;\n        var style = this.chart.element.style;\n        var offsetX = event.offsetX, offsetY = event.offsetY;\n        var minX = x + width * rs.min;\n        var maxX = x + width * rs.max;\n        var visibleRange = new BBox(minX, y, maxX - minX, height);\n        function getRatio() {\n            return Math.min(Math.max((offsetX - x) / width, 0), 1);\n        }\n        if (minHandle.containsPoint(offsetX, offsetY)) {\n            style.cursor = 'ew-resize';\n        }\n        else if (maxHandle.containsPoint(offsetX, offsetY)) {\n            style.cursor = 'ew-resize';\n        }\n        else if (visibleRange.containsPoint(offsetX, offsetY)) {\n            style.cursor = 'grab';\n        }\n        else {\n            style.cursor = 'default';\n        }\n        if (this.minHandleDragging) {\n            rs.min = getRatio();\n        }\n        else if (this.maxHandleDragging) {\n            rs.max = getRatio();\n        }\n        else if (!isNaN(panHandleOffset)) {\n            var span = rs.max - rs.min;\n            var min = Math.min(getRatio() - panHandleOffset, 1 - span);\n            if (min <= rs.min) { // pan left\n                rs.min = min;\n                rs.max = rs.min + span;\n            }\n            else { // pan right\n                rs.max = min + span;\n                rs.min = rs.max - span;\n            }\n        }\n    };\n    Navigator.prototype.onMouseOut = function (event) {\n        this.stopHandleDragging();\n    };\n    Navigator.prototype.onMouseUp = function (event) {\n        this.stopHandleDragging();\n    };\n    Navigator.prototype.stopHandleDragging = function () {\n        this.minHandleDragging = this.maxHandleDragging = false;\n        this.panHandleOffset = NaN;\n    };\n    return Navigator;\n}());\nexport { Navigator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Chart } from \"./chart\";\nimport { numericExtent } from \"../util/array\";\nimport { CategoryAxis } from \"./axis/categoryAxis\";\nimport { GroupedCategoryAxis } from \"./axis/groupedCategoryAxis\";\nimport { ChartAxisPosition } from \"./chartAxis\";\nimport { BBox } from \"../scene/bbox\";\nimport { ClipRect } from \"../scene/clipRect\";\nimport { Navigator } from \"./navigator/navigator\";\nvar CartesianChart = /** @class */ (function (_super) {\n    __extends(CartesianChart, _super);\n    function CartesianChart(document) {\n        if (document === void 0) { document = window.document; }\n        var _this = _super.call(this, document) || this;\n        _this._seriesRoot = new ClipRect();\n        _this.navigator = new Navigator(_this);\n        // Prevent the scene from rendering chart components in an invalid state\n        // (before first layout is performed).\n        _this.scene.root.visible = false;\n        var root = _this.scene.root;\n        root.append(_this.seriesRoot);\n        root.append(_this.legend.group);\n        _this.navigator.enabled = false;\n        return _this;\n    }\n    Object.defineProperty(CartesianChart.prototype, \"seriesRoot\", {\n        get: function () {\n            return this._seriesRoot;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CartesianChart.prototype.performLayout = function () {\n        if (this.dataPending) {\n            return;\n        }\n        this.scene.root.visible = true;\n        var _a = this, width = _a.width, height = _a.height, axes = _a.axes, legend = _a.legend, navigator = _a.navigator;\n        var shrinkRect = new BBox(0, 0, width, height);\n        this.positionCaptions();\n        this.positionLegend();\n        if (legend.enabled && legend.data.length) {\n            var legendAutoPadding = this.legendAutoPadding;\n            var legendPadding = this.legend.spacing;\n            shrinkRect.x += legendAutoPadding.left;\n            shrinkRect.y += legendAutoPadding.top;\n            shrinkRect.width -= legendAutoPadding.left + legendAutoPadding.right;\n            shrinkRect.height -= legendAutoPadding.top + legendAutoPadding.bottom;\n            switch (this.legend.position) {\n                case 'right':\n                    shrinkRect.width -= legendPadding;\n                    break;\n                case 'bottom':\n                    shrinkRect.height -= legendPadding;\n                    break;\n                case 'left':\n                    shrinkRect.x += legendPadding;\n                    shrinkRect.width -= legendPadding;\n                    break;\n                case 'top':\n                    shrinkRect.y += legendPadding;\n                    shrinkRect.height -= legendPadding;\n                    break;\n            }\n        }\n        var _b = this, captionAutoPadding = _b.captionAutoPadding, padding = _b.padding;\n        this.updateAxes();\n        shrinkRect.x += padding.left;\n        shrinkRect.width -= padding.left + padding.right;\n        shrinkRect.y += padding.top + captionAutoPadding;\n        shrinkRect.height -= padding.top + captionAutoPadding + padding.bottom;\n        if (navigator.enabled) {\n            shrinkRect.height -= navigator.height + navigator.margin;\n        }\n        var bottomAxesHeight = 0;\n        axes.forEach(function (axis) {\n            axis.group.visible = true;\n            var axisThickness = Math.floor(axis.computeBBox().width);\n            switch (axis.position) {\n                case ChartAxisPosition.Top:\n                    shrinkRect.y += axisThickness;\n                    shrinkRect.height -= axisThickness;\n                    axis.translation.y = Math.floor(shrinkRect.y + 1);\n                    axis.label.mirrored = true;\n                    break;\n                case ChartAxisPosition.Right:\n                    shrinkRect.width -= axisThickness;\n                    axis.translation.x = Math.floor(shrinkRect.x + shrinkRect.width);\n                    axis.label.mirrored = true;\n                    break;\n                case ChartAxisPosition.Bottom:\n                    shrinkRect.height -= axisThickness;\n                    bottomAxesHeight += axisThickness;\n                    axis.translation.y = Math.floor(shrinkRect.y + shrinkRect.height + 1);\n                    break;\n                case ChartAxisPosition.Left:\n                    shrinkRect.x += axisThickness;\n                    shrinkRect.width -= axisThickness;\n                    axis.translation.x = Math.floor(shrinkRect.x);\n                    break;\n            }\n        });\n        axes.forEach(function (axis) {\n            switch (axis.position) {\n                case ChartAxisPosition.Top:\n                    axis.translation.x = Math.floor(shrinkRect.x);\n                    axis.range = [0, shrinkRect.width];\n                    axis.gridLength = shrinkRect.height;\n                    break;\n                case ChartAxisPosition.Right:\n                    axis.translation.y = Math.floor(shrinkRect.y);\n                    if (axis instanceof CategoryAxis || axis instanceof GroupedCategoryAxis) {\n                        axis.range = [0, shrinkRect.height];\n                    }\n                    else {\n                        axis.range = [shrinkRect.height, 0];\n                    }\n                    axis.gridLength = shrinkRect.width;\n                    break;\n                case ChartAxisPosition.Bottom:\n                    axis.translation.x = Math.floor(shrinkRect.x);\n                    axis.range = [0, shrinkRect.width];\n                    axis.gridLength = shrinkRect.height;\n                    break;\n                case ChartAxisPosition.Left:\n                    axis.translation.y = Math.floor(shrinkRect.y);\n                    if (axis instanceof CategoryAxis || axis instanceof GroupedCategoryAxis) {\n                        axis.range = [0, shrinkRect.height];\n                    }\n                    else {\n                        axis.range = [shrinkRect.height, 0];\n                    }\n                    axis.gridLength = shrinkRect.width;\n                    break;\n            }\n        });\n        this.seriesRect = shrinkRect;\n        this.series.forEach(function (series) {\n            series.group.translationX = Math.floor(shrinkRect.x);\n            series.group.translationY = Math.floor(shrinkRect.y);\n            series.update(); // this has to happen after the `updateAxes` call\n        });\n        var seriesRoot = this.seriesRoot;\n        seriesRoot.x = shrinkRect.x;\n        seriesRoot.y = shrinkRect.y;\n        seriesRoot.width = shrinkRect.width;\n        seriesRoot.height = shrinkRect.height;\n        if (navigator.enabled) {\n            navigator.x = shrinkRect.x;\n            navigator.y = shrinkRect.y + shrinkRect.height + bottomAxesHeight + navigator.margin;\n            navigator.width = shrinkRect.width;\n        }\n        this.axes.forEach(function (axis) { return axis.update(); });\n    };\n    CartesianChart.prototype.initSeries = function (series) {\n        _super.prototype.initSeries.call(this, series);\n        series.addEventListener('dataProcessed', this.updateAxes, this);\n    };\n    CartesianChart.prototype.freeSeries = function (series) {\n        _super.prototype.freeSeries.call(this, series);\n        series.removeEventListener('dataProcessed', this.updateAxes, this);\n    };\n    CartesianChart.prototype.onMouseDown = function (event) {\n        _super.prototype.onMouseDown.call(this, event);\n        this.navigator.onMouseDown(event);\n    };\n    CartesianChart.prototype.onMouseMove = function (event) {\n        _super.prototype.onMouseMove.call(this, event);\n        this.navigator.onMouseMove(event);\n    };\n    CartesianChart.prototype.onMouseUp = function (event) {\n        _super.prototype.onMouseUp.call(this, event);\n        this.navigator.onMouseUp(event);\n    };\n    CartesianChart.prototype.onMouseOut = function (event) {\n        _super.prototype.onMouseOut.call(this, event);\n        this.navigator.onMouseUp(event);\n    };\n    CartesianChart.prototype.updateAxes = function () {\n        this.axes.forEach(function (axis) {\n            var _a;\n            var direction = axis.direction, boundSeries = axis.boundSeries;\n            if (axis.linkedTo) {\n                axis.domain = axis.linkedTo.domain;\n            }\n            else {\n                var domains_1 = [];\n                boundSeries.filter(function (s) { return s.visible; }).forEach(function (series) {\n                    domains_1.push(series.getDomain(direction));\n                });\n                var domain = (_a = new Array()).concat.apply(_a, domains_1);\n                axis.domain = numericExtent(domain) || domain; // if numeric extent can't be found, it's categories\n            }\n            axis.update();\n        });\n    };\n    CartesianChart.className = 'CartesianChart';\n    CartesianChart.type = 'cartesian';\n    return CartesianChart;\n}(Chart));\nexport { CartesianChart };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CartesianChart } from \"./cartesianChart\";\nimport { numericExtent } from \"../util/array\";\nimport { ChartAxisDirection } from \"./chartAxis\";\nvar GroupedCategoryChart = /** @class */ (function (_super) {\n    __extends(GroupedCategoryChart, _super);\n    function GroupedCategoryChart() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GroupedCategoryChart.prototype.updateAxes = function () {\n        this.axes.forEach(function (axis) {\n            var _a;\n            var direction = axis.direction, boundSeries = axis.boundSeries;\n            var domains = [];\n            var isNumericX = undefined;\n            boundSeries.filter(function (s) { return s.visible; }).forEach(function (series) {\n                if (direction === ChartAxisDirection.X) {\n                    if (isNumericX === undefined) {\n                        // always add first X domain\n                        var domain_1 = series.getDomain(direction);\n                        domains.push(domain_1);\n                        isNumericX = typeof domain_1[0] === 'number';\n                    }\n                    else if (isNumericX) {\n                        // only add further X domains if the axis is numeric\n                        domains.push(series.getDomain(direction));\n                    }\n                }\n                else {\n                    domains.push(series.getDomain(direction));\n                }\n            });\n            var domain = (_a = new Array()).concat.apply(_a, domains);\n            axis.domain = numericExtent(domain) || domain;\n            axis.update();\n        });\n    };\n    return GroupedCategoryChart;\n}(CartesianChart));\nexport { GroupedCategoryChart };\n","export var borneo = {\n    fills: [\n        '#f3622d',\n        '#fba71b',\n        '#57b757',\n        '#41a9c9',\n        '#4258c9',\n        '#9a42c8',\n        '#c84164',\n        '#888888'\n    ],\n    strokes: [\n        '#aa4520',\n        '#b07513',\n        '#3d803d',\n        '#2d768d',\n        '#2e3e8d',\n        '#6c2e8c',\n        '#8c2d46',\n        '#5f5f5f'\n    ]\n};\nexport var material = {\n    fills: [\n        '#f44336',\n        '#e91e63',\n        '#9c27b0',\n        '#673ab7',\n        '#3f51b5',\n        '#2196f3',\n        '#03a9f4',\n        '#00bcd4',\n        '#009688',\n        '#4caf50',\n        '#8bc34a',\n        '#cddc39',\n        '#ffeb3b',\n        '#ffc107',\n        '#ff9800',\n        '#ff5722'\n    ],\n    strokes: [\n        '#ab2f26',\n        '#a31545',\n        '#6d1b7b',\n        '#482980',\n        '#2c397f',\n        '#1769aa',\n        '#0276ab',\n        '#008494',\n        '#00695f',\n        '#357a38',\n        '#618834',\n        '#909a28',\n        '#b3a429',\n        '#b38705',\n        '#b36a00',\n        '#b33d18'\n    ]\n};\nexport var pastel = {\n    fills: [\n        '#c16068',\n        '#a2bf8a',\n        '#ebcc87',\n        '#80a0c3',\n        '#b58dae',\n        '#85c0d1'\n    ],\n    strokes: [\n        '#874349',\n        '#718661',\n        '#a48f5f',\n        '#5a7088',\n        '#7f637a',\n        '#5d8692'\n    ]\n};\nexport var bright = {\n    fills: [\n        '#5BC0EB',\n        '#FDE74C',\n        '#9BC53D',\n        '#E55934',\n        '#FA7921',\n        '#fa3081'\n    ],\n    strokes: [\n        '#4086a4',\n        '#b1a235',\n        '#6c8a2b',\n        '#a03e24',\n        '#af5517',\n        '#af225a'\n    ]\n};\nexport var flat = {\n    fills: [\n        '#febe76',\n        '#ff7979',\n        '#badc58',\n        '#f9ca23',\n        '#f0932b',\n        '#eb4c4b',\n        '#6ab04c',\n        '#7ed6df',\n        '#e056fd',\n        '#686de0'\n    ],\n    strokes: [\n        '#b28553',\n        '#b35555',\n        '#829a3e',\n        '#ae8d19',\n        '#a8671e',\n        '#a43535',\n        '#4a7b35',\n        '#58969c',\n        '#9d3cb1',\n        '#494c9d'\n    ]\n};\nexport default borneo;\nexport var palettes = (function () {\n    var map = new Map();\n    map.set('borneo', borneo);\n    map.set('material', material);\n    map.set('pastel', pastel);\n    map.set('bright', bright);\n    map.set('flat', flat);\n    return map;\n})();\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from \"../series\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { SeriesMarker } from \"../seriesMarker\";\nvar PolarSeries = /** @class */ (function (_super) {\n    __extends(PolarSeries, _super);\n    function PolarSeries() {\n        var _a;\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.directionKeys = (_a = {},\n            _a[ChartAxisDirection.X] = ['angleKey'],\n            _a[ChartAxisDirection.Y] = ['radiusKey'],\n            _a);\n        /**\n         * The center of the polar series (for example, the center of a pie).\n         * If the polar chart has multiple series, all of them will have their\n         * center set to the same value as a result of the polar chart layout.\n         * The center coordinates are not supposed to be set by the user.\n         */\n        _this.centerX = 0;\n        _this.centerY = 0;\n        /**\n         * The maximum radius the series can use.\n         * This value is set automatically as a result of the polar chart layout\n         * and is not supposed to be set by the user.\n         */\n        _this.radius = 0;\n        return _this;\n    }\n    return PolarSeries;\n}(Series));\nexport { PolarSeries };\nvar PolarSeriesMarker = /** @class */ (function (_super) {\n    __extends(PolarSeriesMarker, _super);\n    function PolarSeriesMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return PolarSeriesMarker;\n}(SeriesMarker));\nexport { PolarSeriesMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Chart } from \"./chart\";\nimport { PolarSeries } from \"./series/polar/polarSeries\";\nimport { reactive } from \"../util/observable\";\nimport { Padding } from \"../util/padding\";\nimport { BBox } from \"../scene/bbox\";\nvar PolarChart = /** @class */ (function (_super) {\n    __extends(PolarChart, _super);\n    function PolarChart(document) {\n        if (document === void 0) { document = window.document; }\n        var _this = _super.call(this, document) || this;\n        _this.padding = new Padding(40);\n        _this.scene.root.append(_this.legend.group);\n        return _this;\n    }\n    Object.defineProperty(PolarChart.prototype, \"seriesRoot\", {\n        get: function () {\n            return this.scene.root;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PolarChart.prototype.performLayout = function () {\n        var shrinkRect = new BBox(0, 0, this.width, this.height);\n        this.positionCaptions();\n        this.positionLegend();\n        var captionAutoPadding = this.captionAutoPadding;\n        shrinkRect.y += captionAutoPadding;\n        shrinkRect.height -= captionAutoPadding;\n        if (this.legend.enabled && this.legend.data.length) {\n            var legendAutoPadding = this.legendAutoPadding;\n            shrinkRect.x += legendAutoPadding.left;\n            shrinkRect.y += legendAutoPadding.top;\n            shrinkRect.width -= legendAutoPadding.left + legendAutoPadding.right;\n            shrinkRect.height -= legendAutoPadding.top + legendAutoPadding.bottom;\n            var legendPadding = this.legend.spacing;\n            switch (this.legend.position) {\n                case 'right':\n                    shrinkRect.width -= legendPadding;\n                    break;\n                case 'bottom':\n                    shrinkRect.height -= legendPadding;\n                    break;\n                case 'left':\n                    shrinkRect.x += legendPadding;\n                    shrinkRect.width -= legendPadding;\n                    break;\n                case 'top':\n                    shrinkRect.y += legendPadding;\n                    shrinkRect.height -= legendPadding;\n                    break;\n            }\n        }\n        var padding = this.padding;\n        shrinkRect.x += padding.left;\n        shrinkRect.y += padding.top;\n        shrinkRect.width -= padding.left + padding.right;\n        shrinkRect.height -= padding.top + padding.bottom;\n        this.seriesRect = shrinkRect;\n        var centerX = shrinkRect.x + shrinkRect.width / 2;\n        var centerY = shrinkRect.y + shrinkRect.height / 2;\n        var radius = Math.min(shrinkRect.width, shrinkRect.height) / 2;\n        this.series.forEach(function (series) {\n            if (series instanceof PolarSeries) {\n                series.centerX = centerX;\n                series.centerY = centerY;\n                series.radius = radius;\n                series.update();\n            }\n        });\n    };\n    PolarChart.className = 'PolarChart';\n    PolarChart.type = 'polar';\n    __decorate([\n        reactive('layoutChange')\n    ], PolarChart.prototype, \"padding\", void 0);\n    return PolarChart;\n}(Chart));\nexport { PolarChart };\n","export function equal(a, b) {\n    if (a === b)\n        return true;\n    if (a && b && typeof a == 'object' && typeof b == 'object') {\n        if (a.constructor !== b.constructor)\n            return false;\n        var length_1, i = void 0;\n        if (Array.isArray(a)) {\n            length_1 = a.length;\n            if (length_1 != b.length)\n                return false;\n            for (i = length_1; i-- !== 0;)\n                if (!equal(a[i], b[i]))\n                    return false;\n            return true;\n        }\n        // if ((a instanceof Map) && (b instanceof Map)) {\n        //     if (a.size !== b.size) return false;\n        //     for (i of a.entries())\n        //         if (!b.has(i[0])) return false;\n        //     for (i of a.entries())\n        //         if (!equal(i[1], b.get(i[0]))) return false;\n        //     return true;\n        // }\n        //\n        // if ((a instanceof Set) && (b instanceof Set)) {\n        //     if (a.size !== b.size) return false;\n        //     for (i of a.entries())\n        //         if (!b.has(i[0])) return false;\n        //     return true;\n        // }\n        //\n        // if (ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n        //     length = a.length;\n        //     if (length != b.length) return false;\n        //     for (i = length; i-- !== 0;)\n        //         if (a[i] !== b[i]) return false;\n        //     return true;\n        // }\n        if (a.constructor === RegExp)\n            return a.source === b.source && a.flags === b.flags;\n        if (a.valueOf !== Object.prototype.valueOf)\n            return a.valueOf() === b.valueOf();\n        if (a.toString !== Object.prototype.toString)\n            return a.toString() === b.toString();\n        var keys = Object.keys(a);\n        length_1 = keys.length;\n        if (length_1 !== Object.keys(b).length)\n            return false;\n        for (i = length_1; i-- !== 0;)\n            if (!Object.prototype.hasOwnProperty.call(b, keys[i]))\n                return false;\n        for (i = length_1; i-- !== 0;) {\n            var key = keys[i];\n            if (!equal(a[key], b[key]))\n                return false;\n        }\n        return true;\n    }\n    // true if both NaN, false otherwise\n    return a !== a && b !== b;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from \"../../../scene/group\";\nimport { Selection } from \"../../../scene/selection\";\nimport { PointerEvents } from \"../../../scene/node\";\nimport { Path } from \"../../../scene/shape/path\";\nimport palette from \"../../palettes\";\nimport { CartesianSeries, CartesianSeriesMarker } from \"./cartesianSeries\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { getMarker } from \"../../marker/util\";\nimport { Chart } from \"../../chart\";\nimport { findLargestMinMax, findMinMax } from \"../../../util/array\";\nimport { toFixed } from \"../../../util/number\";\nimport { equal } from \"../../../util/equal\";\nimport { reactive } from \"../../../util/observable\";\nvar AreaSeries = /** @class */ (function (_super) {\n    __extends(AreaSeries, _super);\n    function AreaSeries() {\n        var _this = _super.call(this) || this;\n        _this.areaGroup = _this.group.appendChild(new Group);\n        _this.strokeGroup = _this.group.appendChild(new Group);\n        _this.markerGroup = _this.group.appendChild(new Group);\n        _this.areaSelection = Selection.select(_this.areaGroup).selectAll();\n        _this.strokeSelection = Selection.select(_this.strokeGroup).selectAll();\n        _this.markerSelection = Selection.select(_this.markerGroup).selectAll();\n        _this.markerSelectionData = [];\n        /**\n         * The assumption is that the values will be reset (to `true`)\n         * in the {@link yKeys} setter.\n         */\n        _this.seriesItemEnabled = new Map();\n        _this.xData = [];\n        _this.yData = [];\n        _this.yDomain = [];\n        _this.directionKeys = {\n            x: ['xKey'],\n            y: ['yKeys']\n        };\n        _this.marker = new CartesianSeriesMarker();\n        _this.fills = palette.fills;\n        _this.strokes = palette.strokes;\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        _this._xKey = '';\n        _this.xName = '';\n        _this._yKeys = [];\n        _this.yNames = [];\n        _this.strokeWidth = 2;\n        _this.highlightStyle = { fill: 'yellow' };\n        _this.addEventListener('update', _this.update);\n        _this.marker.enabled = false;\n        _this.marker.addPropertyListener('shape', _this.onMarkerShapeChange, _this);\n        _this.marker.addEventListener('change', _this.update, _this);\n        return _this;\n    }\n    AreaSeries.prototype.onMarkerShapeChange = function () {\n        this.markerSelection = this.markerSelection.setData([]);\n        this.markerSelection.exit.remove();\n        this.update();\n        this.fireEvent({ type: 'legendChange' });\n    };\n    Object.defineProperty(AreaSeries.prototype, \"xKey\", {\n        get: function () {\n            return this._xKey;\n        },\n        set: function (value) {\n            if (this._xKey !== value) {\n                this._xKey = value;\n                this.xData = [];\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AreaSeries.prototype, \"yKeys\", {\n        get: function () {\n            return this._yKeys;\n        },\n        set: function (values) {\n            if (!equal(this._yKeys, values)) {\n                this._yKeys = values;\n                this.yData = [];\n                var seriesItemEnabled_1 = this.seriesItemEnabled;\n                seriesItemEnabled_1.clear();\n                values.forEach(function (key) { return seriesItemEnabled_1.set(key, true); });\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AreaSeries.prototype, \"normalizedTo\", {\n        get: function () {\n            return this._normalizedTo;\n        },\n        set: function (value) {\n            var absValue = value ? Math.abs(value) : undefined;\n            if (this._normalizedTo !== absValue) {\n                this._normalizedTo = absValue;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AreaSeries.prototype.onHighlightChange = function () {\n        this.updateMarkerNodes();\n    };\n    AreaSeries.prototype.processData = function () {\n        var _a = this, xKey = _a.xKey, yKeys = _a.yKeys, seriesItemEnabled = _a.seriesItemEnabled;\n        var data = xKey && yKeys.length && this.data ? this.data : [];\n        // if (!(chart && chart.xAxis && chart.yAxis)) {\n        //     return false;\n        // }\n        // If the data is an array of rows like so:\n        //\n        // [{\n        //   xKy: 'Jan',\n        //   yKey1: 5,\n        //   yKey2: 7,\n        //   yKey3: -9,\n        // }, {\n        //   xKey: 'Feb',\n        //   yKey1: 10,\n        //   yKey2: -15,\n        //   yKey3: 20\n        // }]\n        //\n        var keysFound = true; // only warn once\n        this.xData = data.map(function (datum) {\n            if (keysFound && !(xKey in datum)) {\n                keysFound = false;\n                console.warn(\"The key '\" + xKey + \"' was not found in the data: \", datum);\n            }\n            return datum[xKey];\n        });\n        this.yData = data.map(function (datum) { return yKeys.map(function (yKey) {\n            if (keysFound && !(yKey in datum)) {\n                keysFound = false;\n                console.warn(\"The key '\" + yKey + \"' was not found in the data: \", datum);\n            }\n            var value = datum[yKey];\n            return isFinite(value) && seriesItemEnabled.get(yKey) ? value : 0;\n        }); });\n        // xData: ['Jan', 'Feb']\n        //\n        // yData: [\n        //   [5, 7, -9],\n        //   [10, -15, 20]\n        // ]\n        var _b = this, yData = _b.yData, normalizedTo = _b.normalizedTo;\n        var yMinMax = yData.map(function (values) { return findMinMax(values); }); // used for normalization\n        var yLargestMinMax = findLargestMinMax(yMinMax);\n        var yMin;\n        var yMax;\n        if (normalizedTo && isFinite(normalizedTo)) {\n            yMin = yLargestMinMax.min < 0 ? -normalizedTo : 0;\n            yMax = normalizedTo;\n            yData.forEach(function (stack, i) { return stack.forEach(function (y, j) {\n                if (y < 0) {\n                    stack[j] = -y / yMinMax[i].min * normalizedTo;\n                }\n                else {\n                    stack[j] = y / yMinMax[i].max * normalizedTo;\n                }\n            }); });\n        }\n        else {\n            yMin = yLargestMinMax.min;\n            yMax = yLargestMinMax.max;\n        }\n        if (yMin === 0 && yMax === 0) {\n            yMax = 1;\n        }\n        this.yDomain = this.fixNumericExtent([yMin, yMax], 'y');\n        this.fireEvent({ type: 'dataProcessed' });\n        return true;\n    };\n    AreaSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.xData;\n        }\n        else {\n            return this.yDomain;\n        }\n    };\n    AreaSeries.prototype.update = function () {\n        var _a = this, visible = _a.visible, chart = _a.chart, xAxis = _a.xAxis, yAxis = _a.yAxis, xData = _a.xData, yData = _a.yData;\n        this.group.visible = visible && !!(xData.length && yData.length);\n        if (!xAxis || !yAxis || !visible || !chart || chart.layoutPending || chart.dataPending || !xData.length || !yData.length) {\n            return;\n        }\n        var _b = this.generateSelectionData(), areaSelectionData = _b.areaSelectionData, markerSelectionData = _b.markerSelectionData;\n        this.updateAreaSelection(areaSelectionData);\n        this.updateStrokeSelection(areaSelectionData);\n        this.updateMarkerSelection(markerSelectionData);\n        this.updateMarkerNodes();\n        this.markerSelectionData = markerSelectionData;\n    };\n    AreaSeries.prototype.generateSelectionData = function () {\n        var _this = this;\n        var _a = this, yKeys = _a.yKeys, data = _a.data, xData = _a.xData, yData = _a.yData, marker = _a.marker, fills = _a.fills, strokes = _a.strokes, xScale = _a.xAxis.scale, yScale = _a.yAxis.scale;\n        var xOffset = (xScale.bandwidth || 0) / 2;\n        var yOffset = (yScale.bandwidth || 0) / 2;\n        var areaSelectionData = [];\n        var markerSelectionData = [];\n        var last = xData.length * 2 - 1;\n        xData.forEach(function (xDatum, i) {\n            var yDatum = yData[i];\n            var seriesDatum = data[i];\n            var x = xScale.convert(xDatum) + xOffset;\n            var prevMin = 0;\n            var prevMax = 0;\n            yDatum.forEach(function (curr, j) {\n                var prev = curr < 0 ? prevMin : prevMax;\n                var y = yScale.convert(prev + curr) + yOffset;\n                var yKey = yKeys[j];\n                var yValue = seriesDatum[yKey];\n                if (marker) {\n                    markerSelectionData.push({\n                        series: _this,\n                        seriesDatum: seriesDatum,\n                        yValue: yValue,\n                        yKey: yKey,\n                        point: { x: x, y: y },\n                        fill: fills[j % fills.length],\n                        stroke: strokes[j % strokes.length]\n                    });\n                }\n                var areaDatum = areaSelectionData[j] || (areaSelectionData[j] = { yKey: yKey, points: [] });\n                var areaPoints = areaDatum.points;\n                areaPoints[i] = { x: x, y: y };\n                areaPoints[last - i] = { x: x, y: yScale.convert(prev) + yOffset }; // bottom y\n                if (curr < 0) {\n                    prevMin += curr;\n                }\n                else {\n                    prevMax += curr;\n                }\n            });\n        });\n        return { areaSelectionData: areaSelectionData, markerSelectionData: markerSelectionData };\n    };\n    AreaSeries.prototype.updateAreaSelection = function (areaSelectionData) {\n        var _a = this, fills = _a.fills, fillOpacity = _a.fillOpacity, seriesItemEnabled = _a.seriesItemEnabled, shadow = _a.shadow;\n        var updateAreas = this.areaSelection.setData(areaSelectionData);\n        updateAreas.exit.remove();\n        var enterAreas = updateAreas.enter.append(Path)\n            .each(function (path) {\n            path.stroke = undefined;\n            path.pointerEvents = PointerEvents.None;\n        });\n        var areaSelection = updateAreas.merge(enterAreas);\n        areaSelection.each(function (shape, datum, index) {\n            var path = shape.path;\n            shape.fill = fills[index % fills.length];\n            shape.fillOpacity = fillOpacity;\n            shape.fillShadow = shadow;\n            shape.visible = !!seriesItemEnabled.get(datum.yKey);\n            path.clear();\n            var points = datum.points;\n            points.forEach(function (_a, i) {\n                var x = _a.x, y = _a.y;\n                if (i > 0) {\n                    path.lineTo(x, y);\n                }\n                else {\n                    path.moveTo(x, y);\n                }\n            });\n            path.closePath();\n        });\n        this.areaSelection = areaSelection;\n    };\n    AreaSeries.prototype.updateStrokeSelection = function (areaSelectionData) {\n        var _a = this, strokes = _a.strokes, strokeWidth = _a.strokeWidth, strokeOpacity = _a.strokeOpacity, data = _a.data, seriesItemEnabled = _a.seriesItemEnabled;\n        var updateStrokes = this.strokeSelection.setData(areaSelectionData);\n        updateStrokes.exit.remove();\n        var enterStrokes = updateStrokes.enter.append(Path)\n            .each(function (path) {\n            path.fill = undefined;\n            path.lineJoin = path.lineCap = 'round';\n            path.pointerEvents = PointerEvents.None;\n        });\n        var strokeSelection = updateStrokes.merge(enterStrokes);\n        strokeSelection.each(function (shape, datum, index) {\n            var path = shape.path;\n            shape.stroke = strokes[index % strokes.length];\n            shape.strokeWidth = strokeWidth;\n            shape.visible = !!seriesItemEnabled.get(datum.yKey);\n            shape.strokeOpacity = strokeOpacity;\n            path.clear();\n            var points = datum.points;\n            // The stroke doesn't go all the way around the fill, only on top,\n            // that's why we iterate until `data.length` (rather than `points.length`) and stop.\n            for (var i = 0; i < data.length; i++) {\n                var _a = points[i], x = _a.x, y = _a.y;\n                if (i > 0) {\n                    path.lineTo(x, y);\n                }\n                else {\n                    path.moveTo(x, y);\n                }\n            }\n        });\n        this.strokeSelection = strokeSelection;\n    };\n    AreaSeries.prototype.updateMarkerSelection = function (markerSelectionData) {\n        var marker = this.marker;\n        var data = marker.shape ? markerSelectionData : [];\n        var MarkerShape = getMarker(marker.shape);\n        var updateMarkers = this.markerSelection.setData(data);\n        updateMarkers.exit.remove();\n        var enterMarkers = updateMarkers.enter.append(MarkerShape);\n        this.markerSelection = updateMarkers.merge(enterMarkers);\n    };\n    AreaSeries.prototype.updateMarkerNodes = function () {\n        var marker = this.marker;\n        var markerFormatter = marker.formatter;\n        var markerStrokeWidth = marker.strokeWidth !== undefined ? marker.strokeWidth : this.strokeWidth;\n        var markerSize = marker.size;\n        var _a = this, xKey = _a.xKey, seriesItemEnabled = _a.seriesItemEnabled;\n        var highlightedDatum = this.chart.highlightedDatum;\n        var _b = this.highlightStyle, highlightFill = _b.fill, highlightStroke = _b.stroke;\n        this.markerSelection.each(function (node, datum) {\n            var highlighted = datum === highlightedDatum;\n            var markerFill = highlighted && highlightFill !== undefined ? highlightFill : marker.fill || datum.fill;\n            var markerStroke = highlighted && highlightStroke !== undefined ? highlightStroke : marker.stroke || datum.stroke;\n            var markerFormat = undefined;\n            if (markerFormatter) {\n                markerFormat = markerFormatter({\n                    datum: datum.seriesDatum,\n                    xKey: xKey,\n                    yKey: datum.yKey,\n                    fill: markerFill,\n                    stroke: markerStroke,\n                    strokeWidth: markerStrokeWidth,\n                    size: markerSize,\n                    highlighted: highlighted\n                });\n            }\n            node.fill = markerFormat && markerFormat.fill || markerFill;\n            node.stroke = markerFormat && markerFormat.stroke || markerStroke;\n            node.strokeWidth = markerFormat && markerFormat.strokeWidth !== undefined\n                ? markerFormat.strokeWidth\n                : markerStrokeWidth;\n            node.size = markerFormat && markerFormat.size !== undefined\n                ? markerFormat.size\n                : markerSize;\n            node.translationX = datum.point.x;\n            node.translationY = datum.point.y;\n            node.visible = marker.enabled && node.size > 0 && !!seriesItemEnabled.get(datum.yKey);\n        });\n    };\n    AreaSeries.prototype.getNodeData = function () {\n        return this.markerSelectionData;\n    };\n    AreaSeries.prototype.fireNodeClickEvent = function (datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            series: this,\n            datum: datum.seriesDatum,\n            xKey: this.xKey,\n            yKey: datum.yKey\n        });\n    };\n    AreaSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var xKey = this.xKey;\n        var yKey = nodeDatum.yKey;\n        if (!xKey || !yKey) {\n            return '';\n        }\n        var _a = this, xName = _a.xName, yKeys = _a.yKeys, yNames = _a.yNames, fills = _a.fills, tooltipRenderer = _a.tooltipRenderer;\n        var yKeyIndex = yKeys.indexOf(yKey);\n        var yName = yNames[yKeyIndex];\n        var color = fills[yKeyIndex % fills.length];\n        if (tooltipRenderer) {\n            return tooltipRenderer({\n                datum: nodeDatum.seriesDatum,\n                xKey: xKey,\n                xName: xName,\n                yKey: yKey,\n                yName: yName,\n                color: color\n            });\n        }\n        else {\n            var titleStyle = \"style=\\\"color: white; background-color: \" + color + \"\\\"\";\n            var titleString = yName ? \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-title\\\" \" + titleStyle + \">\" + yName + \"</div>\" : '';\n            var seriesDatum = nodeDatum.seriesDatum;\n            var xValue = seriesDatum[xKey];\n            var yValue = seriesDatum[yKey];\n            var xString = typeof xValue === 'number' ? toFixed(xValue) : String(xValue);\n            var yString = typeof yValue === 'number' ? toFixed(yValue) : String(yValue);\n            return titleString + \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-content\\\">\" + xString + \": \" + yString + \"</div>\";\n        }\n    };\n    AreaSeries.prototype.listSeriesItems = function (legendData) {\n        var _a = this, data = _a.data, id = _a.id, xKey = _a.xKey, yKeys = _a.yKeys, yNames = _a.yNames, seriesItemEnabled = _a.seriesItemEnabled, marker = _a.marker, fills = _a.fills, strokes = _a.strokes, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity;\n        if (data && data.length && xKey && yKeys.length) {\n            yKeys.forEach(function (yKey, index) {\n                legendData.push({\n                    id: id,\n                    itemId: yKey,\n                    enabled: seriesItemEnabled.get(yKey) || false,\n                    label: {\n                        text: yNames[index] || yKeys[index]\n                    },\n                    marker: {\n                        shape: marker.shape,\n                        fill: marker.fill || fills[index % fills.length],\n                        stroke: marker.stroke || strokes[index % strokes.length],\n                        fillOpacity: fillOpacity,\n                        strokeOpacity: strokeOpacity\n                    }\n                });\n            });\n        }\n    };\n    AreaSeries.prototype.toggleSeriesItem = function (itemId, enabled) {\n        this.seriesItemEnabled.set(itemId, enabled);\n        this.scheduleData();\n    };\n    AreaSeries.className = 'AreaSeries';\n    AreaSeries.type = 'area';\n    __decorate([\n        reactive('dataChange')\n    ], AreaSeries.prototype, \"fills\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], AreaSeries.prototype, \"strokes\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"xName\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"yNames\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"shadow\", void 0);\n    return AreaSeries;\n}(CartesianSeries));\nexport { AreaSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { Group } from \"../../../scene/group\";\nimport { Selection } from \"../../../scene/selection\";\nimport { Rect } from \"../../../scene/shape/rect\";\nimport { Text } from \"../../../scene/shape/text\";\nimport { BandScale } from \"../../../scale/bandScale\";\nimport palette from \"../../palettes\";\nimport { Label } from \"../../label\";\nimport { PointerEvents } from \"../../../scene/node\";\nimport { CartesianSeries } from \"./cartesianSeries\";\nimport { ChartAxisDirection, flipChartAxisDirection } from \"../../chartAxis\";\nimport { Chart } from \"../../chart\";\nimport { findLargestMinMax, findMinMax } from \"../../../util/array\";\nimport { toFixed } from \"../../../util/number\";\nimport { equal } from \"../../../util/equal\";\nimport { reactive } from \"../../../util/observable\";\nvar BarSeriesNodeTag;\n(function (BarSeriesNodeTag) {\n    BarSeriesNodeTag[BarSeriesNodeTag[\"Bar\"] = 0] = \"Bar\";\n    BarSeriesNodeTag[BarSeriesNodeTag[\"Label\"] = 1] = \"Label\";\n})(BarSeriesNodeTag || (BarSeriesNodeTag = {}));\nvar BarSeriesLabel = /** @class */ (function (_super) {\n    __extends(BarSeriesLabel, _super);\n    function BarSeriesLabel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        reactive('change')\n    ], BarSeriesLabel.prototype, \"formatter\", void 0);\n    return BarSeriesLabel;\n}(Label));\nvar BarSeries = /** @class */ (function (_super) {\n    __extends(BarSeries, _super);\n    function BarSeries() {\n        var _a;\n        var _this = _super.call(this) || this;\n        // Need to put bar and label nodes into separate groups, because even though label nodes are\n        // created after the bar nodes, this only guarantees that labels will always be on top of bars\n        // on the first run. If on the next run more bars are added, they might clip the labels\n        // rendered during the previous run.\n        _this.rectGroup = _this.group.appendChild(new Group);\n        _this.textGroup = _this.group.appendChild(new Group);\n        _this.rectSelection = Selection.select(_this.rectGroup).selectAll();\n        _this.textSelection = Selection.select(_this.textGroup).selectAll();\n        _this.xData = [];\n        _this.yData = [];\n        _this.yDomain = [];\n        _this.label = new BarSeriesLabel();\n        /**\n         * The assumption is that the values will be reset (to `true`)\n         * in the {@link yKeys} setter.\n         */\n        _this.seriesItemEnabled = new Map();\n        _this.flipXY = false;\n        _this.fills = palette.fills;\n        _this.strokes = palette.strokes;\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        /**\n         * Used to get the position of bars within each group.\n         */\n        _this.groupScale = new BandScale();\n        _this.directionKeys = (_a = {},\n            _a[ChartAxisDirection.X] = ['xKey'],\n            _a[ChartAxisDirection.Y] = ['yKeys'],\n            _a);\n        _this._xKey = '';\n        _this._xName = '';\n        /**\n         * With a single value in the `yKeys` array we get the regular bar series.\n         * With multiple values, we get the stacked bar series.\n         * If the {@link grouped} set to `true`, we get the grouped bar series.\n         * @param values\n         */\n        _this._yKeys = [];\n        _this._yNames = [];\n        _this.grouped = false;\n        _this._strokeWidth = 1;\n        _this.highlightStyle = { fill: 'yellow' };\n        _this.label.enabled = false;\n        _this.label.addEventListener('change', _this.update, _this);\n        return _this;\n    }\n    BarSeries.prototype.getKeys = function (direction) {\n        var _this = this;\n        var directionKeys = this.directionKeys;\n        var keys = directionKeys && directionKeys[this.flipXY ? flipChartAxisDirection(direction) : direction];\n        var values = [];\n        if (keys) {\n            keys.forEach(function (key) {\n                var value = _this[key];\n                if (value) {\n                    if (Array.isArray(value)) {\n                        values.push.apply(values, value);\n                    }\n                    else {\n                        values.push(value);\n                    }\n                }\n            });\n        }\n        return values;\n    };\n    Object.defineProperty(BarSeries.prototype, \"xKey\", {\n        get: function () {\n            return this._xKey;\n        },\n        set: function (value) {\n            if (this._xKey !== value) {\n                this._xKey = value;\n                this.xData = [];\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"xName\", {\n        get: function () {\n            return this._xName;\n        },\n        set: function (value) {\n            if (this._xName !== value) {\n                this._xName = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"yKeys\", {\n        get: function () {\n            return this._yKeys;\n        },\n        set: function (values) {\n            if (!equal(this._yKeys, values)) {\n                this._yKeys = values;\n                this.yData = [];\n                var seriesItemEnabled_1 = this.seriesItemEnabled;\n                seriesItemEnabled_1.clear();\n                values.forEach(function (key) { return seriesItemEnabled_1.set(key, true); });\n                var groupScale = this.groupScale;\n                groupScale.domain = values;\n                groupScale.padding = 0.1;\n                groupScale.round = true;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"yNames\", {\n        get: function () {\n            return this._yNames;\n        },\n        set: function (values) {\n            this._yNames = values;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"normalizedTo\", {\n        get: function () {\n            return this._normalizedTo;\n        },\n        set: function (value) {\n            var absValue = value ? Math.abs(value) : undefined;\n            if (this._normalizedTo !== absValue) {\n                this._normalizedTo = absValue;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"strokeWidth\", {\n        get: function () {\n            return this._strokeWidth;\n        },\n        set: function (value) {\n            if (this._strokeWidth !== value) {\n                this._strokeWidth = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"shadow\", {\n        get: function () {\n            return this._shadow;\n        },\n        set: function (value) {\n            if (this._shadow !== value) {\n                this._shadow = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BarSeries.prototype.onHighlightChange = function () {\n        this.updateRectNodes();\n    };\n    BarSeries.prototype.processData = function () {\n        var _a = this, xKey = _a.xKey, yKeys = _a.yKeys, seriesItemEnabled = _a.seriesItemEnabled;\n        var data = xKey && yKeys.length && this.data ? this.data : [];\n        // If the data is an array of rows like so:\n        //\n        // [{\n        //   xKey: 'Jan',\n        //   yKey1: 5,\n        //   yKey2: 7,\n        //   yKey3: -9,\n        // }, {\n        //   xKey: 'Feb',\n        //   yKey1: 10,\n        //   yKey2: -15,\n        //   yKey3: 20\n        // }]\n        //\n        var keysFound = true; // only warn once\n        this.xData = data.map(function (datum) {\n            if (keysFound && !(xKey in datum)) {\n                keysFound = false;\n                console.warn(\"The key '\" + xKey + \"' was not found in the data: \", datum);\n            }\n            return datum[xKey];\n        });\n        this.yData = data.map(function (datum) { return yKeys.map(function (yKey) {\n            if (keysFound && !(yKey in datum)) {\n                keysFound = false;\n                console.warn(\"The key '\" + yKey + \"' was not found in the data: \", datum);\n            }\n            var value = datum[yKey];\n            return isFinite(value) && seriesItemEnabled.get(yKey) ? value : 0;\n        }); });\n        // xData: ['Jan', 'Feb']\n        //\n        // yData: [\n        //   [5, 7, -9],\n        //   [10, -15, 20]\n        // ]\n        var yMinMax = this.yData.map(function (values) { return findMinMax(values); }); // used for normalization of stacked bars\n        var _b = this, yData = _b.yData, normalizedTo = _b.normalizedTo;\n        var yMin = Infinity;\n        var yMax = -Infinity;\n        if (this.grouped) {\n            // Find the tallest positive/negative bar in each group,\n            // then find the tallest positive/negative bar overall.\n            // The `yMin` should always be <= 0,\n            // otherwise with the `yData` like [300, 200, 100] the last bar\n            // will have zero height, because the y-axis range is [100, 300].\n            yMin = Math.min.apply(Math, __spreadArrays([0], yData.map(function (values) { return Math.min.apply(Math, values); })));\n            yMax = Math.max.apply(Math, yData.map(function (values) { return Math.max.apply(Math, values); }));\n        }\n        else { // stacked or regular\n            var yLargestMinMax = findLargestMinMax(yMinMax);\n            if (normalizedTo && isFinite(normalizedTo)) {\n                yMin = yLargestMinMax.min < 0 ? -normalizedTo : 0;\n                yMax = normalizedTo;\n                yData.forEach(function (stackValues, i) { return stackValues.forEach(function (y, j) {\n                    if (y < 0) {\n                        stackValues[j] = -y / yMinMax[i].min * normalizedTo;\n                    }\n                    else {\n                        stackValues[j] = y / yMinMax[i].max * normalizedTo;\n                    }\n                }); });\n            }\n            else {\n                yMin = yLargestMinMax.min;\n                yMax = yLargestMinMax.max;\n            }\n        }\n        this.yDomain = this.fixNumericExtent([yMin, yMax], 'y');\n        this.fireEvent({ type: 'dataProcessed' });\n        return true;\n    };\n    BarSeries.prototype.getDomain = function (direction) {\n        if (this.flipXY) {\n            direction = flipChartAxisDirection(direction);\n        }\n        if (direction === ChartAxisDirection.X) {\n            return this.xData;\n        }\n        else {\n            return this.yDomain;\n        }\n    };\n    BarSeries.prototype.fireNodeClickEvent = function (datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            series: this,\n            datum: datum.seriesDatum,\n            xKey: this.xKey,\n            yKey: datum.yKey\n        });\n    };\n    BarSeries.prototype.generateNodeData = function () {\n        var _this = this;\n        var _a = this, xAxis = _a.xAxis, yAxis = _a.yAxis, flipXY = _a.flipXY;\n        var xScale = (flipXY ? yAxis : xAxis).scale;\n        var yScale = (flipXY ? xAxis : yAxis).scale;\n        var _b = this, groupScale = _b.groupScale, yKeys = _b.yKeys, fills = _b.fills, strokes = _b.strokes, grouped = _b.grouped, strokeWidth = _b.strokeWidth, seriesItemEnabled = _b.seriesItemEnabled, data = _b.data, xData = _b.xData, yData = _b.yData;\n        var label = this.label;\n        var labelFontStyle = label.fontStyle;\n        var labelFontWeight = label.fontWeight;\n        var labelFontSize = label.fontSize;\n        var labelFontFamily = label.fontFamily;\n        var labelColor = label.color;\n        var labelFormatter = label.formatter;\n        groupScale.range = [0, xScale.bandwidth];\n        var barWidth = grouped ? groupScale.bandwidth : xScale.bandwidth;\n        var nodeData = [];\n        xData.forEach(function (category, i) {\n            var yDatum = yData[i];\n            var seriesDatum = data[i];\n            var x = xScale.convert(category);\n            var prevMin = 0;\n            var prevMax = 0;\n            yDatum.forEach(function (curr, j) {\n                var yKey = yKeys[j];\n                var barX = grouped ? x + groupScale.convert(yKey) : x;\n                var prev = curr < 0 ? prevMin : prevMax;\n                var y = yScale.convert(grouped ? curr : prev + curr);\n                var bottomY = yScale.convert(grouped ? 0 : prev);\n                var yValue = seriesDatum[yKey]; // unprocessed y-value\n                var yValueIsNumber = typeof yValue === 'number';\n                var labelText;\n                if (labelFormatter) {\n                    labelText = labelFormatter({ value: yValueIsNumber ? yValue : undefined });\n                }\n                else {\n                    labelText = yValueIsNumber && isFinite(yValue) ? yValue.toFixed(2) : '';\n                }\n                nodeData.push({\n                    series: _this,\n                    seriesDatum: seriesDatum,\n                    yValue: yValue,\n                    yKey: yKey,\n                    x: flipXY ? Math.min(y, bottomY) : barX,\n                    y: flipXY ? barX : Math.min(y, bottomY),\n                    width: flipXY ? Math.abs(bottomY - y) : barWidth,\n                    height: flipXY ? barWidth : Math.abs(bottomY - y),\n                    fill: fills[j % fills.length],\n                    stroke: strokes[j % strokes.length],\n                    strokeWidth: strokeWidth,\n                    label: seriesItemEnabled.get(yKey) && labelText ? {\n                        text: labelText,\n                        fontStyle: labelFontStyle,\n                        fontWeight: labelFontWeight,\n                        fontSize: labelFontSize,\n                        fontFamily: labelFontFamily,\n                        fill: labelColor,\n                        x: flipXY ? y + (yValue >= 0 ? -1 : 1) * Math.abs(bottomY - y) / 2 : barX + barWidth / 2,\n                        y: flipXY ? barX + barWidth / 2 : y + (yValue >= 0 ? 1 : -1) * Math.abs(bottomY - y) / 2\n                    } : undefined\n                });\n                if (!grouped) {\n                    if (curr < 0) {\n                        prevMin += curr;\n                    }\n                    else {\n                        prevMax += curr;\n                    }\n                }\n            });\n        });\n        return nodeData;\n    };\n    BarSeries.prototype.update = function () {\n        var _a = this, visible = _a.visible, chart = _a.chart, xAxis = _a.xAxis, yAxis = _a.yAxis, xData = _a.xData, yData = _a.yData;\n        this.group.visible = visible;\n        if (!chart || chart.layoutPending || chart.dataPending ||\n            !xAxis || !yAxis || !visible || !xData.length || !yData.length) {\n            return;\n        }\n        var nodeData = this.generateNodeData();\n        this.updateRectSelection(nodeData);\n        this.updateRectNodes();\n        this.updateTextSelection(nodeData);\n        this.updateTextNodes();\n    };\n    BarSeries.prototype.updateRectSelection = function (selectionData) {\n        var updateRects = this.rectSelection.setData(selectionData);\n        updateRects.exit.remove();\n        var enterRects = updateRects.enter.append(Rect).each(function (rect) {\n            rect.tag = BarSeriesNodeTag.Bar;\n            rect.crisp = true;\n        });\n        this.rectSelection = updateRects.merge(enterRects);\n    };\n    BarSeries.prototype.updateRectNodes = function () {\n        var _a = this, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity, shadow = _a.shadow, _b = _a.highlightStyle, fill = _b.fill, stroke = _b.stroke;\n        var highlightedDatum = this.chart.highlightedDatum;\n        this.rectSelection.each(function (rect, datum) {\n            var highlighted = datum === highlightedDatum;\n            rect.x = datum.x;\n            rect.y = datum.y;\n            rect.width = datum.width;\n            rect.height = datum.height;\n            rect.fill = highlighted && fill !== undefined ? fill : datum.fill;\n            rect.stroke = highlighted && stroke !== undefined ? stroke : datum.stroke;\n            rect.fillOpacity = fillOpacity;\n            rect.strokeOpacity = strokeOpacity;\n            rect.strokeWidth = datum.strokeWidth;\n            rect.fillShadow = shadow;\n            rect.visible = datum.height > 0; // prevent stroke from rendering for zero height bars\n        });\n    };\n    BarSeries.prototype.updateTextSelection = function (selectionData) {\n        var updateTexts = this.textSelection.setData(selectionData);\n        updateTexts.exit.remove();\n        var enterTexts = updateTexts.enter.append(Text).each(function (text) {\n            text.tag = BarSeriesNodeTag.Label;\n            text.pointerEvents = PointerEvents.None;\n            text.textAlign = 'center';\n            text.textBaseline = 'middle';\n        });\n        this.textSelection = updateTexts.merge(enterTexts);\n    };\n    BarSeries.prototype.updateTextNodes = function () {\n        var labelEnabled = this.label.enabled;\n        this.textSelection.each(function (text, datum) {\n            var label = datum.label;\n            if (label && labelEnabled) {\n                text.fontStyle = label.fontStyle;\n                text.fontWeight = label.fontWeight;\n                text.fontSize = label.fontSize;\n                text.fontFamily = label.fontFamily;\n                text.text = label.text;\n                text.x = label.x;\n                text.y = label.y;\n                text.fill = label.fill;\n                text.visible = true;\n            }\n            else {\n                text.visible = false;\n            }\n        });\n    };\n    BarSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var xKey = this.xKey;\n        var yKey = nodeDatum.yKey;\n        if (!xKey || !yKey) {\n            return '';\n        }\n        var _a = this, xName = _a.xName, yKeys = _a.yKeys, yNames = _a.yNames, fills = _a.fills, tooltipRenderer = _a.tooltipRenderer;\n        var datum = nodeDatum.seriesDatum;\n        var yKeyIndex = yKeys.indexOf(yKey);\n        var yName = yNames[yKeyIndex];\n        var color = fills[yKeyIndex % fills.length];\n        if (tooltipRenderer) {\n            return tooltipRenderer({\n                datum: datum,\n                xKey: xKey,\n                xName: xName,\n                yKey: yKey,\n                yName: yName,\n                color: color\n            });\n        }\n        else {\n            var titleStyle = \"style=\\\"color: white; background-color: \" + color + \"\\\"\";\n            var titleString = yName ? \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-title\\\" \" + titleStyle + \">\" + yName + \"</div>\" : '';\n            var xValue = datum[xKey];\n            var yValue = datum[yKey];\n            var xString = typeof xValue === 'number' ? toFixed(xValue) : String(xValue);\n            var yString = typeof yValue === 'number' ? toFixed(yValue) : String(yValue);\n            return titleString + \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-content\\\">\" + xString + \": \" + yString + \"</div>\";\n        }\n    };\n    BarSeries.prototype.listSeriesItems = function (legendData) {\n        var _a = this, id = _a.id, data = _a.data, xKey = _a.xKey, yKeys = _a.yKeys, yNames = _a.yNames, seriesItemEnabled = _a.seriesItemEnabled, fills = _a.fills, strokes = _a.strokes, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity;\n        if (data && data.length && xKey && yKeys.length) {\n            yKeys.forEach(function (yKey, index) {\n                legendData.push({\n                    id: id,\n                    itemId: yKey,\n                    enabled: seriesItemEnabled.get(yKey) || false,\n                    label: {\n                        text: yNames[index] || yKeys[index]\n                    },\n                    marker: {\n                        fill: fills[index % fills.length],\n                        stroke: strokes[index % strokes.length],\n                        fillOpacity: fillOpacity,\n                        strokeOpacity: strokeOpacity\n                    }\n                });\n            });\n        }\n    };\n    BarSeries.prototype.toggleSeriesItem = function (itemId, enabled) {\n        var seriesItemEnabled = this.seriesItemEnabled;\n        var enabledSeriesItems = [];\n        seriesItemEnabled.set(itemId, enabled);\n        seriesItemEnabled.forEach(function (enabled, yKey) {\n            if (enabled) {\n                enabledSeriesItems.push(yKey);\n            }\n        });\n        this.groupScale.domain = enabledSeriesItems;\n        this.scheduleData();\n    };\n    BarSeries.className = 'BarSeries';\n    BarSeries.type = 'bar';\n    __decorate([\n        reactive('layoutChange')\n    ], BarSeries.prototype, \"flipXY\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], BarSeries.prototype, \"fills\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], BarSeries.prototype, \"strokes\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], BarSeries.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], BarSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], BarSeries.prototype, \"grouped\", void 0);\n    return BarSeries;\n}(CartesianSeries));\nexport { BarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Observable, reactive } from \"../util/observable\";\nvar Label = /** @class */ (function (_super) {\n    __extends(Label, _super);\n    function Label() {\n        var _this = _super.call(this) || this;\n        _this.enabled = true;\n        _this.fontSize = 12;\n        _this.fontFamily = 'Verdana, sans-serif';\n        _this.color = 'rgba(70, 70, 70, 1)';\n        return _this;\n    }\n    __decorate([\n        reactive('change', 'dataChange')\n    ], Label.prototype, \"enabled\", void 0);\n    __decorate([\n        reactive('change')\n    ], Label.prototype, \"fontStyle\", void 0);\n    __decorate([\n        reactive('change')\n    ], Label.prototype, \"fontWeight\", void 0);\n    __decorate([\n        reactive('change')\n    ], Label.prototype, \"fontSize\", void 0);\n    __decorate([\n        reactive('change')\n    ], Label.prototype, \"fontFamily\", void 0);\n    __decorate([\n        reactive('change')\n    ], Label.prototype, \"color\", void 0);\n    return Label;\n}(Observable));\nexport { Label };\n","export default (function (x) { return function () { return x; }; });\n","export default function (a, b) {\n    a = +a;\n    b -= a;\n    return function (t) { return a + b * t; };\n}\n","export default function (a, b) {\n    var date = new Date;\n    var msA = +a;\n    var msB = +b - msA;\n    return function (t) {\n        date.setTime(msA + msB * t);\n        return date;\n    };\n}\n","import value from \"./value\";\nexport default function (a, b) {\n    var nb = b ? b.length : 0;\n    var na = a ? Math.min(nb, a.length) : 0;\n    var x = new Array(na);\n    var c = new Array(nb);\n    var i;\n    for (i = 0; i < na; ++i) {\n        x[i] = value(a[i], b[i]);\n    }\n    for (; i < nb; ++i) {\n        c[i] = b[i];\n    }\n    return function (t) {\n        for (i = 0; i < na; ++i) {\n            c[i] = x[i](t);\n        }\n        return c;\n    };\n}\n","import value from \"./value\";\nexport default function (a, b) {\n    var i = {};\n    var c = {};\n    var k;\n    if (a === null || typeof a !== 'object') {\n        a = {};\n    }\n    if (b === null || typeof b !== 'object') {\n        b = {};\n    }\n    for (k in b) {\n        if (k in a) {\n            i[k] = value(a[k], b[k]);\n        }\n        else {\n            c[k] = b[k];\n        }\n    }\n    return function (t) {\n        for (k in i) {\n            c[k] = i[k](t);\n        }\n        return c;\n    };\n}\n","import constant from \"./constant\";\nimport number from \"./number\";\nimport date from \"./date\";\nimport array from \"./array\";\nimport object from \"./object\";\nexport default function (a, b) {\n    var t = typeof b;\n    // let c;\n    return b == null || t === 'boolean' ? constant(b)\n        : (t === 'number' ? number\n            // : t === 'string' ? ((c = color(b)) ? (b = c, rgb) : string)\n            //     : b instanceof color ? rgb\n            : b instanceof Date ? date\n                : Array.isArray(b) ? array\n                    : typeof b.valueOf !== 'function' && typeof b.toString !== 'function' || isNaN(b) ? object\n                        : number)(a, b);\n}\n","import interpolateValue from \"../interpolate/value\";\nimport interpolateNumber from \"../interpolate/number\";\nexport var constant = function (x) { return function () { return x; }; };\nexport var identity = function (x) { return x; };\nfunction clamper(domain) {\n    var _a;\n    var a = domain[0];\n    var b = domain[domain.length - 1];\n    if (a > b) {\n        _a = [b, a], a = _a[0], b = _a[1];\n    }\n    return function (x) { return Math.max(a, Math.min(b, x)); };\n}\nvar ContinuousScale = /** @class */ (function () {\n    function ContinuousScale() {\n        /**\n         * The output value of the scale for `undefined` or `NaN` input values.\n         */\n        this.unknown = undefined;\n        this._clamp = identity;\n        this._domain = [0, 1];\n        this._range = [0, 1];\n        this.transform = identity; // transforms domain value\n        this.untransform = identity; // untransforms domain value\n        this._interpolate = interpolateValue;\n        this.rescale();\n    }\n    Object.defineProperty(ContinuousScale.prototype, \"clamp\", {\n        get: function () {\n            return this._clamp !== identity;\n        },\n        set: function (value) {\n            this._clamp = value ? clamper(this.domain) : identity;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ContinuousScale.prototype.setDomain = function (values) {\n        this._domain = Array.prototype.map.call(values, function (v) { return +v; });\n        if (this._clamp !== identity) {\n            this._clamp = clamper(this.domain);\n        }\n        this.rescale();\n    };\n    ContinuousScale.prototype.getDomain = function () {\n        return this._domain.slice();\n    };\n    Object.defineProperty(ContinuousScale.prototype, \"domain\", {\n        get: function () {\n            return this.getDomain();\n        },\n        set: function (values) {\n            this.setDomain(values);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ContinuousScale.prototype, \"range\", {\n        get: function () {\n            return this._range.slice();\n        },\n        set: function (values) {\n            this._range = Array.prototype.slice.call(values);\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ContinuousScale.prototype, \"interpolate\", {\n        get: function () {\n            return this._interpolate;\n        },\n        set: function (value) {\n            this._interpolate = value;\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ContinuousScale.prototype.rescale = function () {\n        if (Math.min(this.domain.length, this.range.length) > 2) {\n            // this.piecewise = this.polymap;\n        }\n        else {\n            this.piecewise = this.bimap;\n        }\n        this.output = undefined;\n        this.input = undefined;\n    };\n    /**\n     * Returns a function that converts `x` in `[a, b]` to `t` in `[0, 1]`. Non-clamping.\n     * @param a\n     * @param b\n     */\n    ContinuousScale.prototype.normalize = function (a, b) {\n        return (b -= (a = +a))\n            ? function (x) { return (x - a) / b; }\n            : constant(isNaN(b) ? NaN : 0.5);\n    };\n    ContinuousScale.prototype.bimap = function (domain, range, interpolate) {\n        var x0 = domain[0];\n        var x1 = domain[1];\n        var y0 = range[0];\n        var y1 = range[1];\n        var xt;\n        var ty;\n        if (x1 < x0) {\n            xt = this.normalize(x1, x0);\n            ty = interpolate(y1, y0);\n        }\n        else {\n            xt = this.normalize(x0, x1);\n            ty = interpolate(y0, y1);\n        }\n        return function (x) { return ty(xt(x)); }; // domain value x --> t in [0, 1] --> range value y\n    };\n    // private polymap(domain: any[], range: any[], interpolate: (a: any, b: any) => (t: number) => any): Reinterpolator<any> {\n    //     // number of segments in the polylinear scale\n    //     const n = Math.min(domain.length, range.length) - 1;\n    //     if (domain[n] < domain[0]) {\n    //         domain = domain.slice().reverse();\n    //         range = range.slice().reverse();\n    //     }\n    //     // deinterpolators from domain segment value to t\n    //     const dt = Array.from( {length: n}, (_, i) => this.normalize(domain[i], domain[i+1]) );\n    //     // reinterpolators from t to range segment value\n    //     const tr = Array.from( {length: n}, (_, i) => interpolate(range[i], range[i+1]) );\n    //     return (x) => {\n    //         const i = bisectRight(domain, x, ascending, 1, n) - 1; // Find the domain segment that `x` belongs to.\n    //         // This also tells us which deinterpolator/reinterpolator pair to use.\n    //         return tr[i](dt[i](x));\n    //     };\n    // }\n    ContinuousScale.prototype.convert = function (x) {\n        x = +x;\n        if (isNaN(x)) {\n            return this.unknown;\n        }\n        else {\n            if (!this.output) {\n                this.output = this.piecewise(this.domain.map(this.transform), this.range, this.interpolate);\n            }\n            return this.output(this.transform(this._clamp(x)));\n        }\n    };\n    ContinuousScale.prototype.invert = function (y) {\n        if (!this.input) {\n            this.input = this.piecewise(this.range, this.domain.map(this.transform), interpolateNumber);\n        }\n        return this._clamp(this.untransform(this.input(y)));\n    };\n    return ContinuousScale;\n}());\nexport default ContinuousScale;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Path } from \"../../../scene/shape/path\";\nimport ContinuousScale from \"../../../scale/continuousScale\";\nimport { Selection } from \"../../../scene/selection\";\nimport { Group } from \"../../../scene/group\";\nimport palette from \"../../palettes\";\nimport { numericExtent } from \"../../../util/array\";\nimport { toFixed } from \"../../../util/number\";\nimport { PointerEvents } from \"../../../scene/node\";\nimport { CartesianSeries, CartesianSeriesMarker } from \"./cartesianSeries\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { getMarker } from \"../../marker/util\";\nimport { reactive } from \"../../../util/observable\";\nimport { Chart } from \"../../chart\";\nvar LineSeries = /** @class */ (function (_super) {\n    __extends(LineSeries, _super);\n    function LineSeries() {\n        var _this = _super.call(this) || this;\n        _this.xDomain = [];\n        _this.yDomain = [];\n        _this.xData = [];\n        _this.yData = [];\n        _this.lineNode = new Path();\n        // We use groups for this selection even though each group only contains a marker ATM\n        // because in the future we might want to add label support as well.\n        _this.nodeSelection = Selection.select(_this.group).selectAll();\n        _this.nodeData = [];\n        _this.marker = new CartesianSeriesMarker();\n        _this.stroke = palette.fills[0];\n        _this.strokeWidth = 2;\n        _this.strokeOpacity = 1;\n        _this._xKey = '';\n        _this.xName = '';\n        _this._yKey = '';\n        _this.yName = '';\n        _this.highlightStyle = { fill: 'yellow' };\n        var lineNode = _this.lineNode;\n        lineNode.fill = undefined;\n        lineNode.lineJoin = 'round';\n        lineNode.pointerEvents = PointerEvents.None;\n        _this.group.append(lineNode);\n        _this.addEventListener('update', _this.update);\n        var marker = _this.marker;\n        marker.fill = palette.fills[0];\n        marker.stroke = palette.strokes[0];\n        marker.addPropertyListener('shape', _this.onMarkerShapeChange, _this);\n        marker.addPropertyListener('enabled', _this.onMarkerEnabledChange, _this);\n        marker.addEventListener('change', _this.update, _this);\n        return _this;\n    }\n    LineSeries.prototype.onMarkerShapeChange = function () {\n        this.nodeSelection = this.nodeSelection.setData([]);\n        this.nodeSelection.exit.remove();\n        this.update();\n        this.fireEvent({ type: 'legendChange' });\n    };\n    LineSeries.prototype.onMarkerEnabledChange = function (event) {\n        if (!event.value) {\n            this.nodeSelection = this.nodeSelection.setData([]);\n            this.nodeSelection.exit.remove();\n        }\n    };\n    Object.defineProperty(LineSeries.prototype, \"xKey\", {\n        get: function () {\n            return this._xKey;\n        },\n        set: function (value) {\n            if (this._xKey !== value) {\n                this._xKey = value;\n                this.xData = [];\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LineSeries.prototype, \"yKey\", {\n        get: function () {\n            return this._yKey;\n        },\n        set: function (value) {\n            if (this._yKey !== value) {\n                this._yKey = value;\n                this.yData = [];\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    LineSeries.prototype.processData = function () {\n        var _a = this, xAxis = _a.xAxis, yAxis = _a.yAxis, xKey = _a.xKey, yKey = _a.yKey, xData = _a.xData, yData = _a.yData;\n        var data = xKey && yKey && this.data ? this.data : [];\n        if (!xAxis) {\n            return false;\n        }\n        var isContinuousX = xAxis.scale instanceof ContinuousScale;\n        var isContinuousY = yAxis.scale instanceof ContinuousScale;\n        xData.length = 0;\n        yData.length = 0;\n        for (var i = 0, n = data.length; i < n; i++) {\n            var datum = data[i];\n            var x = datum[xKey];\n            var y = datum[yKey];\n            xData.push(x);\n            yData.push(y);\n        }\n        this.xDomain = isContinuousX ? this.fixNumericExtent(numericExtent(xData), 'x') : xData;\n        this.yDomain = isContinuousY ? this.fixNumericExtent(numericExtent(yData), 'y') : yData;\n        return true;\n    };\n    LineSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.xDomain;\n        }\n        return this.yDomain;\n    };\n    LineSeries.prototype.onHighlightChange = function () {\n        this.updateNodes();\n    };\n    LineSeries.prototype.update = function () {\n        this.group.visible = this.visible;\n        var _a = this, chart = _a.chart, xAxis = _a.xAxis, yAxis = _a.yAxis;\n        if (!chart || chart.layoutPending || chart.dataPending || !xAxis || !yAxis) {\n            return;\n        }\n        this.updateLinePath(); // this will generate node data too\n        this.updateNodeSelection();\n        this.updateNodes();\n    };\n    LineSeries.prototype.updateLinePath = function () {\n        var _this = this;\n        var _a = this, xAxis = _a.xAxis, yAxis = _a.yAxis, data = _a.data, xData = _a.xData, yData = _a.yData, lineNode = _a.lineNode;\n        var xScale = xAxis.scale;\n        var yScale = yAxis.scale;\n        var xOffset = (xScale.bandwidth || 0) / 2;\n        var yOffset = (yScale.bandwidth || 0) / 2;\n        var isContinuousX = xScale instanceof ContinuousScale;\n        var isContinuousY = yScale instanceof ContinuousScale;\n        var linePath = lineNode.path;\n        var nodeData = [];\n        linePath.clear();\n        var moveTo = true;\n        xData.forEach(function (xDatum, i) {\n            var yDatum = yData[i];\n            var isGap = yDatum == null || (isContinuousY && (isNaN(yDatum) || !isFinite(yDatum))) ||\n                xDatum == null || (isContinuousX && (isNaN(xDatum) || !isFinite(xDatum)));\n            if (isGap) {\n                moveTo = true;\n            }\n            else {\n                var x = xScale.convert(xDatum) + xOffset;\n                var y = yScale.convert(yDatum) + yOffset;\n                if (moveTo) {\n                    linePath.moveTo(x, y);\n                    moveTo = false;\n                }\n                else {\n                    linePath.lineTo(x, y);\n                }\n                nodeData.push({\n                    series: _this,\n                    seriesDatum: data[i],\n                    point: { x: x, y: y }\n                });\n            }\n        });\n        lineNode.stroke = this.stroke;\n        lineNode.strokeWidth = this.strokeWidth;\n        lineNode.strokeOpacity = this.strokeOpacity;\n        // Used by marker nodes and for hit-testing even when not using markers\n        // when `chart.tooltipTracking` is true.\n        this.nodeData = nodeData;\n    };\n    LineSeries.prototype.updateNodeSelection = function () {\n        var marker = this.marker;\n        var nodeData = marker.shape ? this.nodeData : [];\n        var MarkerShape = getMarker(marker.shape);\n        var updateSelection = this.nodeSelection.setData(nodeData);\n        updateSelection.exit.remove();\n        var enterSelection = updateSelection.enter.append(Group);\n        enterSelection.append(MarkerShape);\n        this.nodeSelection = updateSelection.merge(enterSelection);\n    };\n    LineSeries.prototype.updateNodes = function () {\n        var _a = this, marker = _a.marker, xKey = _a.xKey, yKey = _a.yKey, stroke = _a.stroke, strokeWidth = _a.strokeWidth;\n        var MarkerShape = getMarker(marker.shape);\n        var highlightedDatum = this.chart.highlightedDatum;\n        var _b = this.highlightStyle, highlightFill = _b.fill, highlightStroke = _b.stroke;\n        var markerFormatter = marker.formatter;\n        var markerSize = marker.size;\n        var markerStrokeWidth = marker.strokeWidth !== undefined ? marker.strokeWidth : strokeWidth;\n        this.nodeSelection.selectByClass(MarkerShape)\n            .each(function (node, datum) {\n            var highlighted = datum === highlightedDatum;\n            var markerFill = highlighted && highlightFill !== undefined ? highlightFill : marker.fill;\n            var markerStroke = highlighted && highlightStroke !== undefined ? highlightStroke : marker.stroke || stroke;\n            var markerFormat = undefined;\n            if (markerFormatter) {\n                markerFormat = markerFormatter({\n                    datum: datum.seriesDatum,\n                    xKey: xKey,\n                    yKey: yKey,\n                    fill: markerFill,\n                    stroke: markerStroke,\n                    strokeWidth: markerStrokeWidth,\n                    size: markerSize,\n                    highlighted: highlighted\n                });\n            }\n            node.fill = markerFormat && markerFormat.fill || markerFill;\n            node.stroke = markerFormat && markerFormat.stroke || markerStroke;\n            node.strokeWidth = markerFormat && markerFormat.strokeWidth !== undefined\n                ? markerFormat.strokeWidth\n                : markerStrokeWidth;\n            node.size = markerFormat && markerFormat.size !== undefined\n                ? markerFormat.size\n                : markerSize;\n            node.translationX = datum.point.x;\n            node.translationY = datum.point.y;\n            node.visible = marker.enabled && node.size > 0;\n        });\n    };\n    LineSeries.prototype.getNodeData = function () {\n        return this.nodeData;\n    };\n    LineSeries.prototype.fireNodeClickEvent = function (datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            series: this,\n            datum: datum.seriesDatum,\n            xKey: this.xKey,\n            yKey: this.yKey\n        });\n    };\n    LineSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var _a = this, xKey = _a.xKey, yKey = _a.yKey;\n        if (!xKey || !yKey) {\n            return '';\n        }\n        var _b = this, xName = _b.xName, yName = _b.yName, color = _b.stroke, tooltipRenderer = _b.tooltipRenderer;\n        if (tooltipRenderer) {\n            return tooltipRenderer({\n                datum: nodeDatum.seriesDatum,\n                xKey: xKey,\n                xName: xName,\n                yKey: yKey,\n                yName: yName,\n                title: this.title,\n                color: color\n            });\n        }\n        else {\n            var title = this.title || yName;\n            var titleStyle = \"style=\\\"color: white; background-color: \" + color + \"\\\"\";\n            var titleString = title ? \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-title\\\" \" + titleStyle + \">\" + title + \"</div>\" : '';\n            var seriesDatum = nodeDatum.seriesDatum;\n            var xValue = seriesDatum[xKey];\n            var yValue = seriesDatum[yKey];\n            var xString = typeof xValue === 'number' ? toFixed(xValue) : String(xValue);\n            var yString = typeof yValue === 'number' ? toFixed(yValue) : String(yValue);\n            return titleString + \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-content\\\">\" + xString + \": \" + yString + \"</div>\";\n        }\n    };\n    LineSeries.prototype.listSeriesItems = function (legendData) {\n        var _a = this, id = _a.id, data = _a.data, xKey = _a.xKey, yKey = _a.yKey, yName = _a.yName, visible = _a.visible, title = _a.title, marker = _a.marker, stroke = _a.stroke, strokeOpacity = _a.strokeOpacity;\n        if (data && data.length && xKey && yKey) {\n            legendData.push({\n                id: id,\n                itemId: undefined,\n                enabled: visible,\n                label: {\n                    text: title || yName || yKey\n                },\n                marker: {\n                    shape: marker.shape,\n                    fill: marker.fill,\n                    stroke: marker.stroke || stroke,\n                    fillOpacity: 1,\n                    strokeOpacity: strokeOpacity\n                }\n            });\n        }\n    };\n    LineSeries.className = 'LineSeries';\n    LineSeries.type = 'line';\n    __decorate([\n        reactive('layoutChange')\n    ], LineSeries.prototype, \"title\", void 0);\n    __decorate([\n        reactive('update')\n    ], LineSeries.prototype, \"stroke\", void 0);\n    __decorate([\n        reactive('update')\n    ], LineSeries.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        reactive('update')\n    ], LineSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        reactive('update')\n    ], LineSeries.prototype, \"xName\", void 0);\n    __decorate([\n        reactive('update')\n    ], LineSeries.prototype, \"yName\", void 0);\n    return LineSeries;\n}(CartesianSeries));\nexport { LineSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexport default function (a, b, count) {\n    var step = tickStep(a, b, count);\n    a = Math.ceil(a / step) * step;\n    b = Math.floor(b / step) * step + step / 2;\n    // Add half a step here so that the array returned by `range` includes the last tick.\n    return range(a, b, step);\n}\nvar e10 = Math.sqrt(50);\nvar e5 = Math.sqrt(10);\nvar e2 = Math.sqrt(2);\nexport function tickStep(a, b, count) {\n    var rawStep = Math.abs(b - a) / Math.max(0, count);\n    var step = Math.pow(10, Math.floor(Math.log(rawStep) / Math.LN10)); // = Math.log10(rawStep)\n    var error = rawStep / step;\n    if (error >= e10) {\n        step *= 10;\n    }\n    else if (error >= e5) {\n        step *= 5;\n    }\n    else if (error >= e2) {\n        step *= 2;\n    }\n    return b < a ? -step : step;\n}\nexport function tickIncrement(a, b, count) {\n    var rawStep = (b - a) / Math.max(0, count);\n    var power = Math.floor(Math.log(rawStep) / Math.LN10);\n    var error = rawStep / Math.pow(10, power);\n    return power >= 0\n        ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n        : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nvar NumericTicks = /** @class */ (function (_super) {\n    __extends(NumericTicks, _super);\n    function NumericTicks(fractionDigits, size) {\n        if (size === void 0) { size = 0; }\n        var _this = _super.call(this, size) || this;\n        _this.fractionDigits = fractionDigits;\n        return _this;\n    }\n    return NumericTicks;\n}(Array));\nexport { NumericTicks };\nfunction range(a, b, step) {\n    if (step === void 0) { step = 1; }\n    var absStep = Math.abs(step);\n    var fractionDigits = (absStep > 0 && absStep < 1)\n        ? Math.abs(Math.floor(Math.log(absStep) / Math.LN10))\n        : 0;\n    var f = Math.pow(10, fractionDigits);\n    var n = Math.max(0, Math.ceil((b - a) / step)) || 0;\n    var values = new NumericTicks(fractionDigits, n);\n    for (var i = 0; i < n; i++) {\n        var value = a + step * i;\n        values[i] = Math.round(value * f) / f;\n    }\n    return values;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport ContinuousScale from \"./continuousScale\";\nimport ticks, { tickIncrement } from \"../util/ticks\";\n/**\n * Maps continuous domain to a continuous range.\n */\nvar LinearScale = /** @class */ (function (_super) {\n    __extends(LinearScale, _super);\n    function LinearScale() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LinearScale.prototype.ticks = function (count) {\n        if (count === void 0) { count = 10; }\n        var d = this._domain;\n        return ticks(d[0], d[d.length - 1], count);\n    };\n    /**\n     * Extends the domain so that it starts and ends on nice round values.\n     * @param count Tick count.\n     */\n    LinearScale.prototype.nice = function (count) {\n        if (count === void 0) { count = 10; }\n        var d = this.domain;\n        var i0 = 0;\n        var i1 = d.length - 1;\n        var start = d[i0];\n        var stop = d[i1];\n        var step;\n        if (stop < start) {\n            step = start;\n            start = stop;\n            stop = step;\n            step = i0;\n            i0 = i1;\n            i1 = step;\n        }\n        step = tickIncrement(start, stop, count);\n        if (step > 0) {\n            start = Math.floor(start / step) * step;\n            stop = Math.ceil(stop / step) * step;\n            step = tickIncrement(start, stop, count);\n        }\n        else if (step < 0) {\n            start = Math.ceil(start * step) / step;\n            stop = Math.floor(stop * step) / step;\n            step = tickIncrement(start, stop, count);\n        }\n        if (step > 0) {\n            d[i0] = Math.floor(start / step) * step;\n            d[i1] = Math.ceil(stop / step) * step;\n            this.domain = d;\n        }\n        else if (step < 0) {\n            d[i0] = Math.ceil(start * step) / step;\n            d[i1] = Math.floor(stop * step) / step;\n            this.domain = d;\n        }\n    };\n    return LinearScale;\n}(ContinuousScale));\nexport { LinearScale };\n/**\n * Creates a continuous scale with the default interpolator and no clamping.\n */\nexport default function scaleLinear() {\n    return new LinearScale();\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Selection } from \"../../../scene/selection\";\nimport { Group } from \"../../../scene/group\";\nimport { finiteExtent } from \"../../../util/array\";\nimport { toFixed } from \"../../../util/number\";\nimport { LinearScale } from \"../../../scale/linearScale\";\nimport { reactive } from \"../../../util/observable\";\nimport { CartesianSeries, CartesianSeriesMarker } from \"./cartesianSeries\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport palette from \"../../palettes\";\nimport { getMarker } from \"../../marker/util\";\nimport { Chart } from \"../../chart\";\nimport ContinuousScale from \"../../../scale/continuousScale\";\nvar ScatterSeries = /** @class */ (function (_super) {\n    __extends(ScatterSeries, _super);\n    function ScatterSeries() {\n        var _this = _super.call(this) || this;\n        _this.xDomain = [];\n        _this.yDomain = [];\n        _this.xData = [];\n        _this.yData = [];\n        _this.sizeData = [];\n        _this.sizeScale = new LinearScale();\n        _this.nodeSelection = Selection.select(_this.group).selectAll();\n        _this.nodeData = [];\n        _this.marker = new CartesianSeriesMarker();\n        _this._fill = palette.fills[0];\n        _this._stroke = palette.strokes[0];\n        _this._strokeWidth = 2;\n        _this._fillOpacity = 1;\n        _this._strokeOpacity = 1;\n        _this.highlightStyle = { fill: 'yellow' };\n        _this.xKey = '';\n        _this.yKey = '';\n        _this.xName = '';\n        _this.yName = '';\n        _this.sizeName = 'Size';\n        _this.labelName = 'Label';\n        var marker = _this.marker;\n        marker.addPropertyListener('shape', _this.onMarkerShapeChange, _this);\n        marker.addEventListener('change', _this.update, _this);\n        _this.addPropertyListener('xKey', function () { return _this.xData = []; });\n        _this.addPropertyListener('yKey', function () { return _this.yData = []; });\n        _this.addPropertyListener('sizeKey', function () { return _this.sizeData = []; });\n        return _this;\n    }\n    Object.defineProperty(ScatterSeries.prototype, \"fill\", {\n        get: function () {\n            return this._fill;\n        },\n        set: function (value) {\n            if (this._fill !== value) {\n                this._fill = value;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ScatterSeries.prototype, \"stroke\", {\n        get: function () {\n            return this._stroke;\n        },\n        set: function (value) {\n            if (this._stroke !== value) {\n                this._stroke = value;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ScatterSeries.prototype, \"strokeWidth\", {\n        get: function () {\n            return this._strokeWidth;\n        },\n        set: function (value) {\n            if (this._strokeWidth !== value) {\n                this._strokeWidth = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ScatterSeries.prototype, \"fillOpacity\", {\n        get: function () {\n            return this._fillOpacity;\n        },\n        set: function (value) {\n            if (this._fillOpacity !== value) {\n                this._fillOpacity = value;\n                this.scheduleLayout();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ScatterSeries.prototype, \"strokeOpacity\", {\n        get: function () {\n            return this._strokeOpacity;\n        },\n        set: function (value) {\n            if (this._strokeOpacity !== value) {\n                this._strokeOpacity = value;\n                this.scheduleLayout();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ScatterSeries.prototype.onHighlightChange = function () {\n        this.updateNodes();\n    };\n    ScatterSeries.prototype.onMarkerShapeChange = function () {\n        this.nodeSelection = this.nodeSelection.setData([]);\n        this.nodeSelection.exit.remove();\n        this.update();\n        this.fireEvent({ type: 'legendChange' });\n    };\n    ScatterSeries.prototype.processData = function () {\n        var _a = this, xKey = _a.xKey, yKey = _a.yKey, sizeKey = _a.sizeKey, xAxis = _a.xAxis, yAxis = _a.yAxis;\n        var data = xKey && yKey && this.data ? this.data : [];\n        this.xData = data.map(function (d) { return d[xKey]; });\n        this.yData = data.map(function (d) { return d[yKey]; });\n        if (sizeKey) {\n            this.sizeData = data.map(function (d) { return d[sizeKey]; });\n        }\n        else {\n            this.sizeData = [];\n        }\n        this.sizeScale.domain = finiteExtent(this.sizeData) || [1, 1];\n        if (xAxis.scale instanceof ContinuousScale) {\n            this.xDomain = this.fixNumericExtent(finiteExtent(this.xData), 'x');\n        }\n        else {\n            this.xDomain = this.xData;\n        }\n        if (yAxis.scale instanceof ContinuousScale) {\n            this.yDomain = this.fixNumericExtent(finiteExtent(this.yData), 'y');\n        }\n        else {\n            this.yDomain = this.yData;\n        }\n        return true;\n    };\n    ScatterSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.xDomain;\n        }\n        else {\n            return this.yDomain;\n        }\n    };\n    ScatterSeries.prototype.getNodeData = function () {\n        return this.nodeData;\n    };\n    ScatterSeries.prototype.fireNodeClickEvent = function (datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            series: this,\n            datum: datum.seriesDatum,\n            xKey: this.xKey,\n            yKey: this.yKey,\n            sizeKey: this.sizeKey\n        });\n    };\n    ScatterSeries.prototype.generateNodeData = function () {\n        var _this = this;\n        var xScale = this.xAxis.scale;\n        var yScale = this.yAxis.scale;\n        var xOffset = (xScale.bandwidth || 0) / 2;\n        var yOffset = (yScale.bandwidth || 0) / 2;\n        var _a = this, data = _a.data, xData = _a.xData, yData = _a.yData, sizeData = _a.sizeData, sizeScale = _a.sizeScale, marker = _a.marker;\n        sizeScale.range = [marker.minSize, marker.size];\n        return xData.map(function (xDatum, i) { return ({\n            series: _this,\n            seriesDatum: data[i],\n            point: {\n                x: xScale.convert(xDatum) + xOffset,\n                y: yScale.convert(yData[i]) + yOffset\n            },\n            size: sizeData.length ? sizeScale.convert(sizeData[i]) : marker.size\n        }); });\n    };\n    ScatterSeries.prototype.update = function () {\n        var _a = this, visible = _a.visible, chart = _a.chart, xAxis = _a.xAxis, yAxis = _a.yAxis;\n        this.group.visible = visible;\n        if (!visible || !chart || chart.layoutPending || chart.dataPending || !xAxis || !yAxis) {\n            return;\n        }\n        var nodeData = this.nodeData = this.generateNodeData();\n        this.updateNodeSelection(nodeData);\n        this.updateNodes();\n    };\n    ScatterSeries.prototype.updateNodeSelection = function (nodeData) {\n        var MarkerShape = getMarker(this.marker.shape);\n        var updateSelection = this.nodeSelection.setData(nodeData);\n        updateSelection.exit.remove();\n        var enterSelection = updateSelection.enter.append(Group);\n        enterSelection.append(MarkerShape);\n        this.nodeSelection = updateSelection.merge(enterSelection);\n    };\n    ScatterSeries.prototype.updateNodes = function () {\n        var highlightedDatum = this.chart.highlightedDatum;\n        var _a = this, marker = _a.marker, xKey = _a.xKey, yKey = _a.yKey, fill = _a.fill, stroke = _a.stroke, strokeWidth = _a.strokeWidth, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity;\n        var _b = this.highlightStyle, highlightFill = _b.fill, highlightStroke = _b.stroke;\n        var markerStrokeWidth = marker.strokeWidth !== undefined ? marker.strokeWidth : strokeWidth;\n        var MarkerShape = getMarker(marker.shape);\n        var markerFormatter = marker.formatter;\n        this.nodeSelection.selectByClass(MarkerShape)\n            .each(function (node, datum) {\n            var highlighted = datum === highlightedDatum;\n            var markerFill = highlighted && highlightFill !== undefined ? highlightFill : marker.fill || fill;\n            var markerStroke = highlighted && highlightStroke !== undefined ? highlightStroke : marker.stroke || stroke;\n            var markerFormat = undefined;\n            if (markerFormatter) {\n                markerFormat = markerFormatter({\n                    datum: datum.seriesDatum,\n                    xKey: xKey,\n                    yKey: yKey,\n                    fill: markerFill,\n                    stroke: markerStroke,\n                    strokeWidth: markerStrokeWidth,\n                    size: datum.size,\n                    highlighted: highlighted\n                });\n            }\n            node.fill = markerFormat && markerFormat.fill || markerFill;\n            node.stroke = markerFormat && markerFormat.stroke || markerStroke;\n            node.strokeWidth = markerFormat && markerFormat.strokeWidth !== undefined\n                ? markerFormat.strokeWidth\n                : markerStrokeWidth;\n            node.size = markerFormat && markerFormat.size !== undefined\n                ? markerFormat.size\n                : datum.size;\n            node.fillOpacity = fillOpacity;\n            node.strokeOpacity = strokeOpacity;\n            node.translationX = datum.point.x;\n            node.translationY = datum.point.y;\n            node.visible = marker.enabled && node.size > 0;\n        });\n    };\n    ScatterSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var _a = this, xKey = _a.xKey, yKey = _a.yKey;\n        if (!xKey || !yKey) {\n            return '';\n        }\n        var _b = this, tooltipRenderer = _b.tooltipRenderer, xName = _b.xName, yName = _b.yName, sizeKey = _b.sizeKey, sizeName = _b.sizeName, labelKey = _b.labelKey, labelName = _b.labelName, fill = _b.fill;\n        var color = fill || 'gray';\n        if (tooltipRenderer) {\n            return tooltipRenderer({\n                datum: nodeDatum.seriesDatum,\n                xKey: xKey,\n                yKey: yKey,\n                sizeKey: sizeKey,\n                labelKey: labelKey,\n                xName: xName,\n                yName: yName,\n                sizeName: sizeName,\n                labelName: labelName,\n                title: this.title,\n                color: color\n            });\n        }\n        else {\n            var title = this.title || yName;\n            var titleStyle = \"style=\\\"color: white; background-color: \" + color + \"\\\"\";\n            var titleHtml = title ? \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-title\\\" \" + titleStyle + \">\" + title + \"</div>\" : '';\n            var seriesDatum = nodeDatum.seriesDatum;\n            var xValue = seriesDatum[xKey];\n            var yValue = seriesDatum[yKey];\n            var contentHtml = \"<b>\" + (xName || xKey) + \"</b>: \" + (typeof xValue === 'number' ? toFixed(xValue) : xValue)\n                + (\"<br><b>\" + (yName || yKey) + \"</b>: \" + (typeof yValue === 'number' ? toFixed(yValue) : yValue));\n            if (sizeKey) {\n                contentHtml += \"<br><b>\" + sizeName + \"</b>: \" + seriesDatum[sizeKey];\n            }\n            if (labelKey) {\n                contentHtml = \"<b>\" + labelName + \"</b>: \" + seriesDatum[labelKey] + \"<br>\" + contentHtml;\n            }\n            return titleHtml + \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-content\\\">\" + contentHtml + \"</div>\";\n        }\n    };\n    ScatterSeries.prototype.listSeriesItems = function (legendData) {\n        var _a = this, id = _a.id, data = _a.data, xKey = _a.xKey, yKey = _a.yKey, yName = _a.yName, title = _a.title, visible = _a.visible, marker = _a.marker, fill = _a.fill, stroke = _a.stroke, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity;\n        if (data && data.length && xKey && yKey) {\n            legendData.push({\n                id: id,\n                itemId: undefined,\n                enabled: visible,\n                label: {\n                    text: title || yName || yKey\n                },\n                marker: {\n                    shape: marker.shape,\n                    fill: marker.fill || fill,\n                    stroke: marker.stroke || stroke,\n                    fillOpacity: fillOpacity,\n                    strokeOpacity: strokeOpacity\n                }\n            });\n        }\n    };\n    ScatterSeries.className = 'ScatterSeries';\n    ScatterSeries.type = 'scatter';\n    __decorate([\n        reactive('layoutChange')\n    ], ScatterSeries.prototype, \"title\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], ScatterSeries.prototype, \"xKey\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], ScatterSeries.prototype, \"yKey\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], ScatterSeries.prototype, \"sizeKey\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], ScatterSeries.prototype, \"labelKey\", void 0);\n    return ScatterSeries;\n}(CartesianSeries));\nexport { ScatterSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { Group } from \"../../../scene/group\";\nimport { Selection } from \"../../../scene/selection\";\nimport { Rect } from \"../../../scene/shape/rect\";\nimport { Text } from \"../../../scene/shape/text\";\nimport palette from \"../../palettes\";\nimport { Label } from \"../../label\";\nimport { PointerEvents } from \"../../../scene/node\";\nimport { CartesianSeries } from \"./cartesianSeries\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { Chart } from \"../../chart\";\nimport { numericExtent, finiteExtent } from \"../../../util/array\";\nimport { toFixed } from \"../../../util/number\";\nimport { reactive } from \"../../../util/observable\";\nimport ticks, { tickStep } from \"../../../util/ticks\";\nvar HistogramSeriesNodeTag;\n(function (HistogramSeriesNodeTag) {\n    HistogramSeriesNodeTag[HistogramSeriesNodeTag[\"Bin\"] = 0] = \"Bin\";\n    HistogramSeriesNodeTag[HistogramSeriesNodeTag[\"Label\"] = 1] = \"Label\";\n})(HistogramSeriesNodeTag || (HistogramSeriesNodeTag = {}));\nvar HistogramSeriesLabel = /** @class */ (function (_super) {\n    __extends(HistogramSeriesLabel, _super);\n    function HistogramSeriesLabel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        reactive('change')\n    ], HistogramSeriesLabel.prototype, \"formatter\", void 0);\n    return HistogramSeriesLabel;\n}(Label));\nvar defaultBinCount = 10;\nvar aggregationFunctions = {\n    count: function (bin) { return bin.data.length; },\n    sum: function (bin, yKey) { return bin.data.reduce(function (acc, datum) { return acc + datum[yKey]; }, 0); },\n    mean: function (bin, yKey) { return aggregationFunctions.sum(bin, yKey) / aggregationFunctions.count(bin, yKey); }\n};\nvar HistogramBin = /** @class */ (function () {\n    function HistogramBin(_a) {\n        var domainMin = _a[0], domainMax = _a[1];\n        this.data = [];\n        this.aggregatedValue = 0;\n        this.frequency = 0;\n        this.domain = [domainMin, domainMax];\n    }\n    ;\n    HistogramBin.prototype.addDatum = function (datum) {\n        this.data.push(datum);\n        this.frequency++;\n    };\n    ;\n    Object.defineProperty(HistogramBin.prototype, \"domainWidth\", {\n        get: function () {\n            var _a = this.domain, domainMin = _a[0], domainMax = _a[1];\n            return domainMax - domainMin;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramBin.prototype, \"relativeHeight\", {\n        get: function () {\n            return this.aggregatedValue / this.domainWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ;\n    HistogramBin.prototype.calculateAggregatedValue = function (aggregationName, yKey) {\n        if (!yKey) {\n            // not having a yKey forces us into a frequency plot\n            aggregationName = 'count';\n        }\n        var aggregationFunction = aggregationFunctions[aggregationName];\n        this.aggregatedValue = aggregationFunction(this, yKey);\n    };\n    HistogramBin.prototype.getY = function (areaPlot) {\n        return areaPlot ? this.relativeHeight : this.aggregatedValue;\n    };\n    return HistogramBin;\n}());\nexport { HistogramBin };\n;\nvar HistogramSeries = /** @class */ (function (_super) {\n    __extends(HistogramSeries, _super);\n    function HistogramSeries() {\n        var _a;\n        var _this = _super.call(this) || this;\n        // Need to put column and label nodes into separate groups, because even though label nodes are\n        // created after the column nodes, this only guarantees that labels will always be on top of columns\n        // on the first run. If on the next run more columns are added, they might clip the labels\n        // rendered during the previous run.\n        _this.rectGroup = _this.group.appendChild(new Group());\n        _this.textGroup = _this.group.appendChild(new Group());\n        _this.rectSelection = Selection.select(_this.rectGroup).selectAll();\n        _this.textSelection = Selection.select(_this.textGroup).selectAll();\n        _this.binnedData = [];\n        _this.xDomain = [];\n        _this.yDomain = [];\n        _this.label = new HistogramSeriesLabel();\n        _this.seriesItemEnabled = true;\n        _this.fill = palette.fills[0];\n        _this.stroke = palette.strokes[0];\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        _this.directionKeys = (_a = {},\n            _a[ChartAxisDirection.X] = ['xKey'],\n            _a[ChartAxisDirection.Y] = ['yKey'],\n            _a);\n        _this._xKey = '';\n        _this._areaPlot = false;\n        _this._xName = '';\n        _this._yKey = '';\n        _this._yName = '';\n        _this._strokeWidth = 1;\n        _this.highlightStyle = { fill: 'yellow' };\n        _this.label.enabled = false;\n        _this.label.addEventListener('change', _this.update, _this);\n        return _this;\n    }\n    HistogramSeries.prototype.getKeys = function (direction) {\n        var _this = this;\n        var directionKeys = this.directionKeys;\n        var keys = directionKeys && directionKeys[direction];\n        var values = [];\n        if (keys) {\n            keys.forEach(function (key) {\n                var value = _this[key];\n                if (value) {\n                    if (Array.isArray(value)) {\n                        values.push.apply(values, value);\n                    }\n                    else {\n                        values.push(value);\n                    }\n                }\n            });\n        }\n        return values;\n    };\n    Object.defineProperty(HistogramSeries.prototype, \"xKey\", {\n        get: function () {\n            return this._xKey;\n        },\n        set: function (value) {\n            if (this._xKey !== value) {\n                this._xKey = value;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"areaPlot\", {\n        get: function () {\n            return this._areaPlot;\n        },\n        set: function (c) {\n            this._areaPlot = c;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"bins\", {\n        get: function () {\n            return this._bins;\n        },\n        set: function (bins) {\n            this._bins = bins;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"aggregation\", {\n        get: function () {\n            return this._aggregation;\n        },\n        set: function (aggregation) {\n            this._aggregation = aggregation;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"binCount\", {\n        get: function () {\n            return this._binCount;\n        },\n        set: function (binCount) {\n            this._binCount = binCount;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"xName\", {\n        get: function () {\n            return this._xName;\n        },\n        set: function (value) {\n            if (this._xName !== value) {\n                this._xName = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"yKey\", {\n        get: function () {\n            return this._yKey;\n        },\n        set: function (yKey) {\n            this._yKey = yKey;\n            this.seriesItemEnabled = true;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"yName\", {\n        get: function () {\n            return this._yName;\n        },\n        set: function (values) {\n            this._yName = values;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"strokeWidth\", {\n        get: function () {\n            return this._strokeWidth;\n        },\n        set: function (value) {\n            if (this._strokeWidth !== value) {\n                this._strokeWidth = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"shadow\", {\n        get: function () {\n            return this._shadow;\n        },\n        set: function (value) {\n            if (this._shadow !== value) {\n                this._shadow = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HistogramSeries.prototype.onHighlightChange = function () {\n        this.updateRectNodes();\n    };\n    /*  during processData phase, used to unify different ways of the user specifying\n        the bins. Returns bins in format [[min1, max1], [min2, max2] ... ] */\n    HistogramSeries.prototype.deriveBins = function () {\n        var _this = this;\n        var _a = this, bins = _a.bins, binCount = _a.binCount;\n        if (bins && binCount) {\n            console.warn('bin domain and bin count both specified - these are mutually exclusive properties');\n        }\n        if (bins) {\n            // we have explicity set bins from user. Use those.\n            return bins;\n        }\n        var xData = this.data.map(function (datum) { return datum[_this.xKey]; });\n        var xDomain = this.fixNumericExtent(finiteExtent(xData), 'x');\n        var binStarts = ticks(xDomain[0], xDomain[1], this.binCount || defaultBinCount);\n        var binSize = tickStep(xDomain[0], xDomain[1], this.binCount || defaultBinCount);\n        var firstBinEnd = binStarts[0];\n        var expandStartToBin = function (n) { return [n, n + binSize]; };\n        return __spreadArrays([\n            [firstBinEnd - binSize, firstBinEnd]\n        ], binStarts.map(expandStartToBin));\n    };\n    HistogramSeries.prototype.placeDataInBins = function (data) {\n        var _this = this;\n        var xKey = this.xKey;\n        var derivedBins = this.deriveBins();\n        // creating a sorted copy allows binning in O(n) rather than O(n)\n        // but at the expense of more temporary memory\n        var sortedData = data.slice().sort(function (a, b) {\n            if (a[xKey] < b[xKey]) {\n                return -1;\n            }\n            if (a[xKey] > b[xKey]) {\n                return 1;\n            }\n            return 0;\n        });\n        var currentBin = 0;\n        var bins = [new HistogramBin(derivedBins[0])];\n        sortedData.forEach(function (datum) {\n            while (datum[xKey] > derivedBins[currentBin][1]) {\n                currentBin++;\n                bins.push(new HistogramBin(derivedBins[currentBin]));\n            }\n            bins[currentBin].addDatum(datum);\n        });\n        bins.forEach(function (b) { return b.calculateAggregatedValue(_this._aggregation, _this.yKey); });\n        return bins;\n    };\n    Object.defineProperty(HistogramSeries.prototype, \"xMax\", {\n        get: function () {\n            var _this = this;\n            return this.data && this.data.reduce(function (acc, datum) {\n                return Math.max(acc, datum[_this.xKey]);\n            }, Number.NEGATIVE_INFINITY);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HistogramSeries.prototype.processData = function () {\n        var _this = this;\n        var _a = this, xKey = _a.xKey, data = _a.data;\n        this.binnedData = this.placeDataInBins(xKey && data ? data : []);\n        var yData = this.binnedData.map(function (b) { return b.getY(_this.areaPlot); });\n        var yMinMax = numericExtent(yData);\n        this.yDomain = this.fixNumericExtent([0, yMinMax[1]], 'y');\n        var firstBin = this.binnedData[0];\n        var lastBin = this.binnedData[this.binnedData.length - 1];\n        var xMin = firstBin.domain[0];\n        var xMax = lastBin.domain[1];\n        this.xDomain = [xMin, xMax];\n        this.fireEvent({ type: 'dataProcessed' });\n        return true;\n    };\n    HistogramSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.xDomain;\n        }\n        else {\n            return this.yDomain;\n        }\n    };\n    HistogramSeries.prototype.fireNodeClickEvent = function (datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            series: this,\n            datum: datum.seriesDatum,\n            xKey: this.xKey\n        });\n    };\n    HistogramSeries.prototype.update = function () {\n        var _a = this, visible = _a.visible, chart = _a.chart, xAxis = _a.xAxis, yAxis = _a.yAxis;\n        this.group.visible = visible;\n        if (!xAxis || !yAxis || !visible || !chart || chart.layoutPending || chart.dataPending) {\n            return;\n        }\n        var nodeData = this.generateNodeData();\n        this.updateRectSelection(nodeData);\n        this.updateRectNodes();\n        this.updateTextSelection(nodeData);\n        this.updateTextNodes();\n    };\n    HistogramSeries.prototype.generateNodeData = function () {\n        var _this = this;\n        if (!this.seriesItemEnabled) {\n            return [];\n        }\n        var _a = this, xScale = _a.xAxis.scale, yScale = _a.yAxis.scale, fill = _a.fill, stroke = _a.stroke, strokeWidth = _a.strokeWidth;\n        var nodeData = [];\n        var defaultLabelFormatter = function (b) { return String(b.aggregatedValue); };\n        var _b = this.label, _c = _b.formatter, labelFormatter = _c === void 0 ? defaultLabelFormatter : _c, labelFontStyle = _b.fontStyle, labelFontWeight = _b.fontWeight, labelFontSize = _b.fontSize, labelFontFamily = _b.fontFamily, labelColor = _b.color;\n        this.binnedData.forEach(function (binOfData) {\n            var total = binOfData.aggregatedValue, frequency = binOfData.frequency, _a = binOfData.domain, xDomainMin = _a[0], xDomainMax = _a[1], relativeHeight = binOfData.relativeHeight;\n            var xMinPx = xScale.convert(xDomainMin), xMaxPx = xScale.convert(xDomainMax), \n            // note: assuming can't be negative:\n            y = _this.areaPlot ? relativeHeight : (_this.yKey ? total : frequency), yZeroPx = yScale.convert(0), yMaxPx = yScale.convert(y), w = xMaxPx - xMinPx, h = Math.abs(yMaxPx - yZeroPx);\n            var selectionDatumLabel = y !== 0 && {\n                text: labelFormatter(binOfData),\n                fontStyle: labelFontStyle,\n                fontWeight: labelFontWeight,\n                fontSize: labelFontSize,\n                fontFamily: labelFontFamily,\n                fill: labelColor,\n                x: xMinPx + w / 2,\n                y: yMaxPx + h / 2\n            };\n            nodeData.push({\n                series: _this,\n                seriesDatum: binOfData,\n                // since each selection is an aggregation of multiple data.\n                x: xMinPx,\n                y: yMaxPx,\n                width: w,\n                height: h,\n                fill: fill,\n                stroke: stroke,\n                strokeWidth: strokeWidth,\n                label: selectionDatumLabel,\n            });\n        });\n        return nodeData;\n    };\n    HistogramSeries.prototype.updateRectSelection = function (nodeData) {\n        var updateRects = this.rectSelection.setData(nodeData);\n        updateRects.exit.remove();\n        var enterRects = updateRects.enter.append(Rect).each(function (rect) {\n            rect.tag = HistogramSeriesNodeTag.Bin;\n            rect.crisp = true;\n        });\n        this.rectSelection = updateRects.merge(enterRects);\n    };\n    HistogramSeries.prototype.updateRectNodes = function () {\n        var highlightedDatum = this.chart.highlightedDatum;\n        var _a = this, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity, shadow = _a.shadow, _b = _a.highlightStyle, fill = _b.fill, stroke = _b.stroke;\n        this.rectSelection.each(function (rect, datum) {\n            var highlighted = datum === highlightedDatum;\n            rect.x = datum.x;\n            rect.y = datum.y;\n            rect.width = datum.width;\n            rect.height = datum.height;\n            rect.fill = highlighted && fill !== undefined ? fill : datum.fill;\n            rect.stroke = highlighted && stroke !== undefined ? stroke : datum.stroke;\n            rect.fillOpacity = fillOpacity;\n            rect.strokeOpacity = strokeOpacity;\n            rect.strokeWidth = datum.strokeWidth;\n            rect.fillShadow = shadow;\n            rect.visible = datum.height > 0; // prevent stroke from rendering for zero height columns\n        });\n    };\n    HistogramSeries.prototype.updateTextSelection = function (nodeData) {\n        var updateTexts = this.textSelection.setData(nodeData);\n        updateTexts.exit.remove();\n        var enterTexts = updateTexts.enter.append(Text).each(function (text) {\n            text.tag = HistogramSeriesNodeTag.Label;\n            text.pointerEvents = PointerEvents.None;\n            text.textAlign = 'center';\n            text.textBaseline = 'middle';\n        });\n        this.textSelection = updateTexts.merge(enterTexts);\n    };\n    HistogramSeries.prototype.updateTextNodes = function () {\n        var labelEnabled = this.label.enabled;\n        this.textSelection.each(function (text, datum) {\n            var label = datum.label;\n            if (label && labelEnabled) {\n                text.text = label.text;\n                text.x = label.x;\n                text.y = label.y;\n                text.fontStyle = label.fontStyle;\n                text.fontWeight = label.fontWeight;\n                text.fontSize = label.fontSize;\n                text.fontFamily = label.fontFamily;\n                text.fill = label.fill;\n                text.visible = true;\n            }\n            else {\n                text.visible = false;\n            }\n        });\n    };\n    HistogramSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var _a = this, xKey = _a.xKey, yKey = _a.yKey;\n        if (!xKey) {\n            return '';\n        }\n        var _b = this, xName = _b.xName, yName = _b.yName, fill = _b.fill, tooltipRenderer = _b.tooltipRenderer, aggregation = _b.aggregation;\n        var bin = nodeDatum.seriesDatum;\n        var aggregatedValue = bin.aggregatedValue, frequency = bin.frequency, _c = bin.domain, rangeMin = _c[0], rangeMax = _c[1];\n        if (tooltipRenderer) {\n            return tooltipRenderer({\n                datum: bin,\n                xKey: xKey,\n                xName: xName,\n                yKey: yKey,\n                yName: yName,\n                color: fill\n            });\n        }\n        else {\n            var titleStyle = \"style=\\\"color: white; background-color: \" + fill + \"\\\"\";\n            var titleString = \"\\n                <div class=\\\"\" + Chart.defaultTooltipClass + \"-title\\\" \" + titleStyle + \">\\n                    \" + (xName || xKey) + \" \" + toFixed(rangeMin) + \" - \" + toFixed(rangeMax) + \"\\n                </div>\";\n            var contentHtml = yKey ?\n                \"<b>\" + (yName || yKey) + \" (\" + aggregation + \")</b>: \" + toFixed(aggregatedValue) + \"<br>\" :\n                '';\n            contentHtml += \"<b>Frequency</b>: \" + frequency;\n            return \"\\n                \" + titleString + \"\\n                <div class=\\\"\" + Chart.defaultTooltipClass + \"-content\\\">\\n                    \" + contentHtml + \"\\n                </div>\";\n        }\n    };\n    HistogramSeries.prototype.listSeriesItems = function (legendData) {\n        var _a = this, id = _a.id, data = _a.data, yKey = _a.yKey, yName = _a.yName, seriesItemEnabled = _a.seriesItemEnabled, fill = _a.fill, stroke = _a.stroke, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity;\n        if (data && data.length) {\n            legendData.push({\n                id: id,\n                itemId: yKey,\n                enabled: seriesItemEnabled,\n                label: {\n                    text: yName || yKey || 'Frequency'\n                },\n                marker: {\n                    fill: fill,\n                    stroke: stroke,\n                    fillOpacity: fillOpacity,\n                    strokeOpacity: strokeOpacity\n                }\n            });\n        }\n    };\n    HistogramSeries.prototype.toggleSeriesItem = function (itemId, enabled) {\n        if (itemId === this.yKey) {\n            this.seriesItemEnabled = enabled;\n        }\n        this.scheduleData();\n    };\n    HistogramSeries.className = 'HistogramSeries';\n    HistogramSeries.type = 'histogram';\n    __decorate([\n        reactive('dataChange')\n    ], HistogramSeries.prototype, \"fill\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], HistogramSeries.prototype, \"stroke\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], HistogramSeries.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], HistogramSeries.prototype, \"strokeOpacity\", void 0);\n    return HistogramSeries;\n}(CartesianSeries));\nexport { HistogramSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from \"../../../scene/group\";\nimport { Line } from \"../../../scene/shape/line\";\nimport { Text } from \"../../../scene/shape/text\";\nimport { Selection } from \"../../../scene/selection\";\nimport { LinearScale } from \"../../../scale/linearScale\";\nimport palette from \"../../palettes\";\nimport { Sector } from \"../../../scene/shape/sector\";\nimport { Label } from \"../../label\";\nimport { PointerEvents } from \"../../../scene/node\";\nimport { normalizeAngle180, toRadians } from \"../../../util/angle\";\nimport { Color } from \"../../../util/color\";\nimport { toFixed } from \"../../../util/number\";\nimport { reactive, Observable } from \"../../../util/observable\";\nimport { PolarSeries } from \"./polarSeries\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { Chart } from \"../../chart\";\nvar PieNodeTag;\n(function (PieNodeTag) {\n    PieNodeTag[PieNodeTag[\"Sector\"] = 0] = \"Sector\";\n    PieNodeTag[PieNodeTag[\"Callout\"] = 1] = \"Callout\";\n    PieNodeTag[PieNodeTag[\"Label\"] = 2] = \"Label\";\n})(PieNodeTag || (PieNodeTag = {}));\nvar PieSeriesLabel = /** @class */ (function (_super) {\n    __extends(PieSeriesLabel, _super);\n    function PieSeriesLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.offset = 3; // from the callout line\n        _this.minAngle = 20; // in degrees\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], PieSeriesLabel.prototype, \"offset\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeriesLabel.prototype, \"minAngle\", void 0);\n    return PieSeriesLabel;\n}(Label));\nvar PieSeriesCallout = /** @class */ (function (_super) {\n    __extends(PieSeriesCallout, _super);\n    function PieSeriesCallout() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.colors = palette.strokes;\n        _this.length = 10;\n        _this.strokeWidth = 1;\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], PieSeriesCallout.prototype, \"colors\", void 0);\n    __decorate([\n        reactive('change')\n    ], PieSeriesCallout.prototype, \"length\", void 0);\n    __decorate([\n        reactive('change')\n    ], PieSeriesCallout.prototype, \"strokeWidth\", void 0);\n    return PieSeriesCallout;\n}(Observable));\nvar PieSeries = /** @class */ (function (_super) {\n    __extends(PieSeries, _super);\n    function PieSeries() {\n        var _this = _super.call(this) || this;\n        _this.radiusScale = new LinearScale();\n        _this.groupSelection = Selection.select(_this.group).selectAll();\n        /**\n         * The processed data that gets visualized.\n         */\n        _this.groupSelectionData = [];\n        _this.angleScale = (function () {\n            var scale = new LinearScale();\n            // Each slice is a ratio of the whole, where all ratios add up to 1.\n            scale.domain = [0, 1];\n            // Add 90 deg to start the first pie at 12 o'clock.\n            scale.range = [-Math.PI, Math.PI].map(function (angle) { return angle + Math.PI / 2; });\n            return scale;\n        })();\n        // When a user toggles a series item (e.g. from the legend), its boolean state is recorded here.\n        _this.seriesItemEnabled = [];\n        _this.label = new PieSeriesLabel();\n        _this.callout = new PieSeriesCallout();\n        /**\n         * The key of the numeric field to use to determine the angle (for example,\n         * a pie slice angle).\n         */\n        _this.angleKey = '';\n        _this.angleName = '';\n        _this._fills = palette.fills;\n        _this._strokes = palette.strokes;\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        /**\n         * The series rotation in degrees.\n         */\n        _this.rotation = 0;\n        _this.outerRadiusOffset = 0;\n        _this.innerRadiusOffset = 0;\n        _this.strokeWidth = 1;\n        _this.highlightStyle = { fill: 'yellow' };\n        _this.addEventListener('update', _this.update, _this);\n        _this.label.addEventListener('change', _this.scheduleLayout, _this);\n        _this.label.addEventListener('dataChange', _this.scheduleData, _this);\n        _this.callout.addEventListener('change', _this.scheduleLayout, _this);\n        _this.addPropertyListener('data', function (event) {\n            event.source.seriesItemEnabled = event.value.map(function () { return true; });\n        });\n        return _this;\n    }\n    Object.defineProperty(PieSeries.prototype, \"title\", {\n        get: function () {\n            return this._title;\n        },\n        set: function (value) {\n            var oldTitle = this._title;\n            if (oldTitle !== value) {\n                if (oldTitle) {\n                    oldTitle.removeEventListener('change', this.scheduleLayout);\n                    this.group.removeChild(oldTitle.node);\n                }\n                if (value) {\n                    value.node.textBaseline = 'bottom';\n                    value.addEventListener('change', this.scheduleLayout);\n                    this.group.appendChild(value.node);\n                }\n                this._title = value;\n                this.scheduleLayout();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PieSeries.prototype, \"fills\", {\n        get: function () {\n            return this._fills;\n        },\n        set: function (values) {\n            this._fills = values;\n            this.strokes = values.map(function (color) { return Color.fromString(color).darker().toHexString(); });\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PieSeries.prototype, \"strokes\", {\n        get: function () {\n            return this._strokes;\n        },\n        set: function (values) {\n            this._strokes = values;\n            this.callout.colors = values;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PieSeries.prototype.onHighlightChange = function () {\n        this.updateNodes();\n    };\n    PieSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.angleScale.domain;\n        }\n        else {\n            return this.radiusScale.domain;\n        }\n    };\n    PieSeries.prototype.processData = function () {\n        var _this = this;\n        var _a = this, angleKey = _a.angleKey, radiusKey = _a.radiusKey, seriesItemEnabled = _a.seriesItemEnabled, angleScale = _a.angleScale, groupSelectionData = _a.groupSelectionData;\n        var data = angleKey && this.data ? this.data : [];\n        var angleData = data.map(function (datum, index) { return seriesItemEnabled[index] && Math.abs(+datum[angleKey]) || 0; });\n        var angleDataTotal = angleData.reduce(function (a, b) { return a + b; }, 0);\n        // The ratios (in [0, 1] interval) used to calculate the end angle value for every pie slice.\n        // Each slice starts where the previous one ends, so we only keep the ratios for end angles.\n        var angleDataRatios = (function () {\n            var sum = 0;\n            return angleData.map(function (datum) { return sum += datum / angleDataTotal; });\n        })();\n        var labelKey = this.label.enabled && this.labelKey;\n        var labelData = labelKey ? data.map(function (datum) { return String(datum[labelKey]); }) : [];\n        var useRadiusKey = !!radiusKey && !this.innerRadiusOffset;\n        var radiusData = [];\n        if (useRadiusKey) {\n            var radii = data.map(function (datum) { return Math.abs(datum[radiusKey]); });\n            var maxDatum_1 = Math.max.apply(Math, radii);\n            radiusData = radii.map(function (value) { return value / maxDatum_1; });\n        }\n        groupSelectionData.length = 0;\n        var rotation = toRadians(this.rotation);\n        var halfPi = Math.PI / 2;\n        var datumIndex = 0;\n        // Simply use reduce here to pair up adjacent ratios.\n        angleDataRatios.reduce(function (start, end) {\n            var radius = useRadiusKey ? radiusData[datumIndex] : 1;\n            var startAngle = angleScale.convert(start) + rotation;\n            var endAngle = angleScale.convert(end) + rotation;\n            var midAngle = (startAngle + endAngle) / 2;\n            var span = Math.abs(endAngle - startAngle);\n            var midCos = Math.cos(midAngle);\n            var midSin = Math.sin(midAngle);\n            var labelMinAngle = toRadians(_this.label.minAngle);\n            var labelVisible = labelKey && span > labelMinAngle;\n            var midAngle180 = normalizeAngle180(midAngle);\n            // Split the circle into quadrants like so: \n            var quadrantStart = -3 * Math.PI / 4; // same as `normalizeAngle180(toRadians(-135))`\n            var textAlign;\n            var textBaseline;\n            if (midAngle180 >= quadrantStart && midAngle180 < (quadrantStart += halfPi)) {\n                textAlign = 'center';\n                textBaseline = 'bottom';\n            }\n            else if (midAngle180 >= quadrantStart && midAngle180 < (quadrantStart += halfPi)) {\n                textAlign = 'left';\n                textBaseline = 'middle';\n            }\n            else if (midAngle180 >= quadrantStart && midAngle180 < (quadrantStart += halfPi)) {\n                textAlign = 'center';\n                textBaseline = 'hanging';\n            }\n            else {\n                textAlign = 'right';\n                textBaseline = 'middle';\n            }\n            groupSelectionData.push({\n                series: _this,\n                seriesDatum: data[datumIndex],\n                index: datumIndex,\n                radius: radius,\n                startAngle: startAngle,\n                endAngle: endAngle,\n                midAngle: midAngle,\n                midCos: midCos,\n                midSin: midSin,\n                label: labelVisible ? {\n                    text: labelData[datumIndex],\n                    textAlign: textAlign,\n                    textBaseline: textBaseline\n                } : undefined\n            });\n            datumIndex++;\n            return end;\n        }, 0);\n        return true;\n    };\n    PieSeries.prototype.update = function () {\n        var chart = this.chart;\n        var visible = this.group.visible = this.visible && this.seriesItemEnabled.indexOf(true) >= 0;\n        if (!visible || !chart || chart.dataPending || chart.layoutPending) {\n            return;\n        }\n        this.radiusScale.range = [0, this.radius];\n        this.group.translationX = this.centerX;\n        this.group.translationY = this.centerY;\n        var title = this.title;\n        if (title) {\n            title.node.translationY = -this.radius - this.outerRadiusOffset - 2;\n            title.node.visible = title.enabled;\n        }\n        this.updateGroupSelection();\n        this.updateNodes();\n    };\n    PieSeries.prototype.updateGroupSelection = function () {\n        var updateGroups = this.groupSelection.setData(this.groupSelectionData);\n        updateGroups.exit.remove();\n        var enterGroups = updateGroups.enter.append(Group);\n        enterGroups.append(Sector).each(function (node) { return node.tag = PieNodeTag.Sector; });\n        enterGroups.append(Line).each(function (node) {\n            node.tag = PieNodeTag.Callout;\n            node.pointerEvents = PointerEvents.None;\n        });\n        enterGroups.append(Text).each(function (node) {\n            node.tag = PieNodeTag.Label;\n            node.pointerEvents = PointerEvents.None;\n        });\n        this.groupSelection = updateGroups.merge(enterGroups);\n    };\n    PieSeries.prototype.updateNodes = function () {\n        var _a = this, fills = _a.fills, strokes = _a.strokes, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity, strokeWidth = _a.strokeWidth, outerRadiusOffset = _a.outerRadiusOffset, innerRadiusOffset = _a.innerRadiusOffset, radiusScale = _a.radiusScale, callout = _a.callout, shadow = _a.shadow, _b = _a.highlightStyle, fill = _b.fill, stroke = _b.stroke, centerOffset = _b.centerOffset;\n        var highlightedDatum = this.chart.highlightedDatum;\n        var minOuterRadius = Infinity;\n        var outerRadii = [];\n        var centerOffsets = [];\n        this.groupSelection.selectByTag(PieNodeTag.Sector).each(function (sector, datum, index) {\n            var radius = radiusScale.convert(datum.radius);\n            var outerRadius = Math.max(0, radius + outerRadiusOffset);\n            if (minOuterRadius > outerRadius) {\n                minOuterRadius = outerRadius;\n            }\n            sector.outerRadius = outerRadius;\n            sector.innerRadius = Math.max(0, innerRadiusOffset ? radius + innerRadiusOffset : 0);\n            sector.startAngle = datum.startAngle;\n            sector.endAngle = datum.endAngle;\n            var highlighted = datum === highlightedDatum;\n            sector.fill = highlighted && fill !== undefined ? fill : fills[index % fills.length];\n            sector.stroke = highlighted && stroke !== undefined ? stroke : strokes[index % strokes.length];\n            sector.fillOpacity = fillOpacity;\n            sector.strokeOpacity = strokeOpacity;\n            sector.centerOffset = highlighted && centerOffset !== undefined ? centerOffset : 0;\n            sector.fillShadow = shadow;\n            sector.strokeWidth = strokeWidth;\n            sector.lineJoin = 'round';\n            outerRadii.push(outerRadius);\n            centerOffsets.push(sector.centerOffset);\n        });\n        var calloutColors = callout.colors, calloutLength = callout.length, calloutStrokeWidth = callout.strokeWidth;\n        this.groupSelection.selectByTag(PieNodeTag.Callout).each(function (line, datum, index) {\n            if (datum.label) {\n                var outerRadius = centerOffsets[index] + outerRadii[index];\n                line.strokeWidth = calloutStrokeWidth;\n                line.stroke = calloutColors[index % calloutColors.length];\n                line.x1 = datum.midCos * outerRadius;\n                line.y1 = datum.midSin * outerRadius;\n                line.x2 = datum.midCos * (outerRadius + calloutLength);\n                line.y2 = datum.midSin * (outerRadius + calloutLength);\n            }\n            else {\n                line.stroke = undefined;\n            }\n        });\n        {\n            var _c = this.label, offset_1 = _c.offset, fontStyle_1 = _c.fontStyle, fontWeight_1 = _c.fontWeight, fontSize_1 = _c.fontSize, fontFamily_1 = _c.fontFamily, color_1 = _c.color;\n            this.groupSelection.selectByTag(PieNodeTag.Label).each(function (text, datum, index) {\n                var label = datum.label;\n                if (label) {\n                    var outerRadius = outerRadii[index];\n                    var labelRadius = centerOffsets[index] + outerRadius + calloutLength + offset_1;\n                    text.fontStyle = fontStyle_1;\n                    text.fontWeight = fontWeight_1;\n                    text.fontSize = fontSize_1;\n                    text.fontFamily = fontFamily_1;\n                    text.text = label.text;\n                    text.x = datum.midCos * labelRadius;\n                    text.y = datum.midSin * labelRadius;\n                    text.fill = color_1;\n                    text.textAlign = label.textAlign;\n                    text.textBaseline = label.textBaseline;\n                }\n                else {\n                    text.fill = undefined;\n                }\n            });\n        }\n    };\n    PieSeries.prototype.fireNodeClickEvent = function (datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            series: this,\n            datum: datum.seriesDatum,\n            angleKey: this.angleKey,\n            radiusKey: this.radiusKey\n        });\n    };\n    PieSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var angleKey = this.angleKey;\n        if (!angleKey) {\n            return '';\n        }\n        var _a = this, title = _a.title, fills = _a.fills, tooltipRenderer = _a.tooltipRenderer, angleName = _a.angleName, radiusKey = _a.radiusKey, radiusName = _a.radiusName, labelKey = _a.labelKey, labelName = _a.labelName;\n        var text = title ? title.text : undefined;\n        var color = fills[nodeDatum.index % fills.length];\n        if (tooltipRenderer) {\n            return tooltipRenderer({\n                datum: nodeDatum.seriesDatum,\n                angleKey: angleKey,\n                angleName: angleName,\n                radiusKey: radiusKey,\n                radiusName: radiusName,\n                labelKey: labelKey,\n                labelName: labelName,\n                title: text,\n                color: color,\n            });\n        }\n        else {\n            var titleStyle = \"style=\\\"color: white; background-color: \" + color + \"\\\"\";\n            var titleString = title ? \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-title\\\" \" + titleStyle + \">\" + text + \"</div>\" : '';\n            var label = labelKey ? nodeDatum.seriesDatum[labelKey] + \": \" : '';\n            var value = nodeDatum.seriesDatum[angleKey];\n            var formattedValue = typeof value === 'number' ? toFixed(value) : value.toString();\n            return titleString + \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-content\\\">\" + label + formattedValue + \"</div>\";\n        }\n    };\n    PieSeries.prototype.listSeriesItems = function (legendData) {\n        var _this = this;\n        var _a = this, labelKey = _a.labelKey, data = _a.data;\n        if (data && data.length && labelKey) {\n            var _b = this, fills_1 = _b.fills, strokes_1 = _b.strokes, id_1 = _b.id;\n            data.forEach(function (datum, index) {\n                legendData.push({\n                    id: id_1,\n                    itemId: index,\n                    enabled: _this.seriesItemEnabled[index],\n                    label: {\n                        text: String(datum[labelKey])\n                    },\n                    marker: {\n                        fill: fills_1[index % fills_1.length],\n                        stroke: strokes_1[index % strokes_1.length],\n                        fillOpacity: _this.fillOpacity,\n                        strokeOpacity: _this.strokeOpacity\n                    }\n                });\n            });\n        }\n    };\n    PieSeries.prototype.toggleSeriesItem = function (itemId, enabled) {\n        this.seriesItemEnabled[itemId] = enabled;\n        this.scheduleData();\n    };\n    PieSeries.className = 'PieSeries';\n    PieSeries.type = 'pie';\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"angleKey\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"angleName\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"radiusKey\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"radiusName\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"labelKey\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"labelName\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"rotation\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"outerRadiusOffset\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"innerRadiusOffset\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"shadow\", void 0);\n    return PieSeries;\n}(PolarSeries));\nexport { PieSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Shape } from \"./shape\";\nimport { Path2D } from \"../path2D\";\nimport { normalizeAngle360 } from \"../../util/angle\";\nimport { isEqual } from \"../../util/number\";\nimport { BBox } from \"../bbox\";\nvar Sector = /** @class */ (function (_super) {\n    __extends(Sector, _super);\n    function Sector() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.path = new Path2D();\n        _this._dirtyPath = true;\n        _this._centerX = 0;\n        _this._centerY = 0;\n        _this._centerOffset = 0;\n        _this._innerRadius = 10;\n        _this._outerRadius = 20;\n        _this._startAngle = 0;\n        _this._endAngle = Math.PI * 2;\n        _this._angleOffset = 0;\n        return _this;\n    }\n    Object.defineProperty(Sector.prototype, \"dirtyPath\", {\n        get: function () {\n            return this._dirtyPath;\n        },\n        set: function (value) {\n            if (this._dirtyPath !== value) {\n                this._dirtyPath = value;\n                if (value) {\n                    this.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"centerX\", {\n        get: function () {\n            return this._centerX;\n        },\n        set: function (value) {\n            if (this._centerX !== value) {\n                this._centerX = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"centerY\", {\n        get: function () {\n            return this._centerY;\n        },\n        set: function (value) {\n            if (this._centerY !== value) {\n                this._centerY = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"centerOffset\", {\n        get: function () {\n            return this._centerOffset;\n        },\n        set: function (value) {\n            if (this._centerOffset !== value) {\n                this._centerOffset = Math.max(0, value);\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"innerRadius\", {\n        get: function () {\n            return this._innerRadius;\n        },\n        set: function (value) {\n            if (this._innerRadius !== value) {\n                this._innerRadius = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"outerRadius\", {\n        get: function () {\n            return this._outerRadius;\n        },\n        set: function (value) {\n            if (this._outerRadius !== value) {\n                this._outerRadius = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"startAngle\", {\n        get: function () {\n            return this._startAngle;\n        },\n        set: function (value) {\n            if (this._startAngle !== value) {\n                this._startAngle = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"endAngle\", {\n        get: function () {\n            return this._endAngle;\n        },\n        set: function (value) {\n            if (this._endAngle !== value) {\n                this._endAngle = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"angleOffset\", {\n        get: function () {\n            return this._angleOffset;\n        },\n        set: function (value) {\n            if (this._angleOffset !== value) {\n                this._angleOffset = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Sector.prototype.computeBBox = function () {\n        var radius = this.outerRadius;\n        return new BBox(this.centerX - radius, this.centerY - radius, radius * 2, radius * 2);\n    };\n    Sector.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        return this.path.isPointInPath(point.x, point.y);\n    };\n    Sector.prototype.isPointInStroke = function (x, y) {\n        return false;\n    };\n    Object.defineProperty(Sector.prototype, \"fullPie\", {\n        get: function () {\n            return isEqual(normalizeAngle360(this.startAngle), normalizeAngle360(this.endAngle));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Sector.prototype.updatePath = function () {\n        if (!this.dirtyPath) {\n            return;\n        }\n        var path = this.path;\n        var angleOffset = this.angleOffset;\n        var startAngle = Math.min(this.startAngle, this.endAngle) + angleOffset;\n        var endAngle = Math.max(this.startAngle, this.endAngle) + angleOffset;\n        var midAngle = (startAngle + endAngle) * 0.5;\n        var innerRadius = Math.min(this.innerRadius, this.outerRadius);\n        var outerRadius = Math.max(this.innerRadius, this.outerRadius);\n        var centerOffset = this.centerOffset;\n        var fullPie = this.fullPie;\n        var radiiGap = outerRadius - innerRadius;\n        // const tipOffset = radiiGap / 3;\n        // const showTip = radiiGap < outerRadius / 2;\n        var centerX = this.centerX;\n        var centerY = this.centerY;\n        path.clear();\n        if (centerOffset) {\n            centerX += centerOffset * Math.cos(midAngle);\n            centerY += centerOffset * Math.sin(midAngle);\n        }\n        if (!fullPie) {\n            path.moveTo(centerX + innerRadius * Math.cos(startAngle), centerY + innerRadius * Math.sin(startAngle));\n            // if (showTip) {\n            //     path.lineTo(\n            //         centerX + 0.5 * (innerRadius + outerRadius) * Math.cos(startAngle) + tipOffset * Math.cos(startAngle + Math.PI / 2),\n            //         centerY + 0.5 * (innerRadius + outerRadius) * Math.sin(startAngle) + tipOffset * Math.sin(startAngle + Math.PI / 2)\n            //     );\n            // }\n            path.lineTo(centerX + outerRadius * Math.cos(startAngle), centerY + outerRadius * Math.sin(startAngle));\n        }\n        path.cubicArc(centerX, centerY, outerRadius, outerRadius, 0, startAngle, endAngle, 0);\n        // path[fullPie ? 'moveTo' : 'lineTo'](\n        //     centerX + innerRadius * Math.cos(endAngle),\n        //     centerY + innerRadius * Math.sin(endAngle)\n        // );\n        if (fullPie) {\n            path.moveTo(centerX + innerRadius * Math.cos(endAngle), centerY + innerRadius * Math.sin(endAngle));\n        }\n        else {\n            // if (showTip) {\n            //     path.lineTo(\n            //         centerX + 0.5 * (innerRadius + outerRadius) * Math.cos(endAngle) + tipOffset * Math.cos(endAngle + Math.PI / 2),\n            //         centerY + 0.5 * (innerRadius + outerRadius) * Math.sin(endAngle) + tipOffset * Math.sin(endAngle + Math.PI / 2)\n            //     );\n            // }\n            // Temp workaround for https://bugs.chromium.org/p/chromium/issues/detail?id=993330\n            // Revert this commit when fixed ^^.\n            var x = centerX + innerRadius * Math.cos(endAngle);\n            path.lineTo(Math.abs(x) < 1e-8 ? 0 : x, centerY + innerRadius * Math.sin(endAngle));\n        }\n        path.cubicArc(centerX, centerY, innerRadius, innerRadius, 0, endAngle, startAngle, 1);\n        path.closePath();\n        this.dirtyPath = false;\n    };\n    Sector.prototype.render = function (ctx) {\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        this.matrix.toContext(ctx);\n        this.updatePath();\n        this.scene.appendPath(this.path);\n        this.fillStroke(ctx);\n        this.dirty = false;\n    };\n    Sector.className = 'Sector';\n    return Sector;\n}(Shape));\nexport { Sector };\n","var Color = /** @class */ (function () {\n    /**\n     * Every color component should be in the [0, 1] range.\n     * Some easing functions (such as elastic easing) can overshoot the target value by some amount.\n     * So, when animating colors, if the source or target color components are already near\n     * or at the edge of the allowed [0, 1] range, it is possible for the intermediate color\n     * component value to end up outside of that range mid-animation. For this reason the constructor\n     * performs range checking/constraining.\n     * @param r Red component.\n     * @param g Green component.\n     * @param b Blue component.\n     * @param a Alpha (opacity) component.\n     */\n    function Color(r, g, b, a) {\n        if (a === void 0) { a = 1; }\n        // NaN is treated as 0.\n        this.r = Math.min(1, Math.max(0, r || 0));\n        this.g = Math.min(1, Math.max(0, g || 0));\n        this.b = Math.min(1, Math.max(0, b || 0));\n        this.a = Math.min(1, Math.max(0, a || 0));\n    }\n    /**\n     * The given string can be in one of the following formats:\n     * - #rgb\n     * - #rrggbb\n     * - rgb(r, g, b)\n     * - rgba(r, g, b, a)\n     * - CSS color name such as 'white', 'orange', 'cyan', etc.\n     * @param str\n     */\n    Color.fromString = function (str) {\n        // hexadecimal notation\n        if (str.indexOf('#') >= 0) { // there can be some leading whitespace\n            return Color.fromHexString(str);\n        }\n        // color name\n        var hex = Color.nameToHex[str];\n        if (hex) {\n            return Color.fromHexString(hex);\n        }\n        // rgb(a) notation\n        if (str.indexOf('rgb') >= 0) {\n            return Color.fromRgbaString(str);\n        }\n        throw new Error(\"Invalid color string: '\" + str + \"'\");\n    };\n    // Using separate RegExp for the short hex notation because strings like `#abcd`\n    // are matched as ['#abcd', 'ab', 'c', 'd', undefined] when the `{1,2}` quantifier is used.\n    Color.fromHexString = function (str) {\n        var values = str.match(Color.hexRe);\n        if (values) {\n            var r = parseInt(values[1], 16);\n            var g = parseInt(values[2], 16);\n            var b = parseInt(values[3], 16);\n            var a = values[4] !== undefined ? parseInt(values[4], 16) : 255;\n            return new Color(r / 255, g / 255, b / 255, a / 255);\n        }\n        values = str.match(Color.shortHexRe);\n        if (values) {\n            var r = parseInt(values[1], 16);\n            var g = parseInt(values[2], 16);\n            var b = parseInt(values[3], 16);\n            var a = values[4] !== undefined ? parseInt(values[4], 16) : 15;\n            r += r * 16;\n            g += g * 16;\n            b += b * 16;\n            a += a * 16;\n            return new Color(r / 255, g / 255, b / 255, a / 255);\n        }\n        throw new Error(\"Malformed hexadecimal color string: '\" + str + \"'\");\n    };\n    Color.fromRgbaString = function (str) {\n        var values = str.match(Color.rgbRe);\n        if (values) {\n            return new Color(+values[1] / 255, +values[2] / 255, +values[3] / 255);\n        }\n        values = str.match(Color.rgbaRe);\n        if (values) {\n            return new Color(+values[1] / 255, +values[2] / 255, +values[3] / 255, +values[4]);\n        }\n        throw new Error(\"Malformed rgb/rgba color string: '\" + str + \"'\");\n    };\n    Color.fromArray = function (arr) {\n        if (arr.length === 4) {\n            return new Color(arr[0], arr[1], arr[2], arr[3]);\n        }\n        if (arr.length === 3) {\n            return new Color(arr[0], arr[1], arr[2]);\n        }\n        throw new Error('The given array should contain 3 or 4 color components (numbers).');\n    };\n    Color.fromHSB = function (h, s, b, alpha) {\n        if (alpha === void 0) { alpha = 1; }\n        var rgb = Color.HSBtoRGB(h, s, b);\n        return new Color(rgb[0], rgb[1], rgb[2], alpha);\n    };\n    Color.padHex = function (str) {\n        // Can't use `padStart(2, '0')` here because of IE.\n        return str.length === 1 ? '0' + str : str;\n    };\n    Color.prototype.toHexString = function () {\n        var hex = '#'\n            + Color.padHex(Math.round(this.r * 255).toString(16))\n            + Color.padHex(Math.round(this.g * 255).toString(16))\n            + Color.padHex(Math.round(this.b * 255).toString(16));\n        if (this.a < 1) {\n            hex += Color.padHex(Math.round(this.a * 255).toString(16));\n        }\n        return hex;\n    };\n    Color.prototype.toRgbaString = function (fractionDigits) {\n        if (fractionDigits === void 0) { fractionDigits = 3; }\n        var components = [\n            Math.round(this.r * 255),\n            Math.round(this.g * 255),\n            Math.round(this.b * 255)\n        ];\n        var k = Math.pow(10, fractionDigits);\n        if (this.a !== 1) {\n            components.push(Math.round(this.a * k) / k);\n            return \"rgba(\" + components.join(', ') + \")\";\n        }\n        return \"rgb(\" + components.join(', ') + \")\";\n    };\n    Color.prototype.toString = function () {\n        if (this.a === 1) {\n            return this.toHexString();\n        }\n        return this.toRgbaString();\n    };\n    Color.prototype.toHSB = function () {\n        return Color.RGBtoHSB(this.r, this.g, this.b);\n    };\n    /**\n     * Converts the given RGB triple to an array of HSB (HSV) components.\n     * The hue component will be `NaN` for achromatic colors.\n     */\n    Color.RGBtoHSB = function (r, g, b) {\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n        var S = max !== 0 ? (max - min) / max : 0;\n        var H = NaN;\n        // min == max, means all components are the same\n        // and the color is a shade of gray with no hue (H is NaN)\n        if (min !== max) {\n            var delta = max - min;\n            var rc = (max - r) / delta;\n            var gc = (max - g) / delta;\n            var bc = (max - b) / delta;\n            if (r === max) {\n                H = bc - gc;\n            }\n            else if (g === max) {\n                H = 2.0 + rc - bc;\n            }\n            else {\n                H = 4.0 + gc - rc;\n            }\n            H /= 6.0;\n            if (H < 0) {\n                H = H + 1.0;\n            }\n        }\n        return [H * 360, S, max];\n    };\n    /**\n     * Converts the given HSB (HSV) triple to an array of RGB components.\n     */\n    Color.HSBtoRGB = function (H, S, B) {\n        if (isNaN(H)) {\n            H = 0;\n        }\n        H = (((H % 360) + 360) % 360) / 360; // normalize hue to [0, 360] interval, then scale to [0, 1]\n        var r = 0;\n        var g = 0;\n        var b = 0;\n        if (S === 0) {\n            r = g = b = B;\n        }\n        else {\n            var h = (H - Math.floor(H)) * 6;\n            var f = h - Math.floor(h);\n            var p = B * (1 - S);\n            var q = B * (1 - S * f);\n            var t = B * (1 - (S * (1 - f)));\n            switch (h >> 0) { // discard the floating point part of the number\n                case 0:\n                    r = B;\n                    g = t;\n                    b = p;\n                    break;\n                case 1:\n                    r = q;\n                    g = B;\n                    b = p;\n                    break;\n                case 2:\n                    r = p;\n                    g = B;\n                    b = t;\n                    break;\n                case 3:\n                    r = p;\n                    g = q;\n                    b = B;\n                    break;\n                case 4:\n                    r = t;\n                    g = p;\n                    b = B;\n                    break;\n                case 5:\n                    r = B;\n                    g = p;\n                    b = q;\n                    break;\n            }\n        }\n        return [r, g, b];\n    };\n    Color.prototype.derive = function (hueShift, saturationFactor, brightnessFactor, opacityFactor) {\n        var hsb = Color.RGBtoHSB(this.r, this.g, this.b);\n        var b = hsb[2];\n        if (b == 0 && brightnessFactor > 1.0) {\n            b = 0.05;\n        }\n        var h = (((hsb[0] + hueShift) % 360) + 360) % 360;\n        var s = Math.max(Math.min(hsb[1] * saturationFactor, 1.0), 0.0);\n        b = Math.max(Math.min(b * brightnessFactor, 1.0), 0.0);\n        var a = Math.max(Math.min(this.a * opacityFactor, 1.0), 0.0);\n        var rgba = Color.HSBtoRGB(h, s, b);\n        rgba.push(a);\n        return Color.fromArray(rgba);\n    };\n    Color.prototype.brighter = function () {\n        return this.derive(0, 1.0, 1.0 / 0.7, 1.0);\n    };\n    Color.prototype.darker = function () {\n        return this.derive(0, 1.0, 0.7, 1.0);\n    };\n    // See https://drafts.csswg.org/css-color/#hex-notation\n    Color.hexRe = /\\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\\s*$/;\n    Color.shortHexRe = /\\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\\s*$/;\n    Color.rgbRe = /\\s*rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)\\s*/;\n    Color.rgbaRe = /\\s*rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*([.\\d]+)\\)\\s*/;\n    /**\n     * CSS Color Module Level 4:\n     * https://drafts.csswg.org/css-color/#named-colors\n     */\n    Color.nameToHex = Object.freeze({\n        aliceblue: '#F0F8FF',\n        antiquewhite: '#FAEBD7',\n        aqua: '#00FFFF',\n        aquamarine: '#7FFFD4',\n        azure: '#F0FFFF',\n        beige: '#F5F5DC',\n        bisque: '#FFE4C4',\n        black: '#000000',\n        blanchedalmond: '#FFEBCD',\n        blue: '#0000FF',\n        blueviolet: '#8A2BE2',\n        brown: '#A52A2A',\n        burlywood: '#DEB887',\n        cadetblue: '#5F9EA0',\n        chartreuse: '#7FFF00',\n        chocolate: '#D2691E',\n        coral: '#FF7F50',\n        cornflowerblue: '#6495ED',\n        cornsilk: '#FFF8DC',\n        crimson: '#DC143C',\n        cyan: '#00FFFF',\n        darkblue: '#00008B',\n        darkcyan: '#008B8B',\n        darkgoldenrod: '#B8860B',\n        darkgray: '#A9A9A9',\n        darkgreen: '#006400',\n        darkgrey: '#A9A9A9',\n        darkkhaki: '#BDB76B',\n        darkmagenta: '#8B008B',\n        darkolivegreen: '#556B2F',\n        darkorange: '#FF8C00',\n        darkorchid: '#9932CC',\n        darkred: '#8B0000',\n        darksalmon: '#E9967A',\n        darkseagreen: '#8FBC8F',\n        darkslateblue: '#483D8B',\n        darkslategray: '#2F4F4F',\n        darkslategrey: '#2F4F4F',\n        darkturquoise: '#00CED1',\n        darkviolet: '#9400D3',\n        deeppink: '#FF1493',\n        deepskyblue: '#00BFFF',\n        dimgray: '#696969',\n        dimgrey: '#696969',\n        dodgerblue: '#1E90FF',\n        firebrick: '#B22222',\n        floralwhite: '#FFFAF0',\n        forestgreen: '#228B22',\n        fuchsia: '#FF00FF',\n        gainsboro: '#DCDCDC',\n        ghostwhite: '#F8F8FF',\n        gold: '#FFD700',\n        goldenrod: '#DAA520',\n        gray: '#808080',\n        green: '#008000',\n        greenyellow: '#ADFF2F',\n        grey: '#808080',\n        honeydew: '#F0FFF0',\n        hotpink: '#FF69B4',\n        indianred: '#CD5C5C',\n        indigo: '#4B0082',\n        ivory: '#FFFFF0',\n        khaki: '#F0E68C',\n        lavender: '#E6E6FA',\n        lavenderblush: '#FFF0F5',\n        lawngreen: '#7CFC00',\n        lemonchiffon: '#FFFACD',\n        lightblue: '#ADD8E6',\n        lightcoral: '#F08080',\n        lightcyan: '#E0FFFF',\n        lightgoldenrodyellow: '#FAFAD2',\n        lightgray: '#D3D3D3',\n        lightgreen: '#90EE90',\n        lightgrey: '#D3D3D3',\n        lightpink: '#FFB6C1',\n        lightsalmon: '#FFA07A',\n        lightseagreen: '#20B2AA',\n        lightskyblue: '#87CEFA',\n        lightslategray: '#778899',\n        lightslategrey: '#778899',\n        lightsteelblue: '#B0C4DE',\n        lightyellow: '#FFFFE0',\n        lime: '#00FF00',\n        limegreen: '#32CD32',\n        linen: '#FAF0E6',\n        magenta: '#FF00FF',\n        maroon: '#800000',\n        mediumaquamarine: '#66CDAA',\n        mediumblue: '#0000CD',\n        mediumorchid: '#BA55D3',\n        mediumpurple: '#9370DB',\n        mediumseagreen: '#3CB371',\n        mediumslateblue: '#7B68EE',\n        mediumspringgreen: '#00FA9A',\n        mediumturquoise: '#48D1CC',\n        mediumvioletred: '#C71585',\n        midnightblue: '#191970',\n        mintcream: '#F5FFFA',\n        mistyrose: '#FFE4E1',\n        moccasin: '#FFE4B5',\n        navajowhite: '#FFDEAD',\n        navy: '#000080',\n        oldlace: '#FDF5E6',\n        olive: '#808000',\n        olivedrab: '#6B8E23',\n        orange: '#FFA500',\n        orangered: '#FF4500',\n        orchid: '#DA70D6',\n        palegoldenrod: '#EEE8AA',\n        palegreen: '#98FB98',\n        paleturquoise: '#AFEEEE',\n        palevioletred: '#DB7093',\n        papayawhip: '#FFEFD5',\n        peachpuff: '#FFDAB9',\n        peru: '#CD853F',\n        pink: '#FFC0CB',\n        plum: '#DDA0DD',\n        powderblue: '#B0E0E6',\n        purple: '#800080',\n        rebeccapurple: '#663399',\n        red: '#FF0000',\n        rosybrown: '#BC8F8F',\n        royalblue: '#4169E1',\n        saddlebrown: '#8B4513',\n        salmon: '#FA8072',\n        sandybrown: '#F4A460',\n        seagreen: '#2E8B57',\n        seashell: '#FFF5EE',\n        sienna: '#A0522D',\n        silver: '#C0C0C0',\n        skyblue: '#87CEEB',\n        slateblue: '#6A5ACD',\n        slategray: '#708090',\n        slategrey: '#708090',\n        snow: '#FFFAFA',\n        springgreen: '#00FF7F',\n        steelblue: '#4682B4',\n        tan: '#D2B48C',\n        teal: '#008080',\n        thistle: '#D8BFD8',\n        tomato: '#FF6347',\n        turquoise: '#40E0D0',\n        violet: '#EE82EE',\n        wheat: '#F5DEB3',\n        white: '#FFFFFF',\n        whitesmoke: '#F5F5F5',\n        yellow: '#FFFF00',\n        yellowgreen: '#9ACD32'\n    });\n    return Color;\n}());\nexport { Color };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Observable, reactive } from \"../util/observable\";\nvar DropShadow = /** @class */ (function (_super) {\n    __extends(DropShadow, _super);\n    function DropShadow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.enabled = true;\n        _this.color = 'rgba(0, 0, 0, 0.5)';\n        _this.xOffset = 0;\n        _this.yOffset = 0;\n        _this.blur = 5;\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], DropShadow.prototype, \"enabled\", void 0);\n    __decorate([\n        reactive('change')\n    ], DropShadow.prototype, \"color\", void 0);\n    __decorate([\n        reactive('change')\n    ], DropShadow.prototype, \"xOffset\", void 0);\n    __decorate([\n        reactive('change')\n    ], DropShadow.prototype, \"yOffset\", void 0);\n    __decorate([\n        reactive('change')\n    ], DropShadow.prototype, \"blur\", void 0);\n    return DropShadow;\n}(Observable));\nexport { DropShadow };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { LinearScale } from \"../../scale/linearScale\";\nimport { ChartAxis } from \"../chartAxis\";\nvar NumberAxis = /** @class */ (function (_super) {\n    __extends(NumberAxis, _super);\n    function NumberAxis() {\n        var _this = _super.call(this, new LinearScale()) || this;\n        _this._nice = true;\n        _this._min = NaN;\n        _this._max = NaN;\n        _this.scale.clamp = true;\n        return _this;\n    }\n    Object.defineProperty(NumberAxis.prototype, \"nice\", {\n        get: function () {\n            return this._nice;\n        },\n        set: function (value) {\n            if (this._nice !== value) {\n                this._nice = value;\n                if (value && this.scale.nice) {\n                    this.scale.nice(10);\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NumberAxis.prototype, \"domain\", {\n        get: function () {\n            return this.scale.domain;\n        },\n        set: function (value) {\n            var _a = this, min = _a.min, max = _a.max;\n            value = [\n                isNaN(min) ? value[0] : min,\n                isNaN(max) ? value[1] : max\n            ];\n            this.scale.domain = value;\n            if (this.nice && this.scale.nice) {\n                this.scale.nice(10);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NumberAxis.prototype, \"min\", {\n        get: function () {\n            return this._min;\n        },\n        set: function (value) {\n            if (this._min !== value) {\n                this._min = value;\n                if (!isNaN(value)) {\n                    this.scale.domain = [value, this.scale.domain[1]];\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NumberAxis.prototype, \"max\", {\n        get: function () {\n            return this._max;\n        },\n        set: function (value) {\n            if (this._max !== value) {\n                this._max = value;\n                if (!isNaN(value)) {\n                    this.scale.domain = [this.scale.domain[0], value];\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    NumberAxis.className = 'NumberAxis';\n    NumberAxis.type = 'number';\n    return NumberAxis;\n}(ChartAxis));\nexport { NumberAxis };\n","export function convertToMap(list) {\n    var map = new Map();\n    list.forEach(function (_a) {\n        var key = _a[0], value = _a[1];\n        return map.set(key, value);\n    });\n    return map;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar t0 = new Date;\nvar t1 = new Date;\n/**\n * The interval methods don't mutate Date parameters.\n */\nvar TimeInterval = /** @class */ (function () {\n    function TimeInterval(floor, offset) {\n        this._floor = floor;\n        this._offset = offset;\n    }\n    /**\n     * Returns a new date representing the latest interval boundary date before or equal to date.\n     * For example, `day.floor(date)` typically returns 12:00 AM local time on the given date.\n     * @param date\n     */\n    TimeInterval.prototype.floor = function (date) {\n        date = new Date(+date);\n        this._floor(date);\n        return date;\n    };\n    /**\n     * Returns a new date representing the earliest interval boundary date after or equal to date.\n     * @param date\n     */\n    TimeInterval.prototype.ceil = function (date) {\n        date = new Date(+date - 1);\n        this._floor(date);\n        this._offset(date, 1);\n        this._floor(date);\n        return date;\n    };\n    /**\n     * Returns a new date representing the closest interval boundary date to date.\n     * @param date\n     */\n    TimeInterval.prototype.round = function (date) {\n        var d0 = this.floor(date);\n        var d1 = this.ceil(date);\n        var ms = +date;\n        return ms - d0.getTime() < d1.getTime() - ms ? d0 : d1;\n    };\n    /**\n     * Returns a new date equal to date plus step intervals.\n     * @param date\n     * @param step\n     */\n    TimeInterval.prototype.offset = function (date, step) {\n        if (step === void 0) { step = 1; }\n        date = new Date(+date);\n        this._offset(date, Math.floor(step));\n        return date;\n    };\n    /**\n     * Returns an array of dates representing every interval boundary after or equal to start (inclusive) and before stop (exclusive).\n     * @param start\n     * @param stop\n     * @param step\n     */\n    TimeInterval.prototype.range = function (start, stop, step) {\n        if (step === void 0) { step = 1; }\n        var range = [];\n        start = this.ceil(start);\n        step = Math.floor(step);\n        if (start > stop || step <= 0) {\n            return range;\n        }\n        var previous;\n        do {\n            previous = new Date(+start);\n            range.push(previous);\n            this._offset(start, step);\n            this._floor(start);\n        } while (previous < start && start < stop);\n        return range;\n    };\n    // Returns an interval that is a subset of this interval.\n    // For example, to create an interval that return 1st, 11th, 21st and 31st of each month:\n    // day.filter(date => (date.getDate() - 1) % 10 === 0)\n    TimeInterval.prototype.filter = function (test) {\n        var _this = this;\n        var floor = function (date) {\n            if (date >= date) {\n                while (_this._floor(date), !test(date)) {\n                    date.setTime(date.getTime() - 1);\n                }\n            }\n            return date;\n        };\n        var offset = function (date, step) {\n            if (date >= date) {\n                if (step < 0) {\n                    while (++step <= 0) {\n                        do {\n                            _this._offset(date, -1);\n                        } while (!test(date));\n                    }\n                }\n                else {\n                    while (--step >= 0) {\n                        do {\n                            _this._offset(date, 1);\n                        } while (!test(date));\n                    }\n                }\n            }\n            return date;\n        };\n        return new TimeInterval(floor, offset);\n    };\n    return TimeInterval;\n}());\nexport { TimeInterval };\nvar CountableTimeInterval = /** @class */ (function (_super) {\n    __extends(CountableTimeInterval, _super);\n    function CountableTimeInterval(floor, offset, count, field) {\n        var _this = _super.call(this, floor, offset) || this;\n        _this._count = count;\n        _this._field = field;\n        return _this;\n    }\n    /**\n     * Returns the number of interval boundaries after start (exclusive) and before or equal to end (inclusive).\n     * @param start\n     * @param end\n     */\n    CountableTimeInterval.prototype.count = function (start, end) {\n        t0.setTime(+start);\n        t1.setTime(+end);\n        this._floor(t0);\n        this._floor(t1);\n        return Math.floor(this._count(t0, t1));\n    };\n    /**\n     * Returns a filtered view of this interval representing every step'th date.\n     * The meaning of step is dependent on this intervals parent interval as defined by the `field` function.\n     * @param step\n     */\n    CountableTimeInterval.prototype.every = function (step) {\n        var _this = this;\n        var result;\n        step = Math.floor(step);\n        if (isFinite(step) && step > 0) {\n            if (step > 1) {\n                var field_1 = this._field;\n                if (field_1) {\n                    result = this.filter(function (d) { return field_1(d) % step === 0; });\n                }\n                else {\n                    result = this.filter(function (d) { return _this.count(0, d) % step === 0; });\n                }\n            }\n            else {\n                result = this;\n            }\n        }\n        return result;\n    };\n    return CountableTimeInterval;\n}(TimeInterval));\nexport { CountableTimeInterval };\n","import { CountableTimeInterval } from \"./interval\";\nfunction floor(date) {\n    return date;\n}\nfunction offset(date, milliseconds) {\n    date.setTime(date.getTime() + milliseconds);\n}\nfunction count(start, end) {\n    return end.getTime() - start.getTime();\n}\nexport var millisecond = new CountableTimeInterval(floor, offset, count);\nexport default millisecond;\n","// Common time unit sizes in milliseconds.\nexport var durationSecond = 1000;\nexport var durationMinute = durationSecond * 60;\nexport var durationHour = durationMinute * 60;\nexport var durationDay = durationHour * 24;\nexport var durationWeek = durationDay * 7;\nexport var durationMonth = durationDay * 30;\nexport var durationYear = durationDay * 365;\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationSecond } from \"./duration\";\nfunction floor(date) {\n    date.setTime(date.getTime() - date.getMilliseconds());\n}\nfunction offset(date, seconds) {\n    date.setTime(date.getTime() + seconds * durationSecond);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationSecond;\n}\nexport var second = new CountableTimeInterval(floor, offset, count);\nexport default second;\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationMinute, durationSecond } from \"./duration\";\nfunction floor(date) {\n    date.setTime(date.getTime() - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}\nfunction offset(date, minutes) {\n    date.setTime(date.getTime() + minutes * durationMinute);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationMinute;\n}\nfunction field(date) {\n    return date.getMinutes();\n}\nexport var minute = new CountableTimeInterval(floor, offset, count, field);\nexport default minute;\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationHour, durationMinute, durationSecond } from \"./duration\";\nfunction floor(date) {\n    date.setTime(date.getTime() - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}\nfunction offset(date, hours) {\n    date.setTime(date.getTime() + hours * durationHour);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationHour;\n}\nfunction field(date) {\n    return date.getHours();\n}\nexport var hour = new CountableTimeInterval(floor, offset, count, field);\nexport default hour;\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationDay, durationMinute } from \"./duration\";\nfunction floor(date) {\n    date.setHours(0, 0, 0, 0);\n}\nfunction offset(date, days) {\n    date.setDate(date.getDate() + days);\n}\nfunction count(start, end) {\n    var tzMinuteDelta = end.getTimezoneOffset() - start.getTimezoneOffset();\n    return (end.getTime() - start.getTime() - tzMinuteDelta * durationMinute) / durationDay;\n}\nfunction field(date) {\n    return date.getDate() - 1;\n}\nexport var day = new CountableTimeInterval(floor, offset, count, field);\nexport default day;\n","import { durationMinute, durationWeek } from \"./duration\";\nimport { CountableTimeInterval } from \"./interval\";\n// Set date to n-th day of the week.\nfunction weekday(n) {\n    // Sets the `date` to the start of the `n`-th day of the current week.\n    // n == 0 is Sunday.\n    function floor(date) {\n        //                  1..31            1..7\n        date.setDate(date.getDate() - (date.getDay() + 7 - n) % 7);\n        date.setHours(0, 0, 0, 0); // h, m, s, ms\n    }\n    // Offset the date by the given number of weeks.\n    function offset(date, weeks) {\n        date.setDate(date.getDate() + weeks * 7);\n    }\n    // Count the number of weeks between the start and end dates.\n    function count(start, end) {\n        var msDelta = end.getTime() - start.getTime();\n        var tzMinuteDelta = end.getTimezoneOffset() - start.getTimezoneOffset();\n        return (msDelta - tzMinuteDelta * durationMinute) / durationWeek;\n    }\n    return new CountableTimeInterval(floor, offset, count);\n}\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\nexport default sunday;\n","import { CountableTimeInterval } from \"./interval\";\nfunction floor(date) {\n    date.setDate(1);\n    date.setHours(0, 0, 0, 0);\n}\nfunction offset(date, months) {\n    date.setMonth(date.getMonth() + months);\n}\nfunction count(start, end) {\n    return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}\nfunction field(date) {\n    return date.getMonth();\n}\nexport var month = new CountableTimeInterval(floor, offset, count, field);\nexport default month;\n","import { CountableTimeInterval } from \"./interval\";\nfunction floor(date) {\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n}\nfunction offset(date, years) {\n    date.setFullYear(date.getFullYear() + years);\n}\nfunction count(start, end) {\n    return end.getFullYear() - start.getFullYear();\n}\nfunction field(date) {\n    return date.getFullYear();\n}\nexport var year = new CountableTimeInterval(floor, offset, count, field);\nexport default year;\n","export function ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import { ascending } from \"./compare\";\n/**\n * Returns the insertion point for `x` in array to maintain sorted order.\n * The arguments `lo` and `hi` may be used to specify a subset of the array which should be considered;\n * by default the entire array is used. If `x` is already present in array, the insertion point will be before\n * (to the left of) any existing entries. The return value is suitable for use as the first argument to `splice`\n * assuming that array is already sorted. The returned insertion point `i` partitions the array into two halves\n * so that all `v < x` for `v` in `array.slice(lo, i)` for the left side and all `v >= x` for `v` in `array.slice(i, hi)`\n * for the right side.\n * @param list\n * @param x\n * @param comparator\n * @param lo\n * @param hi\n */\nexport function bisectLeft(list, x, comparator, lo, hi) {\n    if (lo === void 0) { lo = 0; }\n    if (hi === void 0) { hi = list.length; }\n    while (lo < hi) {\n        var mid = (lo + hi) >>> 1;\n        if (comparator(list[mid], x) < 0) { // list[mid] < x\n            lo = mid + 1;\n        }\n        else {\n            hi = mid;\n        }\n    }\n    return lo;\n}\nexport function bisectRight(list, x, comparator, lo, hi) {\n    if (lo === void 0) { lo = 0; }\n    if (hi === void 0) { hi = list.length; }\n    while (lo < hi) {\n        var mid = (lo + hi) >>> 1;\n        if (comparator(list[mid], x) > 0) { // list[mid] > x\n            hi = mid;\n        }\n        else {\n            lo = mid + 1;\n        }\n    }\n    return lo;\n}\n/**\n * A specialized version of `bisectLeft` that works with the arrays whose elements cannot be compared directly.\n * The map function is used instead to produce a comparable value for a given array element, then the values\n * returned by the map are compared using the `ascendingComparator`.\n * @param list\n * @param x\n * @param map\n * @param lo\n * @param hi\n */\nexport function complexBisectLeft(list, x, map, lo, hi) {\n    if (lo === void 0) { lo = 0; }\n    if (hi === void 0) { hi = list.length; }\n    var comparator = ascendingComparator(map);\n    while (lo < hi) {\n        var mid = (lo + hi) >>> 1;\n        if (comparator(list[mid], x) < 0) {\n            lo = mid + 1;\n        }\n        else {\n            hi = mid;\n        }\n    }\n    return lo;\n}\nexport function complexBisectRight(list, x, map, lo, hi) {\n    if (lo === void 0) { lo = 0; }\n    if (hi === void 0) { hi = list.length; }\n    var comparator = ascendingComparator(map);\n    while (lo < hi) {\n        var mid = (lo + hi) >>> 1;\n        if (comparator(list[mid], x) < 0) {\n            lo = mid + 1;\n        }\n        else {\n            hi = mid;\n        }\n    }\n    return lo;\n}\nfunction ascendingComparator(map) {\n    return function (item, x) {\n        return ascending(map(item), x);\n    };\n}\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationDay } from \"./duration\";\nfunction floor(date) {\n    date.setUTCHours(0, 0, 0, 0);\n}\nfunction offset(date, days) {\n    date.setUTCDate(date.getUTCDate() + days);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationDay;\n}\nfunction field(date) {\n    return date.getUTCDate() - 1;\n}\nexport var utcDay = new CountableTimeInterval(floor, offset, count, field);\nexport default utcDay;\n","import { CountableTimeInterval } from \"./interval\";\nfunction floor(date) {\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n}\nfunction offset(date, years) {\n    date.setUTCFullYear(date.getUTCFullYear() + years);\n}\nfunction count(start, end) {\n    return end.getUTCFullYear() - start.getUTCFullYear();\n}\nfunction field(date) {\n    return date.getUTCFullYear();\n}\nexport var utcYear = new CountableTimeInterval(floor, offset, count, field);\nexport default utcYear;\n","import { durationWeek } from \"./duration\";\nimport { CountableTimeInterval } from \"./interval\";\n// Set date to n-th day of the week.\nfunction weekday(n) {\n    // Sets the `date` to the start of the `n`-th day of the current week.\n    // n == 0 is Sunday.\n    function floor(date) {\n        date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - n) % 7);\n        date.setHours(0, 0, 0, 0); // h, m, s, ms\n    }\n    // Offset the date by the given number of weeks.\n    function offset(date, weeks) {\n        date.setUTCDate(date.getUTCDate() + weeks * 7);\n    }\n    // Count the number of weeks between the start and end dates.\n    function count(start, end) {\n        return (end.getTime() - start.getTime()) / durationWeek;\n    }\n    return new CountableTimeInterval(floor, offset, count);\n}\nexport var utcSunday = weekday(0);\nexport var utcMonday = weekday(1);\nexport var utcTuesday = weekday(2);\nexport var utcWednesday = weekday(3);\nexport var utcThursday = weekday(4);\nexport var utcFriday = weekday(5);\nexport var utcSaturday = weekday(6);\nexport default utcSunday;\n","import timeDay from \"../day\";\nimport year from \"../year\";\nimport { sunday as timeSunday, monday as timeMonday, thursday as timeThursday } from \"../week\";\nimport utcDay from \"../utcDay\";\nimport utcYear from \"../utcYear\";\nimport utcSunday, { utcMonday, utcThursday } from \"../utcWeek\";\nfunction localDate(d) {\n    // For JS Dates the [0, 100) interval is a time warp, a fast forward to the 20th century.\n    // For example, -1 is -0001 BC, 0 is already 1900 AD.\n    if (d.y >= 0 && d.y < 100) {\n        var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n        date.setFullYear(d.y);\n        return date;\n    }\n    return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\nfunction utcDate(d) {\n    if (d.y >= 0 && d.y < 100) {\n        var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n        date.setUTCFullYear(d.y);\n        return date;\n    }\n    return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n/**\n * Creates a lookup map for array of names to go from a name to index.\n * @param names\n */\nfunction formatLookup(names) {\n    var map = {};\n    for (var i = 0, n = names.length; i < n; i++) {\n        map[names[i].toLowerCase()] = i;\n    }\n    return map;\n}\nfunction newYear(y) {\n    return {\n        y: y,\n        m: 0,\n        d: 1,\n        H: 0,\n        M: 0,\n        S: 0,\n        L: 0\n    };\n}\nvar percentCharCode = 37;\nvar numberRe = /^\\s*\\d+/; // ignores next directive\nvar percentRe = /^%/;\nvar requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n/**\n * Prepends any character in the `requoteRe` set with a backslash.\n * @param s\n */\nexport var requote = function (s) { return s.replace(requoteRe, '\\\\$&'); }; // $& - matched substring\n/**\n * Returns a RegExp that matches any string that starts with any of the given names (case insensitive).\n * @param names\n */\nexport var formatRe = function (names) { return new RegExp('^(?:' + names.map(requote).join('|') + ')', 'i'); };\n// A map of padding modifiers to padding strings. Default is `0`.\nvar pads = {\n    '-': '',\n    '_': ' ',\n    '0': '0'\n};\nexport function pad(value, fill, width) {\n    var sign = value < 0 ? '-' : '';\n    var string = String(sign ? -value : value);\n    var length = string.length;\n    return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n/**\n * Create a new time-locale-based object which exposes time-formatting\n * methods for the specified locale definition.\n *\n * @param timeLocale A time locale definition.\n */\nexport default function formatLocale(timeLocale) {\n    var lDateTime = timeLocale.dateTime;\n    var lDate = timeLocale.date;\n    var lTime = timeLocale.time;\n    var lPeriods = timeLocale.periods;\n    var lWeekdays = timeLocale.days;\n    var lShortWeekdays = timeLocale.shortDays;\n    var lMonths = timeLocale.months;\n    var lShortMonths = timeLocale.shortMonths;\n    var periodRe = formatRe(lPeriods);\n    var periodLookup = formatLookup(lPeriods);\n    var weekdayRe = formatRe(lWeekdays);\n    var weekdayLookup = formatLookup(lWeekdays);\n    var shortWeekdayRe = formatRe(lShortWeekdays);\n    var shortWeekdayLookup = formatLookup(lShortWeekdays);\n    var monthRe = formatRe(lMonths);\n    var monthLookup = formatLookup(lMonths);\n    var shortMonthRe = formatRe(lShortMonths);\n    var shortMonthLookup = formatLookup(lShortMonths);\n    var formats = {\n        'a': formatShortWeekday,\n        'A': formatWeekday,\n        'b': formatShortMonth,\n        'B': formatMonth,\n        'c': undefined,\n        'd': formatDayOfMonth,\n        'e': formatDayOfMonth,\n        'f': formatMicroseconds,\n        'H': formatHour24,\n        'I': formatHour12,\n        'j': formatDayOfYear,\n        'L': formatMilliseconds,\n        'm': formatMonthNumber,\n        'M': formatMinutes,\n        'p': formatPeriod,\n        'Q': formatUnixTimestamp,\n        's': formatUnixTimestampSeconds,\n        'S': formatSeconds,\n        'u': formatWeekdayNumberMonday,\n        'U': formatWeekNumberSunday,\n        'V': formatWeekNumberISO,\n        'w': formatWeekdayNumberSunday,\n        'W': formatWeekNumberMonday,\n        'x': undefined,\n        'X': undefined,\n        'y': formatYear,\n        'Y': formatFullYear,\n        'Z': formatZone,\n        '%': formatLiteralPercent\n    };\n    var utcFormats = {\n        'a': formatUTCShortWeekday,\n        'A': formatUTCWeekday,\n        'b': formatUTCShortMonth,\n        'B': formatUTCMonth,\n        'c': undefined,\n        'd': formatUTCDayOfMonth,\n        'e': formatUTCDayOfMonth,\n        'f': formatUTCMicroseconds,\n        'H': formatUTCHour24,\n        'I': formatUTCHour12,\n        'j': formatUTCDayOfYear,\n        'L': formatUTCMilliseconds,\n        'm': formatUTCMonthNumber,\n        'M': formatUTCMinutes,\n        'p': formatUTCPeriod,\n        'Q': formatUnixTimestamp,\n        's': formatUnixTimestampSeconds,\n        'S': formatUTCSeconds,\n        'u': formatUTCWeekdayNumberMonday,\n        'U': formatUTCWeekNumberSunday,\n        'V': formatUTCWeekNumberISO,\n        'w': formatUTCWeekdayNumberSunday,\n        'W': formatUTCWeekNumberMonday,\n        'x': undefined,\n        'X': undefined,\n        'y': formatUTCYear,\n        'Y': formatUTCFullYear,\n        'Z': formatUTCZone,\n        '%': formatLiteralPercent\n    };\n    var parses = {\n        'a': parseShortWeekday,\n        'A': parseWeekday,\n        'b': parseShortMonth,\n        'B': parseMonth,\n        'c': parseLocaleDateTime,\n        'd': parseDayOfMonth,\n        'e': parseDayOfMonth,\n        'f': parseMicroseconds,\n        'H': parseHour24,\n        'I': parseHour24,\n        'j': parseDayOfYear,\n        'L': parseMilliseconds,\n        'm': parseMonthNumber,\n        'M': parseMinutes,\n        'p': parsePeriod,\n        'Q': parseUnixTimestamp,\n        's': parseUnixTimestampSeconds,\n        'S': parseSeconds,\n        'u': parseWeekdayNumberMonday,\n        'U': parseWeekNumberSunday,\n        'V': parseWeekNumberISO,\n        'w': parseWeekdayNumberSunday,\n        'W': parseWeekNumberMonday,\n        'x': parseLocaleDate,\n        'X': parseLocaleTime,\n        'y': parseYear,\n        'Y': parseFullYear,\n        'Z': parseZone,\n        '%': parseLiteralPercent\n    };\n    // Recursive definitions.\n    formats.x = newFormat(lDate, formats);\n    formats.X = newFormat(lTime, formats);\n    formats.c = newFormat(lDateTime, formats);\n    utcFormats.x = newFormat(lDate, utcFormats);\n    utcFormats.X = newFormat(lTime, utcFormats);\n    utcFormats.c = newFormat(lDateTime, utcFormats);\n    function newParse(specifier, newDate) {\n        return function (str) {\n            var d = newYear(1900);\n            var i = parseSpecifier(d, specifier, str += '', 0);\n            if (i != str.length) {\n                return undefined;\n            }\n            // If a UNIX timestamp is specified, return it.\n            if ('Q' in d) {\n                return new Date(d.Q);\n            }\n            // The am-pm flag is 0 for AM, and 1 for PM.\n            if ('p' in d) {\n                d.H = d.H % 12 + d.p * 12;\n            }\n            // Convert day-of-week and week-of-year to day-of-year.\n            if ('V' in d) {\n                if (d.V < 1 || d.V > 53) {\n                    return undefined;\n                }\n                if (!('w' in d)) {\n                    d.w = 1;\n                }\n                if ('Z' in d) {\n                    var week = utcDate(newYear(d.y));\n                    var day = week.getUTCDay();\n                    week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday.floor(week);\n                    week = utcDay.offset(week, (d.V - 1) * 7);\n                    d.y = week.getUTCFullYear();\n                    d.m = week.getUTCMonth();\n                    d.d = week.getUTCDate() + (d.w + 6) % 7;\n                }\n                else {\n                    var week = newDate(newYear(d.y));\n                    var day = week.getDay();\n                    week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday.floor(week);\n                    week = timeDay.offset(week, (d.V - 1) * 7);\n                    d.y = week.getFullYear();\n                    d.m = week.getMonth();\n                    d.d = week.getDate() + (d.w + 6) % 7;\n                }\n            }\n            else if ('W' in d || 'U' in d) {\n                if (!('w' in d)) {\n                    d.w = 'u' in d\n                        ? d.u % 7\n                        : 'W' in d ? 1 : 0;\n                }\n                var day = 'Z' in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n                d.m = 0;\n                d.d = 'W' in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n            }\n            // If a time zone is specified, all fields are interpreted as UTC and then\n            // offset according to the specified time zone.\n            if ('Z' in d) {\n                d.H += d.Z / 100 | 0;\n                d.M += d.Z % 100;\n                return utcDate(d);\n            }\n            // Otherwise, all fields are in local time.\n            return newDate(d);\n        };\n    }\n    /**\n     * Creates a new function that formats the given Date or timestamp according to specifier.\n     * @param specifier\n     * @param formats\n     */\n    function newFormat(specifier, formats) {\n        return function (date) {\n            var string = [];\n            var n = specifier.length;\n            var i = -1;\n            var j = 0;\n            if (!(date instanceof Date)) {\n                date = new Date(+date);\n            }\n            while (++i < n) {\n                if (specifier.charCodeAt(i) === percentCharCode) {\n                    string.push(specifier.slice(j, i)); // copy the chunks of specifier with no directives as is\n                    var c = specifier.charAt(++i);\n                    var pad_1 = pads[c];\n                    if (pad_1 != undefined) { // if format directive has a padding modifier in front of it\n                        c = specifier.charAt(++i); // fetch the directive itself\n                    }\n                    else {\n                        pad_1 = c === 'e' ? ' ' : '0'; // use the default padding modifier\n                    }\n                    var format = formats[c];\n                    if (format) { // if the directive has a corresponding formatting function\n                        c = format(date, pad_1); // replace the directive with the formatted date\n                    }\n                    string.push(c);\n                    j = i + 1;\n                }\n            }\n            string.push(specifier.slice(j, i));\n            return string.join('');\n        };\n    }\n    // Simultaneously walks over the specifier and the parsed string, populating the `d` map with parsed values.\n    // The returned number is expected to equal the length of the parsed `string`, if parsing succeeded.\n    function parseSpecifier(d, specifier, string, j) {\n        // i - `specifier` string index\n        // j - parsed `string` index\n        var i = 0;\n        var n = specifier.length;\n        var m = string.length;\n        while (i < n) {\n            if (j >= m) {\n                return -1;\n            }\n            var code = specifier.charCodeAt(i++);\n            if (code === percentCharCode) {\n                var char = specifier.charAt(i++);\n                var parse = parses[(char in pads ? specifier.charAt(i++) : char)];\n                if (!parse || ((j = parse(d, string, j)) < 0)) {\n                    return -1;\n                }\n            }\n            else if (code != string.charCodeAt(j++)) {\n                return -1;\n            }\n        }\n        return j;\n    }\n    // ----------------------------- formats ----------------------------------\n    function formatMicroseconds(date, fill) {\n        return formatMilliseconds(date, fill) + '000';\n    }\n    function formatMilliseconds(date, fill) {\n        return pad(date.getMilliseconds(), fill, 3);\n    }\n    function formatSeconds(date, fill) {\n        return pad(date.getSeconds(), fill, 2);\n    }\n    function formatMinutes(date, fill) {\n        return pad(date.getMinutes(), fill, 2);\n    }\n    function formatHour12(date, fill) {\n        return pad(date.getHours() % 12 || 12, fill, 2);\n    }\n    function formatHour24(date, fill) {\n        return pad(date.getHours(), fill, 2);\n    }\n    function formatPeriod(date) {\n        return lPeriods[date.getHours() >= 12 ? 1 : 0];\n    }\n    function formatShortWeekday(date) {\n        return lShortWeekdays[date.getDay()];\n    }\n    function formatWeekday(date) {\n        return lWeekdays[date.getDay()];\n    }\n    function formatWeekdayNumberMonday(date) {\n        var dayOfWeek = date.getDay();\n        return dayOfWeek === 0 ? 7 : dayOfWeek;\n    }\n    function formatWeekNumberSunday(date, fill) {\n        return pad(timeSunday.count(year.floor(date), date), fill, 2);\n    }\n    function formatWeekNumberISO(date, fill) {\n        var day = date.getDay();\n        date = (day >= 4 || day === 0) ? timeThursday.floor(date) : timeThursday.ceil(date);\n        var yearStart = year.floor(date);\n        return pad(timeThursday.count(yearStart, date) + (yearStart.getDay() === 4 ? 1 : 0), fill, 2);\n    }\n    function formatWeekdayNumberSunday(date) {\n        return date.getDay();\n    }\n    function formatWeekNumberMonday(date, fill) {\n        return pad(timeMonday.count(year.floor(date), date), fill, 2);\n    }\n    function formatDayOfMonth(date, fill) {\n        return pad(date.getDate(), fill, 2);\n    }\n    function formatDayOfYear(date, fill) {\n        return pad(1 + timeDay.count(year.floor(date), date), fill, 3);\n    }\n    function formatShortMonth(date) {\n        return lShortMonths[date.getMonth()];\n    }\n    function formatMonth(date) {\n        return lMonths[date.getMonth()];\n    }\n    function formatMonthNumber(date, fill) {\n        return pad(date.getMonth() + 1, fill, 2);\n    }\n    function formatYear(date, fill) {\n        return pad(date.getFullYear() % 100, fill, 2);\n    }\n    function formatFullYear(date, fill) {\n        return pad(date.getFullYear() % 10000, fill, 4);\n    }\n    function formatZone(date) {\n        var z = date.getTimezoneOffset();\n        return (z > 0 ? '-' : (z *= -1, '+')) + pad(Math.floor(z / 60), '0', 2) + pad(z % 60, '0', 2);\n    }\n    // -------------------------- UTC formats -----------------------------------\n    function formatUTCMicroseconds(date, fill) {\n        return formatUTCMilliseconds(date, fill) + '000';\n    }\n    function formatUTCMilliseconds(date, fill) {\n        return pad(date.getUTCMilliseconds(), fill, 3);\n    }\n    function formatUTCSeconds(date, fill) {\n        return pad(date.getUTCSeconds(), fill, 2);\n    }\n    function formatUTCMinutes(date, fill) {\n        return pad(date.getUTCMinutes(), fill, 2);\n    }\n    function formatUTCHour12(date, fill) {\n        return pad(date.getUTCHours() % 12 || 12, fill, 2);\n    }\n    function formatUTCHour24(date, fill) {\n        return pad(date.getUTCHours(), fill, 2);\n    }\n    function formatUTCPeriod(date) {\n        return lPeriods[date.getUTCHours() >= 12 ? 1 : 0];\n    }\n    function formatUTCDayOfMonth(date, fill) {\n        return pad(date.getUTCDate(), fill, 2);\n    }\n    function formatUTCDayOfYear(date, fill) {\n        return pad(1 + utcDay.count(utcYear.floor(date), date), fill, 3);\n    }\n    function formatUTCMonthNumber(date, fill) {\n        return pad(date.getUTCMonth() + 1, fill, 2);\n    }\n    function formatUTCShortMonth(date) {\n        return lShortMonths[date.getUTCMonth()];\n    }\n    function formatUTCMonth(date) {\n        return lMonths[date.getUTCMonth()];\n    }\n    function formatUTCShortWeekday(date) {\n        return lShortWeekdays[date.getUTCDay()];\n    }\n    function formatUTCWeekday(date) {\n        return lWeekdays[date.getUTCDay()];\n    }\n    function formatUTCWeekdayNumberMonday(date) {\n        var dayOfWeek = date.getUTCDay();\n        return dayOfWeek === 0 ? 7 : dayOfWeek;\n    }\n    function formatUTCWeekNumberSunday(date, fill) {\n        return pad(utcSunday.count(utcYear.floor(date), date), fill, 2);\n    }\n    function formatUTCWeekNumberISO(date, fill) {\n        var day = date.getUTCDay();\n        date = (day >= 4 || day === 0) ? utcThursday.floor(date) : utcThursday.ceil(date);\n        var yearStart = utcYear.floor(date);\n        return pad(utcThursday.count(yearStart, date) + (yearStart.getUTCDay() === 4 ? 1 : 0), fill, 4);\n    }\n    function formatUTCWeekdayNumberSunday(date) {\n        return date.getUTCDay();\n    }\n    function formatUTCWeekNumberMonday(date, fill) {\n        return pad(utcMonday.count(utcYear.floor(date), date), fill, 2);\n    }\n    function formatUTCYear(date, fill) {\n        return pad(date.getUTCFullYear() % 100, fill, 2);\n    }\n    function formatUTCFullYear(date, fill) {\n        return pad(date.getUTCFullYear() % 10000, fill, 4);\n    }\n    function formatUTCZone() {\n        return '+0000';\n    }\n    function formatLiteralPercent(date) {\n        return '%';\n    }\n    function formatUnixTimestamp(date) {\n        return date.getTime();\n    }\n    function formatUnixTimestampSeconds(date) {\n        return Math.floor(date.getTime() / 1000);\n    }\n    // ------------------------------- parsers ------------------------------------\n    function parseMicroseconds(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 6));\n        return n ? (d.L = Math.floor(parseFloat(n[0]) / 1000), i + n[0].length) : -1;\n    }\n    function parseMilliseconds(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 3));\n        return n ? (d.L = +n[0], i + n[0].length) : -1;\n    }\n    function parseSeconds(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.S = +n[0], i + n[0].length) : -1;\n    }\n    function parseMinutes(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.M = +n[0], i + n[0].length) : -1;\n    }\n    function parseHour24(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.H = +n[0], i + n[0].length) : -1;\n    }\n    function parsePeriod(d, string, i) {\n        var n = periodRe.exec(string.slice(i));\n        return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseDayOfMonth(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.d = +n[0], i + n[0].length) : -1;\n    }\n    function parseDayOfYear(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 3));\n        return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n    }\n    function parseShortWeekday(d, string, i) {\n        var n = shortWeekdayRe.exec(string.slice(i));\n        return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseWeekday(d, string, i) {\n        var n = weekdayRe.exec(string.slice(i));\n        return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseWeekdayNumberMonday(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 1));\n        return n ? (d.u = +n[0], i + n[0].length) : -1;\n    }\n    function parseWeekNumberSunday(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.U = +n[0], i + n[0].length) : -1;\n    }\n    function parseWeekNumberISO(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.V = +n[0], i + n[0].length) : -1;\n    }\n    function parseWeekNumberMonday(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.W = +n[0], i + n[0].length) : -1;\n    }\n    function parseWeekdayNumberSunday(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 1));\n        return n ? (d.w = +n[0], i + n[0].length) : -1;\n    }\n    function parseShortMonth(d, string, i) {\n        var n = shortMonthRe.exec(string.slice(i));\n        return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseMonth(d, string, i) {\n        var n = monthRe.exec(string.slice(i));\n        return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseMonthNumber(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.m = parseFloat(n[0]) - 1, i + n[0].length) : -1;\n    }\n    function parseLocaleDateTime(d, string, i) {\n        return parseSpecifier(d, lDateTime, string, i);\n    }\n    function parseLocaleDate(d, string, i) {\n        return parseSpecifier(d, lDate, string, i);\n    }\n    function parseLocaleTime(d, string, i) {\n        return parseSpecifier(d, lTime, string, i);\n    }\n    function parseUnixTimestamp(d, string, i) {\n        var n = numberRe.exec(string.slice(i));\n        return n ? (d.Q = +n[0], i + n[0].length) : -1;\n    }\n    function parseUnixTimestampSeconds(d, string, i) {\n        var n = numberRe.exec(string.slice(i));\n        return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n    }\n    function parseYear(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n    }\n    function parseFullYear(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 4));\n        return n ? (d.y = +n[0], i + n[0].length) : -1;\n    }\n    function parseZone(d, string, i) {\n        var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n        return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || '00')), i + n[0].length) : -1;\n    }\n    function parseLiteralPercent(d, string, i) {\n        var n = percentRe.exec(string.slice(i, i + 1));\n        return n ? i + n[0].length : -1;\n    }\n    return {\n        format: function (specifier) {\n            var f = newFormat(specifier, formats);\n            f.toString = function () { return specifier; };\n            return f;\n        },\n        parse: function (specifier) {\n            var p = newParse(specifier, localDate);\n            p.toString = function () { return specifier; };\n            return p;\n        },\n        utcFormat: function (specifier) {\n            var f = newFormat(specifier, utcFormats);\n            f.toString = function () { return specifier; };\n            return f;\n        },\n        utcParse: function (specifier) {\n            var p = newParse(specifier, utcDate);\n            p.toString = function () { return specifier; };\n            return p;\n        }\n    };\n}\n","import formatLocale from './locale';\nexport var locale;\nsetDefaultLocale({\n    dateTime: '%x, %X',\n    date: '%-m/%-d/%Y',\n    time: '%-I:%M:%S %p',\n    periods: ['AM', 'PM'],\n    days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    shortDays: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n    shortMonths: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n});\nexport default function setDefaultLocale(definition) {\n    return locale = formatLocale(definition);\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport ContinuousScale from \"./continuousScale\";\nimport timeMillisecond from \"../util/time/millisecond\";\nimport timeSecond from \"../util/time/second\";\nimport timeMinute from \"../util/time/minute\";\nimport timeHour from \"../util/time/hour\";\nimport timeDay from \"../util/time/day\";\nimport timeWeek from \"../util/time/week\";\nimport timeMonth from \"../util/time/month\";\nimport timeYear from \"../util/time/year\";\nimport { durationSecond, durationMinute, durationHour, durationDay, durationWeek, durationMonth, durationYear } from \"../util/time/duration\";\nimport { complexBisectRight } from \"../util/bisect\";\nimport { tickStep } from \"../util/ticks\";\nimport { locale } from \"../util/time/format/defaultLocale\";\nvar TimeScale = /** @class */ (function (_super) {\n    __extends(TimeScale, _super);\n    function TimeScale() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.year = timeYear;\n        _this.month = timeMonth;\n        _this.week = timeWeek;\n        _this.day = timeDay;\n        _this.hour = timeHour;\n        _this.minute = timeMinute;\n        _this.second = timeSecond;\n        _this.millisecond = timeMillisecond;\n        _this.format = locale.format;\n        /**\n         * Array of default tick intervals in the following format:\n         *\n         *     [\n         *         interval (unit of time),\n         *         number of units (step),\n         *         the length of that number of units in milliseconds\n         *     ]\n         */\n        _this.tickIntervals = [\n            [_this.second, 1, durationSecond],\n            [_this.second, 5, 5 * durationSecond],\n            [_this.second, 15, 15 * durationSecond],\n            [_this.second, 30, 30 * durationSecond],\n            [_this.minute, 1, durationMinute],\n            [_this.minute, 5, 5 * durationMinute],\n            [_this.minute, 15, 15 * durationMinute],\n            [_this.minute, 30, 30 * durationMinute],\n            [_this.hour, 1, durationHour],\n            [_this.hour, 3, 3 * durationHour],\n            [_this.hour, 6, 6 * durationHour],\n            [_this.hour, 12, 12 * durationHour],\n            [_this.day, 1, durationDay],\n            [_this.day, 2, 2 * durationDay],\n            [_this.week, 1, durationWeek],\n            [_this.month, 1, durationMonth],\n            [_this.month, 3, 3 * durationMonth],\n            [_this.year, 1, durationYear]\n        ];\n        _this.formatMillisecond = _this.format('.%L');\n        _this.formatSecond = _this.format(':%S');\n        _this.formatMinute = _this.format('%I:%M');\n        _this.formatHour = _this.format('%I %p');\n        _this.formatDay = _this.format('%a %d');\n        _this.formatWeek = _this.format('%b %d');\n        _this.formatMonth = _this.format('%B');\n        _this.formatYear = _this.format('%Y');\n        _this._domain = [new Date(2000, 0, 1), new Date(2000, 0, 2)];\n        return _this;\n    }\n    TimeScale.prototype.defaultTickFormat = function (date) {\n        return (this.second.floor(date) < date\n            ? this.formatMillisecond\n            : this.minute.floor(date) < date\n                ? this.formatSecond\n                : this.hour.floor(date) < date\n                    ? this.formatMinute\n                    : this.day.floor(date) < date\n                        ? this.formatHour\n                        : this.month.floor(date) < date\n                            ? (this.week.floor(date) < date ? this.formatDay : this.formatWeek)\n                            : this.year.floor(date) < date\n                                ? this.formatMonth\n                                : this.formatYear)(date);\n    };\n    /**\n     *\n     * @param interval If the `interval` is a number, it's interpreted as the desired tick count\n     * and the method tries to pick an appropriate interval automatically, based on the extent of the domain.\n     * If the `interval` is `undefined`, it defaults to `10`.\n     * If the `interval` is a time interval, simply use it.\n     * @param start The start time (timestamp).\n     * @param stop The end time (timestamp).\n     * @param step Number of intervals between ticks.\n     */\n    TimeScale.prototype.tickInterval = function (interval, start, stop, step) {\n        var _a;\n        if (interval === void 0) { interval = 10; }\n        if (typeof interval === 'number') {\n            var tickCount = interval;\n            var tickIntervals = this.tickIntervals;\n            var target = Math.abs(stop - start) / tickCount;\n            var i = complexBisectRight(tickIntervals, target, function (interval) { return interval[2]; });\n            if (i === tickIntervals.length) {\n                step = tickStep(start / durationYear, stop / durationYear, tickCount);\n                interval = this.year;\n            }\n            else if (i) {\n                _a = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i], interval = _a[0], step = _a[1];\n            }\n            else {\n                step = Math.max(tickStep(start, stop, interval), 1);\n                interval = this.millisecond;\n            }\n        }\n        return step == undefined ? interval : interval.every(step);\n    };\n    Object.defineProperty(TimeScale.prototype, \"domain\", {\n        get: function () {\n            return _super.prototype.getDomain.call(this).map(function (t) { return new Date(t); });\n        },\n        set: function (values) {\n            _super.prototype.setDomain.call(this, Array.prototype.map.call(values, function (t) { return t instanceof Date ? +t : +new Date(+t); }));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TimeScale.prototype.invert = function (y) {\n        return new Date(_super.prototype.invert.call(this, y));\n    };\n    /**\n     * Returns uniformly-spaced dates that represent the scale's domain.\n     * @param interval The desired tick count or a time interval object.\n     */\n    TimeScale.prototype.ticks = function (interval) {\n        if (interval === void 0) { interval = 10; }\n        var d = _super.prototype.getDomain.call(this);\n        var t0 = d[0];\n        var t1 = d[d.length - 1];\n        var reverse = t1 < t0;\n        if (reverse) {\n            var _ = t0;\n            t0 = t1;\n            t1 = _;\n        }\n        var t = this.tickInterval(interval, t0, t1);\n        var i = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n        return reverse ? i.reverse() : i;\n    };\n    /**\n     * Returns a time format function suitable for displaying tick values.\n     * @param count Ignored. Used only to satisfy the {@link Scale} interface.\n     * @param specifier If the specifier string is provided, this method is equivalent to\n     * the {@link TimeLocaleObject.format} method.\n     * If no specifier is provided, this method returns the default time format function.\n     */\n    TimeScale.prototype.tickFormat = function (count, specifier) {\n        return specifier == undefined ? this.defaultTickFormat.bind(this) : this.format(specifier);\n    };\n    /**\n     * Extends the domain so that it starts and ends on nice round values.\n     * This method typically modifies the scales domain, and may only extend the bounds to the nearest round value.\n     * @param interval\n     */\n    TimeScale.prototype.nice = function (interval) {\n        if (interval === void 0) { interval = 10; }\n        var d = _super.prototype.getDomain.call(this);\n        var i = this.tickInterval(interval, d[0], d[d.length - 1]);\n        if (i) {\n            this.domain = this._nice(d, i);\n        }\n    };\n    TimeScale.prototype._nice = function (domain, interval) {\n        var _a, _b;\n        domain = domain.slice();\n        var i0 = 0;\n        var i1 = domain.length - 1;\n        var x0 = domain[i0];\n        var x1 = domain[i1];\n        if (x1 < x0) {\n            _a = [i1, i0], i0 = _a[0], i1 = _a[1];\n            _b = [x1, x0], x0 = _b[0], x1 = _b[1];\n        }\n        domain[i0] = interval.floor(x0);\n        domain[i1] = interval.ceil(x1);\n        return domain;\n    };\n    return TimeScale;\n}(ContinuousScale));\nexport { TimeScale };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TimeScale } from \"../../scale/timeScale\";\nimport { ChartAxis } from \"../chartAxis\";\nvar TimeAxis = /** @class */ (function (_super) {\n    __extends(TimeAxis, _super);\n    function TimeAxis() {\n        var _this = _super.call(this, new TimeScale()) || this;\n        _this._nice = true;\n        _this.scale.clamp = true;\n        return _this;\n    }\n    Object.defineProperty(TimeAxis.prototype, \"nice\", {\n        get: function () {\n            return this._nice;\n        },\n        set: function (value) {\n            if (this._nice !== value) {\n                this._nice = value;\n                if (value && this.scale.nice) {\n                    this.scale.nice(10);\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimeAxis.prototype, \"domain\", {\n        get: function () {\n            return this.scale.domain;\n        },\n        set: function (value) {\n            this.scale.domain = value;\n            if (this.nice && this.scale.nice) {\n                this.scale.nice(10);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TimeAxis.className = 'TimeAxis';\n    TimeAxis.type = 'time';\n    return TimeAxis;\n}(ChartAxis));\nexport { TimeAxis };\n","import { CartesianChart } from \"./chart/cartesianChart\";\nimport { PolarChart } from \"./chart/polarChart\";\nimport { LineSeries } from \"./chart/series/cartesian/lineSeries\";\nimport { ScatterSeries } from \"./chart/series/cartesian/scatterSeries\";\nimport { BarSeries } from \"./chart/series/cartesian/barSeries\";\nimport { AreaSeries } from \"./chart/series/cartesian/areaSeries\";\nimport { HistogramSeries } from \"./chart/series/cartesian/histogramSeries\";\nimport { PieSeries } from \"./chart/series/polar/pieSeries\";\nimport { DropShadow } from \"./scene/dropShadow\";\nimport { CategoryAxis } from \"./chart/axis/categoryAxis\";\nimport { NumberAxis } from \"./chart/axis/numberAxis\";\nimport { Padding } from \"./util/padding\";\nimport { Caption } from \"./caption\";\nimport { GroupedCategoryAxis } from \"./chart/axis/groupedCategoryAxis\";\nimport { GroupedCategoryChart } from \"./chart/groupedCategoryChart\";\nimport { Circle } from \"./chart/marker/circle\";\nimport { Cross } from \"./chart/marker/cross\";\nimport { Diamond } from \"./chart/marker/diamond\";\nimport { Plus } from \"./chart/marker/plus\";\nimport { Square } from \"./chart/marker/square\";\nimport { Triangle } from \"./chart/marker/triangle\";\nimport { ChartAxisPosition } from \"./chart/chartAxis\";\nimport { convertToMap } from \"./util/map\";\nimport { TimeAxis } from \"./chart/axis/timeAxis\";\nvar ChartBuilder = /** @class */ (function () {\n    function ChartBuilder() {\n    }\n    ChartBuilder.createCartesianChart = function (container, xAxis, yAxis, document) {\n        var chart = new CartesianChart(document);\n        chart.container = container;\n        xAxis.position = ChartAxisPosition.Bottom;\n        yAxis.position = ChartAxisPosition.Left;\n        chart.axes = [xAxis, yAxis];\n        return chart;\n    };\n    ChartBuilder.createGroupedCategoryChart = function (container, xAxis, yAxis, document) {\n        var chart = new GroupedCategoryChart(document);\n        chart.container = container;\n        xAxis.position = ChartAxisPosition.Bottom;\n        yAxis.position = ChartAxisPosition.Left;\n        chart.axes = [xAxis, yAxis];\n        return chart;\n    };\n    ChartBuilder.createBarChart = function (container, options) {\n        var chart = this.createCartesianChart(container, ChartBuilder.createAxis(options.xAxis, 'number'), ChartBuilder.createAxis(options.yAxis, 'category'), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initBarSeries(new BarSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createGroupedBarChart = function (container, options) {\n        var chart = this.createGroupedCategoryChart(container, ChartBuilder.createAxis(options.xAxis, 'number'), ChartBuilder.createGroupedCategoryAxis(options.yAxis), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initBarSeries(new BarSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createColumnChart = function (container, options) {\n        var chart = this.createCartesianChart(container, ChartBuilder.createAxis(options.xAxis, 'category'), ChartBuilder.createAxis(options.yAxis, 'number'), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initBarSeries(new BarSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createGroupedColumnChart = function (container, options) {\n        var chart = this.createGroupedCategoryChart(container, ChartBuilder.createGroupedCategoryAxis(options.xAxis), ChartBuilder.createAxis(options.yAxis, 'number'), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initBarSeries(new BarSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createLineChart = function (container, options) {\n        var chart = this.createCartesianChart(container, ChartBuilder.createAxis(options.xAxis, 'category'), ChartBuilder.createAxis(options.yAxis, 'number'), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initLineSeries(new LineSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createGroupedLineChart = function (container, options) {\n        var chart = this.createGroupedCategoryChart(container, ChartBuilder.createGroupedCategoryAxis(options.xAxis), ChartBuilder.createAxis(options.yAxis, 'number'), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initLineSeries(new LineSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createScatterChart = function (container, options) {\n        var chart = this.createCartesianChart(container, ChartBuilder.createAxis(options.xAxis, 'number'), ChartBuilder.createAxis(options.yAxis, 'number'), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initScatterSeries(new ScatterSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createAreaChart = function (container, options) {\n        var chart = this.createCartesianChart(container, ChartBuilder.createAxis(options.xAxis, 'category'), ChartBuilder.createAxis(options.yAxis, 'number'), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initAreaSeries(new AreaSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createGroupedAreaChart = function (container, options) {\n        var chart = this.createGroupedCategoryChart(container, ChartBuilder.createGroupedCategoryAxis(options.xAxis), ChartBuilder.createAxis(options.yAxis, 'number'), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initAreaSeries(new AreaSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createHistogramChart = function (container, options) {\n        var chart = this.createCartesianChart(container, ChartBuilder.createNumberAxis(options.xAxis), ChartBuilder.createNumberAxis(options.yAxis), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        return chart;\n    };\n    ChartBuilder.createPolarChart = function (container) {\n        var chart = new PolarChart();\n        chart.container = container;\n        return chart;\n    };\n    ChartBuilder.createDoughnutChart = function (container, options) {\n        return this.createPieChart(container, options);\n    };\n    ChartBuilder.createPieChart = function (container, options) {\n        var chart = this.createPolarChart(container);\n        ChartBuilder.initChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initPieSeries(new PieSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createSeries = function (options) {\n        switch (options && options.type) {\n            case 'line':\n                return ChartBuilder.initLineSeries(new LineSeries(), options);\n            case 'scatter':\n                return ChartBuilder.initScatterSeries(new ScatterSeries(), options);\n            case 'bar':\n                return ChartBuilder.initBarSeries(new BarSeries(), options);\n            case 'area':\n                return ChartBuilder.initAreaSeries(new AreaSeries(), options);\n            case 'pie':\n                return ChartBuilder.initPieSeries(new PieSeries(), options);\n            case 'histogram':\n                return ChartBuilder.initHistogramSeries(new HistogramSeries(), options);\n            default:\n                return null;\n        }\n    };\n    ChartBuilder.initCartesianChart = function (chart, options) {\n        if (options.navigator !== undefined) {\n            ChartBuilder.initNavigator(chart.navigator, options.navigator);\n        }\n        return this.initChart(chart, options);\n    };\n    ChartBuilder.initChart = function (chart, options) {\n        this.setValueIfExists(chart, 'width', options.width);\n        this.setValueIfExists(chart, 'height', options.height);\n        this.setValueIfExists(chart, 'tooltipClass', options.tooltipClass);\n        this.setTransformedValueIfExists(chart, 'title', function (t) { return ChartBuilder.createTitle(t); }, options.title);\n        this.setTransformedValueIfExists(chart, 'subtitle', function (t) { return ChartBuilder.createSubtitle(t); }, options.subtitle);\n        this.setTransformedValueIfExists(chart, 'padding', function (p) { return new Padding(p.top, p.right, p.bottom, p.left); }, options.padding);\n        if (options.background) {\n            this.setValueIfExists(chart.background, 'fill', options.background.fill);\n            this.setValueIfExists(chart.background, 'visible', options.background.visible);\n        }\n        if (options.legend !== undefined) {\n            ChartBuilder.initLegend(chart.legend, options.legend);\n        }\n        var listeners = options.listeners;\n        if (listeners) {\n            for (var key in listeners) {\n                if (listeners.hasOwnProperty(key)) {\n                    var listener = listeners[key];\n                    if (typeof listener === 'function') {\n                        chart.addEventListener(key, listener);\n                    }\n                }\n            }\n        }\n        return chart;\n    };\n    ChartBuilder.initSeries = function (series, options) {\n        this.setValueIfExists(series, 'visible', options.visible);\n        this.setValueIfExists(series, 'showInLegend', options.showInLegend);\n        this.setValueIfExists(series, 'data', options.data);\n        var listeners = options.listeners;\n        if (listeners) {\n            for (var key in listeners) {\n                if (listeners.hasOwnProperty(key)) {\n                    var listener = listeners[key];\n                    if (typeof listener === 'function') {\n                        series.addEventListener(key, listener);\n                    }\n                }\n            }\n        }\n        return series;\n    };\n    ChartBuilder.initLineSeries = function (series, options) {\n        ChartBuilder.initSeries(series, options);\n        this.setValueIfExists(series, 'title', options.title);\n        var field = options.field, fill = options.fill, stroke = options.stroke, highlightStyle = options.highlightStyle, marker = options.marker, tooltip = options.tooltip;\n        if (field) {\n            this.setValueIfExists(series, 'xKey', field.xKey);\n            this.setValueIfExists(series, 'xName', field.xName);\n            this.setValueIfExists(series, 'yKey', field.yKey);\n            this.setValueIfExists(series, 'yName', field.yName);\n        }\n        if (fill) {\n            this.setValueIfExists(series.marker, 'fill', fill.color);\n            // default marker to same fill as series\n            // this.setValueIfExists(series.marker, 'fill', fill.color);\n        }\n        if (stroke) {\n            this.setValueIfExists(series, 'stroke', stroke.color);\n            this.setValueIfExists(series, 'strokeWidth', stroke.width);\n            // default marker to same stroke as series\n            // this.setValueIfExists(series.marker, 'stroke', stroke.color);\n            // this.setValueIfExists(series.marker, 'strokeWidth', stroke.width);\n        }\n        if (highlightStyle) {\n            this.initHighlightStyle(series.highlightStyle, highlightStyle);\n        }\n        if (marker) {\n            this.initMarker(series.marker, marker);\n        }\n        if (tooltip) {\n            this.setValueIfExists(series, 'tooltipEnabled', tooltip.enabled);\n            this.setValueIfExists(series, 'tooltipRenderer', tooltip.renderer);\n        }\n        return series;\n    };\n    ChartBuilder.initScatterSeries = function (series, options) {\n        ChartBuilder.initSeries(series, options);\n        this.setValueIfExists(series, 'title', options.title);\n        var field = options.field, fill = options.fill, stroke = options.stroke, highlightStyle = options.highlightStyle, marker = options.marker, tooltip = options.tooltip;\n        if (field) {\n            this.setValueIfExists(series, 'xKey', field.xKey);\n            this.setValueIfExists(series, 'xName', field.xName);\n            this.setValueIfExists(series, 'yKey', field.yKey);\n            this.setValueIfExists(series, 'yName', field.yName);\n            this.setValueIfExists(series, 'sizeKey', field.sizeKey);\n            this.setValueIfExists(series, 'sizeName', field.sizeName);\n            this.setValueIfExists(series, 'labelKey', field.labelKey);\n            this.setValueIfExists(series, 'labelName', field.labelName);\n        }\n        if (fill) {\n            // default marker to same fill as series\n            this.setValueIfExists(series.marker, 'fill', fill.color);\n        }\n        if (stroke) {\n            // default marker to same stroke as series\n            this.setValueIfExists(series.marker, 'stroke', stroke.color);\n            this.setValueIfExists(series.marker, 'strokeWidth', stroke.width);\n        }\n        if (highlightStyle) {\n            this.initHighlightStyle(series.highlightStyle, highlightStyle);\n        }\n        if (marker) {\n            this.initMarker(series.marker, marker);\n        }\n        if (tooltip) {\n            this.setValueIfExists(series, 'tooltipEnabled', tooltip.enabled);\n            this.setValueIfExists(series, 'tooltipRenderer', tooltip.renderer);\n        }\n        return series;\n    };\n    ChartBuilder.initLabelOptions = function (series, options) {\n        this.setValueIfExists(series, 'enabled', options.enabled);\n        this.setValueIfExists(series, 'fontStyle', options.fontStyle);\n        this.setValueIfExists(series, 'fontWeight', options.fontWeight);\n        this.setValueIfExists(series, 'fontSize', options.fontSize);\n        this.setValueIfExists(series, 'fontFamily', options.fontFamily);\n        this.setValueIfExists(series, 'color', options.color);\n    };\n    ChartBuilder.initBarSeries = function (series, options) {\n        ChartBuilder.initSeries(series, options);\n        this.setValueIfExists(series, 'grouped', options.grouped);\n        this.setValueIfExists(series, 'normalizedTo', options.normalizedTo);\n        var field = options.field, fill = options.fill, stroke = options.stroke, highlightStyle = options.highlightStyle, label = options.label, tooltip = options.tooltip;\n        if (field) {\n            this.setValueIfExists(series, 'xKey', field.xKey);\n            this.setValueIfExists(series, 'yKeys', field.yKeys);\n            this.setValueIfExists(series, 'yNames', field.yNames);\n        }\n        if (fill) {\n            this.setValueIfExists(series, 'fills', fill.colors);\n            this.setValueIfExists(series, 'fillOpacity', fill.opacity);\n        }\n        if (stroke) {\n            this.setValueIfExists(series, 'strokes', stroke.colors);\n            this.setValueIfExists(series, 'strokeOpacity', stroke.opacity);\n            this.setValueIfExists(series, 'strokeWidth', stroke.width);\n        }\n        if (highlightStyle) {\n            this.initHighlightStyle(series.highlightStyle, highlightStyle);\n        }\n        if (label) {\n            ChartBuilder.initLabelOptions(series.label, label);\n            this.setValueIfExists(series.label, 'enabled', label.enabled);\n            this.setValueIfExists(series.label, 'formatter', label.formatter);\n        }\n        if (tooltip) {\n            this.setValueIfExists(series, 'tooltipEnabled', tooltip.enabled);\n            this.setValueIfExists(series, 'tooltipRenderer', tooltip.renderer);\n        }\n        this.setTransformedValueIfExists(series, 'shadow', function (s) { return ChartBuilder.createDropShadow(s); }, options.shadow);\n        return series;\n    };\n    ChartBuilder.initAreaSeries = function (series, options) {\n        ChartBuilder.initSeries(series, options);\n        this.setValueIfExists(series, 'normalizedTo', options.normalizedTo);\n        var field = options.field, fill = options.fill, stroke = options.stroke, highlightStyle = options.highlightStyle, marker = options.marker, tooltip = options.tooltip;\n        if (field) {\n            this.setValueIfExists(series, 'xKey', field.xKey);\n            this.setValueIfExists(series, 'yKeys', field.yKeys);\n            this.setValueIfExists(series, 'yNames', field.yNames);\n        }\n        if (fill) {\n            this.setValueIfExists(series, 'fills', fill.colors);\n            this.setValueIfExists(series, 'fillOpacity', fill.opacity);\n        }\n        if (stroke) {\n            this.setValueIfExists(series, 'strokes', stroke.colors);\n            this.setValueIfExists(series, 'strokeOpacity', stroke.opacity);\n            this.setValueIfExists(series, 'strokeWidth', stroke.width);\n        }\n        if (highlightStyle) {\n            this.initHighlightStyle(series.highlightStyle, highlightStyle);\n        }\n        if (marker) {\n            this.initMarker(series.marker, marker);\n        }\n        if (tooltip) {\n            this.setValueIfExists(series, 'tooltipEnabled', tooltip.enabled);\n            this.setValueIfExists(series, 'tooltipRenderer', tooltip.renderer);\n        }\n        this.setTransformedValueIfExists(series, 'shadow', function (s) { return ChartBuilder.createDropShadow(s); }, options.shadow);\n        return series;\n    };\n    ChartBuilder.initPieSeries = function (series, options) {\n        ChartBuilder.initSeries(series, options);\n        this.setTransformedValueIfExists(series, 'title', function (t) { return ChartBuilder.createPieTitle(t); }, options.title);\n        this.setValueIfExists(series, 'rotation', options.rotation);\n        this.setValueIfExists(series, 'outerRadiusOffset', options.outerRadiusOffset);\n        this.setValueIfExists(series, 'innerRadiusOffset', options.innerRadiusOffset);\n        var field = options.field, fill = options.fill, stroke = options.stroke, highlightStyle = options.highlightStyle, callout = options.callout, label = options.label, tooltip = options.tooltip;\n        if (field) {\n            this.setValueIfExists(series, 'angleKey', field.angleKey);\n            this.setValueIfExists(series, 'angleName', field.angleName);\n            this.setValueIfExists(series, 'radiusKey', field.radiusKey);\n            this.setValueIfExists(series, 'radiusName', field.radiusName);\n            this.setValueIfExists(series, 'labelKey', field.labelKey);\n            this.setValueIfExists(series, 'labelName', field.labelName);\n        }\n        if (fill) {\n            this.setValueIfExists(series, 'fills', fill.colors);\n            this.setValueIfExists(series, 'fillOpacity', fill.opacity);\n        }\n        if (stroke) {\n            this.setValueIfExists(series, 'strokes', stroke.colors);\n            this.setValueIfExists(series, 'strokeOpacity', stroke.opacity);\n            this.setValueIfExists(series, 'strokeWidth', stroke.width);\n        }\n        if (highlightStyle) {\n            this.initHighlightStyle(series.highlightStyle, highlightStyle);\n        }\n        if (callout) {\n            this.setValueIfExists(series.callout, 'colors', callout.colors);\n            this.setValueIfExists(series.callout, 'strokeWidth', callout.strokeWidth);\n            this.setValueIfExists(series.callout, 'length', callout.length);\n        }\n        if (label) {\n            ChartBuilder.initLabelOptions(series.label, label);\n            this.setValueIfExists(series.label, 'enabled', label.enabled);\n            this.setValueIfExists(series.label, 'minAngle', label.minRequiredAngle);\n            this.setValueIfExists(series.label, 'offset', label.offset);\n        }\n        if (tooltip) {\n            this.setValueIfExists(series, 'tooltipEnabled', tooltip.enabled);\n            this.setValueIfExists(series, 'tooltipRenderer', tooltip.renderer);\n        }\n        this.setTransformedValueIfExists(series, 'shadow', function (s) { return ChartBuilder.createDropShadow(s); }, options.shadow);\n        return series;\n    };\n    ChartBuilder.initHistogramSeries = function (series, options) {\n        ChartBuilder.initSeries(series, options);\n        var field = options.field, fill = options.fill, stroke = options.stroke, highlightStyle = options.highlightStyle, tooltip = options.tooltip, binCount = options.binCount;\n        this.setValueIfExists(series, 'binCount', binCount);\n        if (field) {\n            this.setValueIfExists(series, 'xKey', field.xKey);\n        }\n        if (fill) {\n            this.setValueIfExists(series, 'fill', fill.color);\n            this.setValueIfExists(series, 'fillOpacity', fill.opacity);\n        }\n        if (stroke) {\n            this.setValueIfExists(series, 'stroke', stroke.color);\n            this.setValueIfExists(series, 'strokeOpacity', stroke.opacity);\n            this.setValueIfExists(series, 'strokeWidth', stroke.width);\n        }\n        if (highlightStyle) {\n            this.initHighlightStyle(series.highlightStyle, highlightStyle);\n        }\n        if (tooltip) {\n            this.setValueIfExists(series, 'tooltipEnabled', tooltip.enabled);\n            this.setValueIfExists(series, 'tooltipRenderer', tooltip.renderer);\n        }\n        return series;\n    };\n    ChartBuilder.getMarkerByName = function (name) {\n        return this.markerShapes.get(name) || Square;\n    };\n    ChartBuilder.initLegend = function (legend, options) {\n        this.setValueIfExists(legend, 'enabled', options.enabled);\n        this.setValueIfExists(legend, 'position', options.position);\n        var item = options.item;\n        if (item) {\n            var label = item.label, marker = item.marker;\n            if (label) {\n                this.setValueIfExists(legend, 'fontFamily', label.fontFamily);\n                this.setValueIfExists(legend, 'fontSize', label.fontSize);\n                this.setValueIfExists(legend, 'fontStyle', label.fontStyle);\n                this.setValueIfExists(legend, 'fontWeight', label.fontWeight);\n                this.setValueIfExists(legend, 'color', label.color);\n            }\n            if (marker) {\n                this.setValueIfExists(legend, 'markerShape', ChartBuilder.getMarkerByName(marker.shape));\n                this.setValueIfExists(legend, 'strokeWidth', marker.strokeWidth);\n                this.setValueIfExists(legend, 'markerSize', marker.size);\n                this.setValueIfExists(legend, 'itemSpacing', marker.padding);\n            }\n            this.setValueIfExists(legend, 'layoutHorizontalSpacing', item.paddingX);\n            this.setValueIfExists(legend, 'layoutVerticalSpacing', item.paddingY);\n        }\n    };\n    ChartBuilder.initNavigator = function (navigator, options) {\n        this.setValueIfExists(navigator, 'enabled', options.enabled);\n        this.setValueIfExists(navigator, 'height', options.height);\n        this.setValueIfExists(navigator, 'min', options.min);\n        this.setValueIfExists(navigator, 'max', options.max);\n        this.initNavigatorMask(navigator.mask, options.mask);\n        this.initNavigatorHandle(navigator.minHandle, options.minHandle);\n        this.initNavigatorHandle(navigator.maxHandle, options.maxHandle);\n    };\n    ChartBuilder.initNavigatorMask = function (mask, options) {\n        if (options) {\n            this.setValueIfExists(mask, 'fill', options.fill);\n            this.setValueIfExists(mask, 'stroke', options.stroke);\n            this.setValueIfExists(mask, 'strokeWidth', options.strokeWidth);\n            this.setValueIfExists(mask, 'fillOpacity', options.fillOpacity);\n        }\n    };\n    ChartBuilder.initNavigatorHandle = function (handle, options) {\n        if (options) {\n            this.setValueIfExists(handle, 'fill', options.fill);\n            this.setValueIfExists(handle, 'stroke', options.stroke);\n            this.setValueIfExists(handle, 'strokeWidth', options.strokeWidth);\n            this.setValueIfExists(handle, 'width', options.width);\n            this.setValueIfExists(handle, 'height', options.height);\n            this.setValueIfExists(handle, 'gripLineGap', options.gripLineGap);\n            this.setValueIfExists(handle, 'gripLineLength', options.gripLineLength);\n        }\n    };\n    ChartBuilder.initMarker = function (marker, options) {\n        marker.shape = ChartBuilder.getMarkerByName(options.shape);\n        this.setValueIfExists(marker, 'enabled', options.enabled);\n        this.setValueIfExists(marker, 'size', options.size);\n        this.setValueIfExists(marker, 'minSize', options.minSize);\n        this.setValueIfExists(marker, 'fill', options.fill);\n        this.setValueIfExists(marker, 'stroke', options.stroke);\n        this.setValueIfExists(marker, 'strokeWidth', options.strokeWidth);\n    };\n    ChartBuilder.initHighlightStyle = function (highlightStyle, options) {\n        this.setValueIfExists(highlightStyle, 'fill', options.fill);\n        this.setValueIfExists(highlightStyle, 'stroke', options.stroke);\n    };\n    ChartBuilder.setDefaultFontOptions = function (options, fontSize, fontWeight, fontFamily) {\n        if (fontSize === void 0) { fontSize = 16; }\n        if (fontWeight === void 0) { fontWeight = 'bold'; }\n        if (fontFamily === void 0) { fontFamily = 'Verdana, sans-serif'; }\n        if (options.fontSize === undefined) {\n            options.fontSize = fontSize;\n        }\n        if (options.fontWeight === undefined) {\n            options.fontWeight = fontWeight;\n        }\n        if (options.fontFamily === undefined) {\n            options.fontFamily = fontFamily;\n        }\n    };\n    ChartBuilder.createTitle = function (options) {\n        options = Object.create(options);\n        if (options.text === undefined) {\n            options.text = '';\n        }\n        this.setDefaultFontOptions(options);\n        return ChartBuilder.createCaption(options);\n    };\n    ChartBuilder.createSubtitle = function (options) {\n        options = Object.create(options);\n        if (options.text === undefined) {\n            options.text = '';\n        }\n        this.setDefaultFontOptions(options, 12);\n        return ChartBuilder.createCaption(options);\n    };\n    ChartBuilder.createPieTitle = function (options) {\n        options = Object.create(options);\n        this.setDefaultFontOptions(options, 12);\n        return ChartBuilder.createCaption(options);\n    };\n    ChartBuilder.createCaption = function (options) {\n        var caption = new Caption();\n        this.setValueIfExists(caption, 'enabled', options.enabled);\n        this.setValueIfExists(caption, 'text', options.text);\n        this.setValueIfExists(caption, 'fontStyle', options.fontStyle);\n        this.setValueIfExists(caption, 'fontWeight', options.fontWeight);\n        this.setValueIfExists(caption, 'fontSize', options.fontSize);\n        this.setValueIfExists(caption, 'fontFamily', options.fontFamily);\n        this.setValueIfExists(caption, 'color', options.color);\n        return caption;\n    };\n    ChartBuilder.initAxis = function (axis, options) {\n        this.setTransformedValueIfExists(axis, 'title', function (t) { return ChartBuilder.createTitle(t); }, options.title);\n        this.setValueIfExists(axis, 'gridStyle', options.gridStyle);\n        var line = options.line, tick = options.tick, label = options.label;\n        if (line) {\n            this.setValueIfExists(axis.line, 'width', line.width);\n            this.setValueIfExists(axis.line, 'color', line.color);\n        }\n        if (tick) {\n            this.setValueIfExists(axis.tick, 'width', tick.width);\n            this.setValueIfExists(axis.tick, 'size', tick.size);\n            this.setValueIfExists(axis.tick, 'color', tick.color);\n        }\n        if (label) {\n            this.setValueIfExists(axis.label, 'fontStyle', label.fontStyle);\n            this.setValueIfExists(axis.label, 'fontWeight', label.fontWeight);\n            this.setValueIfExists(axis.label, 'fontSize', label.fontSize);\n            this.setValueIfExists(axis.label, 'fontFamily', label.fontFamily);\n            this.setValueIfExists(axis.label, 'color', label.color);\n            this.setValueIfExists(axis.label, 'padding', label.padding);\n            this.setValueIfExists(axis.label, 'rotation', label.rotation);\n            this.setValueIfExists(axis.label, 'format', label.format);\n            this.setValueIfExists(axis.label, 'formatter', label.formatter);\n        }\n    };\n    ChartBuilder.createNumberAxis = function (options) {\n        var axis = new NumberAxis();\n        this.initAxis(axis, options);\n        return axis;\n    };\n    ChartBuilder.createCategoryAxis = function (options) {\n        var axis = new CategoryAxis();\n        this.initAxis(axis, options);\n        return axis;\n    };\n    ChartBuilder.createGroupedCategoryAxis = function (options) {\n        var axis = new GroupedCategoryAxis();\n        this.initAxis(axis, options);\n        return axis;\n    };\n    ChartBuilder.createTimeAxis = function (options) {\n        var axis = new TimeAxis();\n        this.initAxis(axis, options);\n        return axis;\n    };\n    ChartBuilder.createAxis = function (options, defaultType) {\n        var AxisClass = this.toAxisClass(options.type || defaultType);\n        if (!AxisClass) {\n            throw new Error('Unknown axis type');\n        }\n        var axis = new AxisClass();\n        this.initAxis(axis, options);\n        return axis;\n    };\n    ChartBuilder.toAxisClass = function (type) {\n        return this.types.get(type);\n    };\n    ChartBuilder.setValueIfExists = function (target, property, value, transform) {\n        if (value === undefined) {\n            return;\n        }\n        target[property] = transform ? transform(value) : value;\n    };\n    ChartBuilder.setTransformedValueIfExists = function (target, property, transform, value) {\n        if (value === undefined) {\n            return;\n        }\n        target[property] = transform(value);\n    };\n    ChartBuilder.markerShapes = convertToMap([\n        ['circle', Circle],\n        ['cross', Cross],\n        ['diamond', Diamond],\n        ['plus', Plus],\n        ['square', Square],\n        ['triangle', Triangle]\n    ]);\n    ChartBuilder.createDropShadow = function (options) {\n        if (options === void 0) { options = {}; }\n        var shadow = new DropShadow();\n        shadow.enabled = options.enabled == null ? true : options.enabled;\n        shadow.xOffset = options.xOffset || 0;\n        shadow.yOffset = options.yOffset || 0;\n        shadow.blur = options.blur || 5;\n        shadow.color = options.color || 'rgba(0, 0, 0, 0.5)';\n        return shadow;\n    };\n    ChartBuilder.types = (function () {\n        var types = new Map();\n        types.set('category', CategoryAxis);\n        types.set('number', NumberAxis);\n        types.set('time', TimeAxis);\n        return types;\n    })();\n    return ChartBuilder;\n}());\nexport { ChartBuilder };\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationMinute } from \"./duration\";\nfunction floor(date) {\n    date.setUTCSeconds(0, 0);\n}\nfunction offset(date, minutes) {\n    date.setTime(date.getTime() + minutes * durationMinute);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationMinute;\n}\nfunction field(date) {\n    return date.getUTCMinutes();\n}\nexport var utcMinute = new CountableTimeInterval(floor, offset, count, field);\nexport default utcMinute;\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationHour } from \"./duration\";\nfunction floor(date) {\n    date.setUTCMinutes(0, 0, 0);\n}\nfunction offset(date, hours) {\n    date.setTime(date.getTime() + hours * durationHour);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationHour;\n}\nfunction field(date) {\n    return date.getUTCHours();\n}\nexport var utcHour = new CountableTimeInterval(floor, offset, count, field);\nexport default utcHour;\n","import { CountableTimeInterval } from \"./interval\";\nfunction floor(date) {\n    date.setUTCDate(1);\n    date.setUTCHours(0, 0, 0, 0);\n}\nfunction offset(date, months) {\n    date.setUTCMonth(date.getUTCMonth() + months);\n}\nfunction count(start, end) {\n    return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}\nfunction field(date) {\n    return date.getUTCMonth();\n}\nexport var utcMonth = new CountableTimeInterval(floor, offset, count, field);\nexport default utcMonth;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar _a, _b, _c, _d;\nimport { Padding } from \"../util/padding\";\nimport { CartesianChart } from \"./cartesianChart\";\nimport { NumberAxis } from \"./axis/numberAxis\";\nimport { CategoryAxis } from \"./axis/categoryAxis\";\nimport { LineSeries } from \"./series/cartesian/lineSeries\";\nimport { BarSeries } from \"./series/cartesian/barSeries\";\nimport { HistogramSeries } from \"./series/cartesian/histogramSeries\";\nimport { ScatterSeries } from \"./series/cartesian/scatterSeries\";\nimport { AreaSeries } from \"./series/cartesian/areaSeries\";\nimport { PolarChart } from \"./polarChart\";\nimport { PieSeries } from \"./series/polar/pieSeries\";\nimport { AxisLabel, AxisTick } from \"../axis\";\nimport { TimeAxis } from \"./axis/timeAxis\";\nimport { Caption } from \"../caption\";\nimport { DropShadow } from \"../scene/dropShadow\";\nimport { Legend, LegendPosition } from \"./legend\";\nimport { Navigator } from \"./navigator/navigator\";\nimport { NavigatorMask } from \"./navigator/navigatorMask\";\nimport { NavigatorHandle } from \"./navigator/navigatorHandle\";\nimport palette from \"./palettes\";\n/*\n    This file defines the specs for creating different kinds of charts, but\n    contains no code that uses the specs to actually create charts\n*/\nvar commonChartMappings = {\n    background: {\n        meta: {\n            defaults: {\n                visible: true,\n                fill: 'white'\n            }\n        }\n    },\n    padding: {\n        meta: {\n            constructor: Padding,\n            defaults: {\n                top: 20,\n                right: 20,\n                bottom: 20,\n                left: 20\n            }\n        }\n    },\n    title: {\n        meta: {\n            constructor: Caption,\n            defaults: {\n                enabled: true,\n                padding: new Padding(10),\n                text: 'Title',\n                fontStyle: undefined,\n                fontWeight: 'bold',\n                fontSize: 14,\n                fontFamily: 'Verdana, sans-serif',\n                color: 'rgba(70, 70, 70, 1)'\n            }\n        }\n    },\n    subtitle: {\n        meta: {\n            constructor: Caption,\n            defaults: {\n                enabled: true,\n                padding: new Padding(10),\n                text: 'Subtitle',\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: 'Verdana, sans-serif',\n                color: 'rgba(140, 140, 140, 1)'\n            }\n        }\n    },\n    legend: {\n        meta: {\n            constructor: Legend,\n            defaults: {\n                enabled: true,\n                position: LegendPosition.Right,\n                spacing: 20,\n                layoutHorizontalSpacing: 16,\n                layoutVerticalSpacing: 8,\n                itemSpacing: 8,\n                markerShape: undefined,\n                markerSize: 15,\n                strokeWidth: 1,\n                color: 'black',\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: 'Verdana, sans-serif'\n            }\n        }\n    }\n};\nvar chartDefaults = {\n    container: undefined,\n    data: [],\n    padding: new Padding(20),\n    title: undefined,\n    subtitle: undefined,\n};\nvar chartMeta = {\n    // Charts components' constructors normally don't take any parameters (which makes things consistent -- everything\n    // is configured the same way, via the properties, and makes the factory pattern work well) but the charts\n    // themselves are the exceptions.\n    // If a chart config has the (optional) `document` property, it will be passed to the constructor.\n    // There is no actual `document` property on the chart, it can only be supplied during instantiation.\n    constructorParams: ['document'],\n    setAsIs: ['container', 'data', 'tooltipOffset'],\n};\nvar axisDefaults = {\n    defaults: {\n        visibleRange: [0, 1],\n        gridStyle: [{\n                stroke: 'rgba(219, 219, 219, 1)',\n                lineDash: [4, 2]\n            }]\n    }\n};\nvar seriesDefaults = {\n    visible: true,\n    showInLegend: true\n};\nvar columnSeriesDefaults = {\n    fills: palette.fills,\n    strokes: palette.strokes,\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    xKey: '',\n    xName: '',\n    yKeys: [],\n    yNames: [],\n    grouped: false,\n    normalizedTo: undefined,\n    strokeWidth: 1,\n    shadow: undefined,\n    highlightStyle: {\n        fill: 'yellow'\n    }\n};\nvar shadowMapping = {\n    shadow: {\n        meta: {\n            constructor: DropShadow,\n            defaults: {\n                enabled: true,\n                color: 'rgba(0, 0, 0, 0.5)',\n                xOffset: 0,\n                yOffset: 0,\n                blur: 5\n            }\n        }\n    }\n};\nvar labelDefaults = {\n    enabled: true,\n    fontStyle: undefined,\n    fontWeight: undefined,\n    fontSize: 12,\n    fontFamily: 'Verdana, sans-serif',\n    color: 'rgba(70, 70, 70, 1)'\n};\nvar labelMapping = {\n    label: {\n        meta: {\n            defaults: __assign({}, labelDefaults)\n        }\n    }\n};\nvar axisMappings = {\n    line: {\n        meta: {\n            defaults: {\n                width: 1,\n                color: 'rgba(195, 195, 195, 1)'\n            }\n        }\n    },\n    title: {\n        meta: {\n            constructor: Caption,\n            defaults: {\n                enabled: true,\n                padding: new Padding(10),\n                text: 'Axis Title',\n                fontStyle: undefined,\n                fontWeight: 'bold',\n                fontSize: 12,\n                fontFamily: 'Verdana, sans-serif',\n                color: 'rgba(70, 70, 70, 1)'\n            }\n        }\n    },\n    label: {\n        meta: {\n            constructor: AxisLabel,\n            defaults: {\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: 'Verdana, sans-serif',\n                padding: 5,\n                color: 'rgba(87, 87, 87, 1)',\n                formatter: undefined\n            }\n        }\n    },\n    tick: {\n        meta: {\n            constructor: AxisTick,\n            defaults: {\n                width: 1,\n                size: 6,\n                color: 'rgba(195, 195, 195, 1)',\n                count: 10\n            }\n        }\n    }\n};\nvar mappings = (_a = {},\n    _a[CartesianChart.type] = __assign(__assign({ meta: __assign(__assign({ constructor: CartesianChart }, chartMeta), { defaults: __assign(__assign({}, chartDefaults), { axes: [{\n                        type: CategoryAxis.type,\n                        position: 'bottom'\n                    }, {\n                        type: NumberAxis.type,\n                        position: 'left'\n                    }] }) }) }, commonChartMappings), { axes: (_b = {},\n            _b[NumberAxis.type] = __assign({ meta: __assign({ constructor: NumberAxis, setAsIs: ['gridStyle', 'visibleRange'] }, axisDefaults) }, axisMappings),\n            _b[CategoryAxis.type] = __assign({ meta: __assign({ constructor: CategoryAxis, setAsIs: ['gridStyle', 'visibleRange'] }, axisDefaults) }, axisMappings),\n            _b[TimeAxis.type] = __assign({ meta: __assign({ constructor: TimeAxis, setAsIs: ['gridStyle', 'visibleRange'] }, axisDefaults) }, axisMappings),\n            _b), series: (_c = {},\n            _c[LineSeries.type] = {\n                meta: {\n                    constructor: LineSeries,\n                    defaults: {\n                        title: undefined,\n                        xKey: '',\n                        xName: '',\n                        yKey: '',\n                        yName: '',\n                        stroke: palette.fills[0],\n                        strokeWidth: 2,\n                        fillOpacity: 1,\n                        strokeOpacity: 1,\n                        highlightStyle: {\n                            fill: 'yellow'\n                        }\n                    }\n                },\n                highlightStyle: {},\n                marker: {}\n            },\n            _c.column = __assign(__assign({ meta: {\n                    constructor: BarSeries,\n                    defaults: __assign(__assign({ flipXY: false }, seriesDefaults), columnSeriesDefaults)\n                }, highlightStyle: {} }, labelMapping), shadowMapping),\n            _c.bar = __assign(__assign({ meta: {\n                    constructor: BarSeries,\n                    defaults: __assign(__assign({ flipXY: true }, seriesDefaults), columnSeriesDefaults)\n                }, highlightStyle: {} }, labelMapping), shadowMapping),\n            _c[ScatterSeries.type] = {\n                meta: {\n                    constructor: ScatterSeries,\n                    defaults: __assign(__assign({}, seriesDefaults), { title: undefined, xKey: '', yKey: '', sizeKey: undefined, labelKey: undefined, xName: '', yName: '', sizeName: 'Size', labelName: 'Label', fill: palette.fills[0], stroke: palette.strokes[0], strokeWidth: 2, fillOpacity: 1, strokeOpacity: 1, tooltipRenderer: undefined, highlightStyle: {\n                            fill: 'yellow'\n                        } })\n                },\n                highlightStyle: {},\n                marker: {}\n            },\n            _c[AreaSeries.type] = __assign({ meta: {\n                    constructor: AreaSeries,\n                    defaults: __assign(__assign({}, seriesDefaults), { xKey: '', xName: '', yKeys: [], yNames: [], normalizedTo: undefined, fills: palette.fills, strokes: palette.strokes, fillOpacity: 1, strokeOpacity: 1, strokeWidth: 2, shadow: undefined, highlightStyle: {\n                            fill: 'yellow'\n                        } })\n                }, highlightStyle: {}, marker: {} }, shadowMapping),\n            _c[HistogramSeries.type] = {\n                meta: {\n                    constructor: HistogramSeries,\n                    defaults: __assign(__assign({}, seriesDefaults), { title: undefined, xKey: '', yKey: '', xName: '', yName: '', fill: palette.fills[0], stroke: palette.strokes[0], strokeWidth: 1, fillOpacity: 1, strokeOpacity: 1, aggregation: 'sum', tooltipRenderer: undefined, highlightStyle: {\n                            fill: 'yellow'\n                        } })\n                },\n                highlightStyle: {}\n            },\n            _c), navigator: {\n            meta: {\n                constructor: Navigator,\n                defaults: {\n                    enabled: false,\n                    height: 30,\n                    min: 0,\n                    max: 1\n                }\n            },\n            mask: {\n                meta: {\n                    constructor: NavigatorMask,\n                    defaults: {\n                        fill: '#999999',\n                        stroke: '#999999',\n                        strokeWidth: 1,\n                        fillOpacity: 0.2\n                    }\n                }\n            },\n            minHandle: {\n                meta: {\n                    constructor: NavigatorHandle,\n                    defaults: {\n                        fill: '#f2f2f2',\n                        stroke: '#999999',\n                        strokeWidth: 1,\n                        width: 8,\n                        height: 16,\n                        gripLineGap: 2,\n                        gripLineLength: 8\n                    }\n                }\n            },\n            maxHandle: {\n                meta: {\n                    constructor: NavigatorHandle,\n                    defaults: {\n                        fill: '#f2f2f2',\n                        stroke: '#999999',\n                        strokeWidth: 1,\n                        width: 8,\n                        height: 16,\n                        gripLineGap: 2,\n                        gripLineLength: 8\n                    }\n                }\n            }\n        } }),\n    _a[PolarChart.type] = __assign(__assign({ meta: __assign(__assign({ constructor: PolarChart }, chartMeta), { defaults: __assign(__assign({}, chartDefaults), { padding: new Padding(40) }) }) }, commonChartMappings), { series: (_d = {},\n            _d[PieSeries.type] = __assign({ meta: {\n                    constructor: PieSeries,\n                    defaults: __assign(__assign({}, seriesDefaults), { title: undefined, calloutColors: palette.strokes, calloutStrokeWidth: 1, calloutLength: 10, angleKey: '', angleName: '', radiusKey: undefined, radiusName: undefined, labelKey: undefined, labelName: undefined, fills: palette.fills, strokes: palette.strokes, fillOpacity: 1, strokeOpacity: 1, rotation: 0, outerRadiusOffset: 0, innerRadiusOffset: 0, strokeWidth: 1, shadow: undefined })\n                }, highlightStyle: {}, title: {\n                    meta: {\n                        constructor: Caption,\n                        defaults: {\n                            enabled: true,\n                            padding: new Padding(10),\n                            text: 'Series Title',\n                            fontStyle: undefined,\n                            fontWeight: 'bold',\n                            fontSize: 14,\n                            fontFamily: 'Verdana, sans-serif',\n                            color: 'black'\n                        }\n                    }\n                }, label: {\n                    meta: {\n                        defaults: __assign(__assign({}, labelDefaults), { offset: 3, minAngle: 20 })\n                    }\n                }, callout: {\n                    meta: {\n                        defaults: {\n                            colors: palette.strokes,\n                            length: 10,\n                            strokeWidth: 1\n                        }\n                    }\n                } }, shadowMapping),\n            _d) }),\n    _a);\n// Amend the `mappings` object with aliases for different chart types.\n{\n    var typeToAliases = {\n        cartesian: ['line', 'area', 'bar', 'column'],\n        polar: ['pie']\n    };\n    var _loop_1 = function (type) {\n        typeToAliases[type].forEach(function (alias) {\n            mappings[alias] = mappings[type];\n        });\n    };\n    for (var type in typeToAliases) {\n        _loop_1(type);\n    }\n}\n// Special handling for scatter and histogram charts, for which both axes should default to type `number`.\nmappings['scatter'] =\n    mappings['histogram'] = __assign(__assign({}, mappings.cartesian), { meta: __assign(__assign({}, mappings.cartesian.meta), { defaults: __assign(__assign({}, chartDefaults), { axes: [{\n                        type: 'number',\n                        position: 'bottom'\n                    }, {\n                        type: 'number',\n                        position: 'left'\n                    }] }) }) });\nexport default mappings;\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { find } from \"../util/array\";\nimport mappings from './chartMappings';\nvar AgChart = /** @class */ (function () {\n    function AgChart() {\n    }\n    AgChart.create = function (options, container, data) {\n        options = Object.create(options); // avoid mutating user provided options\n        if (container) {\n            options.container = container;\n        }\n        if (data) {\n            options.data = data;\n        }\n        // special handling when both `autoSize` and `width` / `height` are present in the options\n        var autoSize = options && options.autoSize;\n        var chart = create(options);\n        if (chart && autoSize) { // `autoSize` takes precedence over `width` / `height`\n            chart.autoSize = true;\n        }\n        // console.log(JSON.stringify(flattenObject(options), null, 4));\n        return chart;\n    };\n    AgChart.update = function (chart, options) {\n        var autoSize = options && options.autoSize;\n        update(chart, Object.create(options));\n        if (chart && autoSize) {\n            chart.autoSize = true;\n        }\n    };\n    return AgChart;\n}());\nexport { AgChart };\nvar pathToSeriesTypeMap = {\n    'cartesian.series': 'line',\n    'line.series': 'line',\n    'area.series': 'area',\n    'bar.series': 'bar',\n    'column.series': 'column',\n    'scatter.series': 'scatter',\n    'polar.series': 'pie',\n    'pie.series': 'pie'\n};\nfunction provideDefaultType(options, path) {\n    if (!path) { // if `path` is undefined, `options` is a top-level (chart) config\n        provideDefaultChartType(options);\n    }\n    if (!options.type) {\n        var seriesType = pathToSeriesTypeMap[path];\n        if (seriesType) {\n            options.type = seriesType;\n        }\n    }\n}\nfunction getMapping(path) {\n    var parts = path.split('.');\n    var value = mappings;\n    parts.forEach(function (part) {\n        value = value[part];\n    });\n    return value;\n}\nfunction create(options, path, component) {\n    var _a;\n    provideDefaultType(options, path);\n    if (path) {\n        if (options.type) {\n            path = path + '.' + options.type;\n        }\n    }\n    else {\n        path = options.type;\n    }\n    var mapping = getMapping(path);\n    if (mapping) {\n        provideDefaultOptions(options, mapping);\n        var meta = mapping.meta || {};\n        var constructorParams = meta.constructorParams || [];\n        var skipKeys = ['type', 'listeners'].concat(constructorParams);\n        // TODO: Constructor params processing could be improved, but it's good enough for current params.\n        var constructorParamValues = constructorParams\n            .map(function (param) { return options[param]; })\n            .filter(function (value) { return value !== undefined; });\n        component = component || new ((_a = meta.constructor).bind.apply(_a, __spreadArrays([void 0], constructorParamValues)))();\n        var _loop_1 = function (key) {\n            // Process every non-special key in the config object.\n            if (skipKeys.indexOf(key) < 0) {\n                var value = options[key];\n                if (value && key in mapping && !(meta.setAsIs && meta.setAsIs.indexOf(key) >= 0)) {\n                    if (Array.isArray(value)) {\n                        var subComponents = value.map(function (config) { return create(config, path + '.' + key); }).filter(function (config) { return !!config; });\n                        component[key] = subComponents;\n                    }\n                    else {\n                        if (mapping[key] && component[key]) {\n                            // The instance property already exists on the component (e.g. chart.legend).\n                            // Simply configure the existing instance, without creating a new one.\n                            create(value, path + '.' + key, component[key]);\n                        }\n                        else {\n                            var subComponent = create(value, value.type ? path : path + '.' + key);\n                            if (subComponent) {\n                                component[key] = subComponent;\n                            }\n                        }\n                    }\n                }\n                else { // if (key in meta.constructor.defaults) { // prevent users from creating custom properties\n                    component[key] = value;\n                }\n            }\n        };\n        for (var key in options) {\n            _loop_1(key);\n        }\n        var listeners = options.listeners;\n        if (component && component.addEventListener && listeners) {\n            for (var key in listeners) {\n                if (listeners.hasOwnProperty(key)) {\n                    var listener = listeners[key];\n                    if (typeof listener === 'function') {\n                        component.addEventListener(key, listener);\n                    }\n                }\n            }\n        }\n        return component;\n    }\n}\nfunction update(component, options, path) {\n    if (!(options && typeof options === 'object')) {\n        return;\n    }\n    provideDefaultType(options, path);\n    if (path) {\n        if (options.type) {\n            path = path + '.' + options.type;\n        }\n    }\n    else {\n        path = options.type;\n    }\n    var mapping = getMapping(path);\n    if (mapping) {\n        provideDefaultOptions(options, mapping);\n        var meta = mapping.meta || {};\n        var constructorParams = meta && meta.constructorParams || [];\n        var skipKeys = ['type'].concat(constructorParams);\n        for (var key in options) {\n            if (skipKeys.indexOf(key) < 0) {\n                var value = options[key];\n                var keyPath = path + '.' + key;\n                if (meta.setAsIs && meta.setAsIs.indexOf(key) >= 0) {\n                    component[key] = value;\n                }\n                else {\n                    var oldValue = component[key];\n                    if (Array.isArray(oldValue) && Array.isArray(value)) {\n                        if (path in mappings) { // component is a chart\n                            if (key === 'series') {\n                                var chart = component;\n                                var configs = value;\n                                var allSeries = oldValue;\n                                var prevSeries = void 0;\n                                var i = 0;\n                                for (; i < configs.length; i++) {\n                                    var config = configs[i];\n                                    var series = allSeries[i];\n                                    if (series) {\n                                        provideDefaultType(config, keyPath);\n                                        if (series.type === config.type) {\n                                            update(series, config, keyPath);\n                                        }\n                                        else {\n                                            var newSeries = create(config, keyPath);\n                                            chart.removeSeries(series);\n                                            chart.addSeriesAfter(newSeries, prevSeries);\n                                            series = newSeries;\n                                        }\n                                    }\n                                    else { // more new configs than existing series\n                                        var newSeries = create(config, keyPath);\n                                        chart.addSeries(newSeries);\n                                    }\n                                    prevSeries = series;\n                                }\n                                // more existing series than new configs\n                                for (; i < allSeries.length; i++) {\n                                    var series = allSeries[i];\n                                    if (series) {\n                                        chart.removeSeries(series);\n                                    }\n                                }\n                            }\n                            else if (key === 'axes') {\n                                var chart = component;\n                                var configs = value;\n                                var axes = oldValue;\n                                var axesToAdd = [];\n                                var axesToUpdate = [];\n                                var _loop_2 = function (config) {\n                                    var axisToUpdate = find(axes, function (axis) {\n                                        return axis.type === config.type && axis.position === config.position;\n                                    });\n                                    if (axisToUpdate) {\n                                        axesToUpdate.push(axisToUpdate);\n                                        update(axisToUpdate, config, keyPath);\n                                    }\n                                    else {\n                                        var axisToAdd = create(config, keyPath);\n                                        if (axisToAdd) {\n                                            axesToAdd.push(axisToAdd);\n                                        }\n                                    }\n                                };\n                                for (var _i = 0, configs_1 = configs; _i < configs_1.length; _i++) {\n                                    var config = configs_1[_i];\n                                    _loop_2(config);\n                                }\n                                chart.axes = axesToUpdate.concat(axesToAdd);\n                            }\n                        }\n                        else {\n                            component[key] = value;\n                        }\n                    }\n                    else if (typeof oldValue === 'object') {\n                        if (value) {\n                            update(oldValue, value, value.type ? path : keyPath);\n                        }\n                        else if (key in options) {\n                            component[key] = value;\n                        }\n                    }\n                    else {\n                        var subComponent = isObject(value) && create(value, value.type ? path : keyPath);\n                        if (subComponent) {\n                            component[key] = subComponent;\n                        }\n                        else {\n                            component[key] = value;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    if (path in mappings) { // top-level component (chart)\n        component.performLayout();\n    }\n}\nfunction provideDefaultChartType(options) {\n    // If chart type is not specified, try to infer it from the type of first series.\n    if (!options.type) {\n        var series = options.series && options.series[0];\n        if (series && series.type) {\n            outerLoop: for (var chartType in mappings) {\n                for (var seriesType in mappings[chartType].series) {\n                    if (series.type === seriesType) {\n                        options.type = chartType;\n                        break outerLoop;\n                    }\n                }\n            }\n        }\n        if (!options.type) {\n            options.type = 'cartesian';\n        }\n    }\n}\n/**\n * If certain options were not provided by the user, use the defaults from the mapping.\n * @param options\n * @param mapping\n */\nfunction provideDefaultOptions(options, mapping) {\n    var defaults = mapping && mapping.meta && mapping.meta.defaults;\n    if (defaults) {\n        for (var key in defaults) {\n            if (!(key in options)) {\n                options[key] = defaults[key];\n            }\n        }\n    }\n}\nfunction isObject(value) {\n    return typeof value === 'object' && !Array.isArray(value);\n}\n","export * from \"./caption\";\nexport * from \"./chart/axis/categoryAxis\";\nexport * from \"./chart/axis/groupedCategoryAxis\";\nexport * from \"./chart/cartesianChart\";\nexport * from \"./chart/chart\";\nexport * from \"./chart/chartAxis\";\nexport * from \"./chart/groupedCategoryChart\";\nexport * from \"./chart/palettes\";\nexport * from \"./chart/polarChart\";\nexport * from \"./chart/marker/marker\";\nexport * from \"./chart/series/cartesian/areaSeries\";\nexport * from \"./chart/series/cartesian/barSeries\";\nexport * from \"./chart/series/cartesian/lineSeries\";\nexport * from \"./chart/series/cartesian/scatterSeries\";\nexport * from \"./chart/series/cartesian/histogramSeries\";\nexport * from \"./chart/series/polar/pieSeries\";\nexport * from \"./chartBuilder\";\nexport * from \"./chartOptions\";\nexport * from \"./scale/bandScale\";\nexport * from \"./scale/linearScale\";\nexport { default as linearScale } from \"./scale/linearScale\";\nexport * from \"./scene/clipRect\";\nexport * from \"./scene/dropShadow\";\nexport * from \"./scene/group\";\nexport * from \"./scene/scene\";\nexport * from \"./scene/shape/arc\";\nexport * from \"./scene/shape/line\";\nexport * from \"./scene/shape/path\";\nexport * from \"./scene/shape/rect\";\nexport * from \"./scene/shape/sector\";\nexport * from \"./scene/shape/shape\";\nexport * from \"./util/angle\";\nexport * from \"./util/array\";\nexport * from \"./util/padding\";\nimport { millisecond } from \"./util/time/millisecond\";\nimport { second } from \"./util/time/second\";\nimport { minute } from \"./util/time/minute\";\nimport { hour } from \"./util/time/hour\";\nimport { day } from \"./util/time/day\";\nimport { sunday, monday, tuesday, wednesday, thursday, friday, saturday } from \"./util/time/week\";\nimport { month } from \"./util/time/month\";\nimport { year } from \"./util/time/year\";\nimport { utcMinute } from \"./util/time/utcMinute\";\nimport { utcHour } from \"./util/time/utcHour\";\nimport { utcDay } from \"./util/time/utcDay\";\nimport { utcMonth } from \"./util/time/utcMonth\";\nimport { utcYear } from \"./util/time/utcYear\";\nexport var time = {\n    millisecond: millisecond,\n    second: second,\n    minute: minute,\n    hour: hour,\n    day: day,\n    sunday: sunday, monday: monday, tuesday: tuesday, wednesday: wednesday, thursday: thursday, friday: friday, saturday: saturday,\n    month: month,\n    year: year,\n    utcMinute: utcMinute,\n    utcHour: utcHour,\n    utcDay: utcDay,\n    utcMonth: utcMonth,\n    utcYear: utcYear\n};\nexport * from \"./chart/agChart\";\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Vue } from 'vue-property-decorator';\nimport { AgChart } from 'ag-charts-community';\nvar AgChartsVue = /** @class */ (function (_super) {\n    __extends(AgChartsVue, _super);\n    function AgChartsVue() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isCreated = false;\n        _this.isDestroyed = false;\n        return _this;\n    }\n    AgChartsVue.prototype.render = function (h) {\n        return h('div', { style: { height: '100%' } });\n    };\n    AgChartsVue.prototype.mounted = function () {\n        var _this = this;\n        var options = this.applyContainerIfNotSet(this.options);\n        this.chart = AgChart.create(options);\n        this.$watch('options', function (newValue, oldValue) {\n            _this.processChanges(newValue, oldValue);\n        });\n        this.isCreated = true;\n    };\n    AgChartsVue.prototype.destroyed = function () {\n        if (this.isCreated) {\n            if (this.chart) {\n                this.chart.destroy();\n            }\n            this.isDestroyed = true;\n        }\n    };\n    AgChartsVue.prototype.processChanges = function (currentValue, previousValue) {\n        if (this.isCreated) {\n            AgChart.update(this.chart, this.applyContainerIfNotSet(this.options));\n        }\n    };\n    AgChartsVue.prototype.applyContainerIfNotSet = function (propsOptions) {\n        if (propsOptions.container) {\n            return propsOptions;\n        }\n        return __assign(__assign({}, propsOptions), { container: this.$el });\n    };\n    AgChartsVue = __decorate([\n        Component({\n            props: {\n                options: {},\n            },\n        })\n    ], AgChartsVue);\n    return AgChartsVue;\n}(Vue));\nexport { AgChartsVue };\n"],"sourceRoot":""}