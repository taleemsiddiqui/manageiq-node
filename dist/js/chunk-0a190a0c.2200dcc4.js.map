{"version":3,"sources":["webpack:///./node_modules/vue-class-component/dist/vue-class-component.esm.js","webpack:///./node_modules/vue-property-decorator/lib/vue-property-decorator.js","webpack:///./src/views/my-resources/Resources.vue?70f5","webpack:///src/views/my-resources/Resources.vue","webpack:///./src/views/my-resources/Resources.vue?da34","webpack:///./src/views/my-resources/Resources.vue","webpack:///./node_modules/ag-charts-vue/main.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/node.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/padding.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/bbox.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/matrix.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/id.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/object.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/shape/shape.js","webpack:///./node_modules/ag-charts-community/dist/es6/canvas/hdpiCanvas.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/shape/text.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/observable.js","webpack:///./node_modules/ag-charts-community/dist/es6/caption.js","webpack:///./node_modules/ag-charts-community/dist/es6/scale/bandScale.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/group.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/selection.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/shape/line.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/angle.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/polyRoots.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/intersection.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/path2D.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/shape/path.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/number.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/shape/arc.js","webpack:///./node_modules/ag-charts-community/dist/es6/axis.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/chartAxis.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/axis/categoryAxis.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/array.js","webpack:///./node_modules/ag-charts-community/dist/es6/layout/tree.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/axis/groupedCategoryAxis.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/shape/rect.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/scene.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/marker.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/square.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/markerLabel.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/circle.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/cross.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/diamond.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/heart.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/plus.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/triangle.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/marker/util.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/legend.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/sizeMonitor.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/series.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/seriesMarker.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/cartesian/cartesianSeries.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/chart.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/clipRect.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/shapes/rangeHandle.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/shapes/rangeMask.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/shapes/rangeSelector.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/navigator/navigatorMask.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/navigator/navigatorHandle.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/navigator/navigator.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/cartesianChart.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/groupedCategoryChart.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/palettes.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/polar/polarSeries.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/polarChart.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/equal.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/cartesian/areaSeries.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/cartesian/barSeries.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/label.js","webpack:///./node_modules/ag-charts-community/dist/es6/interpolate/constant.js","webpack:///./node_modules/ag-charts-community/dist/es6/interpolate/number.js","webpack:///./node_modules/ag-charts-community/dist/es6/interpolate/date.js","webpack:///./node_modules/ag-charts-community/dist/es6/interpolate/array.js","webpack:///./node_modules/ag-charts-community/dist/es6/interpolate/object.js","webpack:///./node_modules/ag-charts-community/dist/es6/interpolate/value.js","webpack:///./node_modules/ag-charts-community/dist/es6/scale/continuousScale.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/cartesian/lineSeries.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/ticks.js","webpack:///./node_modules/ag-charts-community/dist/es6/scale/linearScale.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/cartesian/scatterSeries.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/cartesian/histogramSeries.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/series/polar/pieSeries.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/shape/sector.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/color.js","webpack:///./node_modules/ag-charts-community/dist/es6/scene/dropShadow.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/axis/numberAxis.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/map.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/interval.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/millisecond.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/duration.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/second.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/minute.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/hour.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/day.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/week.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/month.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/year.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/compare.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/bisect.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/utcDay.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/utcYear.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/utcWeek.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/format/locale.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/format/defaultLocale.js","webpack:///./node_modules/ag-charts-community/dist/es6/scale/timeScale.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/axis/timeAxis.js","webpack:///./node_modules/ag-charts-community/dist/es6/chartBuilder.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/utcMinute.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/utcHour.js","webpack:///./node_modules/ag-charts-community/dist/es6/util/time/utcMonth.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/chartMappings.js","webpack:///./node_modules/ag-charts-community/dist/es6/chart/agChart.js","webpack:///./node_modules/ag-charts-community/dist/es6/main.js","webpack:///./node_modules/ag-charts-vue/lib/AgChartsVue.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Array","isArray","i","arr2","length","iter","toString","call","from","TypeError","reflectionIsSupported","Reflect","defineMetadata","getOwnMetadataKeys","copyReflectionMetadata","to","forwardMetadata","getOwnPropertyNames","forEach","propertyKey","metaKeys","metaKey","metadata","getOwnMetadata","fakeArray","__proto__","hasProto","createDecorator","factory","target","index","Ctor","__decorators__","undefined","push","options","isPrimitive","type","collectDataFromConstructor","vm","Component","originalInit","_init","_this","this","keys","$options","props","hasOwnProperty","charAt","get","set","data","plainData","$internalHooks","componentFactory","arguments","name","_componentTag","proto","indexOf","descriptor","getOwnPropertyDescriptor","methods","mixins","computed","decorators","fn","superProto","getPrototypeOf","Super","Extended","extend","forwardStaticMembers","shouldIgnore","callee","caller","Original","extendedDescriptor","superDescriptor","registerHooks","apply","reflectMetadataIsSupported","getMetadata","applyMetadata","Prop","componentOptions","k","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_l","instanceData","instance","id","_v","_s","vendor","getColor","power_state","staticRenderFns","components","AgChartsVue","data1","series","label","powerState","color","console","log","fetch","then","response","json","component","__export","m","p","exports","PointerEvents","Padding","top","right","bottom","left","clear","BBox","x","y","width","height","isValid","isFinite","dilate","containsPoint","ctx","params","noParams","save","resetTransform","setTransform","strokeStyle","lineWidth","strokeRect","fillStyle","textBaseline","fillText","restore","Matrix","elements","setElements","e","setIdentityElements","AxB","A","B","C","m11","m12","m21","m22","m31","m32","o11","o12","o21","o22","o31","o32","multiplySelf","other","multiply","preMultiplySelf","inverse","_a","a","b","c","d","f","rD","inverseTo","invertSelf","clone","slice","transformPoint","transformBBox","bbox","radius","w","h","xx","xy","yx","yy","h_w","h_h","cx","cy","sx","Math","sqrt","sy","abs","toContext","identity","transform","flyweight","matrix","createId","className","Error","Node","tag","NaN","isContainerNode","_children","childSet","inverseMatrix","_dirtyTransform","_scalingX","_scalingY","_scalingCenterX","_scalingCenterY","_rotationCenterX","_rotationCenterY","_rotation","_translationX","_translationY","_dirty","_visible","pointerEvents","All","isNode","node","_setScene","_scene","children","n","_setParent","_parent","countChildren","depth","MAX_SAFE_INTEGER","size","append","nodes","parent","scene","dirty","appendChild","removeChild","splice","insertBefore","nextNode","inverseTransformPoint","dirtyTransform","rotation","PI","pickNode","visible","None","hit","computeBBox","computeBBoxCenter","computeTransformMatrix","scx","scy","bbcx","bbcy","scalingX","scalingY","scalingCenterX","scalingCenterY","rcx","rcy","r","cos","sin","rotationCenterX","rotationCenterY","tx","translationX","ty","translationY","tx4","ty4","pow","chainObjects","child","create","prop","__extends","extendStatics","setPrototypeOf","__","_super","Shape","lastInstanceId","_fillOpacity","_strokeOpacity","_fill","defaultStyles","fill","_stroke","stroke","_strokeWidth","strokeWidth","_lineDash","lineDash","_lineDashOffset","lineDashOffset","_lineCap","lineCap","_lineJoin","lineJoin","_opacity","opacity","onShadowChange","_fillShadow","fillShadow","_strokeShadow","strokeShadow","createInstance","template","shape","String","restoreOwnStyles","styles","restoreAllStyles","property","restoreOverriddenStyles","protoStyles","floor","align","alignment","start","oldValue","identical","min","max","removeEventListener","addEventListener","fillStroke","pixelRatio","canvas","globalAlpha","fillOpacity","enabled","shadowColor","shadowOffsetX","xOffset","shadowOffsetY","yOffset","shadowBlur","blur","strokeOpacity","setLineDash","isPointInPath","HdpiCanvas","document","window","_container","_pixelRatio","element","createElement","context","getContext","style","userSelect","display","setPixelRatio","resize","remove","parentNode","destroy","_canvas","freeze","toImage","img","src","getDataURL","toDataURL","download","fileName","trim","dataUrl","navigator","msSaveOrOpenBlob","binary","atob","split","array","charCodeAt","blob","Blob","Uint8Array","href","body","click","ratio","devicePixelRatio","overrideScale","imageRendering","_width","_height","round","_textMeasuringContext","_svgText","xmlns","svg","createElementNS","setAttribute","classList","add","position","visibility","svgText","_has","textMetrics","textMeasuringContext","measureText","actualBoundingBoxDescent","test","userAgent","getTransform","text","font","textAlign","getTextSize","has","metrics","actualBoundingBoxAscent","measureSvgText","cache","textSizeCache","fontCache","size_1","textContent","getBBox","scale","overrides","$save","$restore","$setTransform","name_1","Text","_x","_y","lineBreakRegex","lines","_text","_dirtyFont","_fontSize","_fontFamily","_textAlign","_textBaseline","_lineHeight","splitText","str","dirtyFont","_font","fontStyle","fontWeight","fontSize","fontFamily","join","_fontStyle","_fontWeight","getPreciseBBox","getApproximateBBox","actualBoundingBoxLeft","point","isPointInStroke","_b","strokeText","__assign","assign","t","s","Observable","allPropertyListeners","Map","allEventListeners","addPropertyListener","listener","scope","propertyListeners","scopes","Set","removePropertyListener","delete","notifyPropertyListeners","source","eventListeners","notifyEventListeners","types","listeners","fireEvent","event","privateKeyPrefix","reactive","events","_i","privateKey","privateKeyEvents","events_1","__decorate","desc","decorate","Caption","padding","BandScale","ordinalRange","_domain","_range","_bandwidth","_paddingInner","_paddingOuter","_round","_align","values","domain","rescale","ticks","convert","reversed","step","reverse","Group","Infinity","parent_1","EnterNode","datum","next","Selection","groups","parents","select","selectAll","Class","appendFn","creator","group","selector","numGroups","subgroups","j","groupSize","subgroup","subnode","selectByClass","selectByTag","selectAllByClass","selectAllByTag","selectNone","selectorAll","groupCount","groupLength","each","cb","merge","groups0","groups1","m0","m1","merges","group0","group1","attr","attrFn","_","enterGroups","exitGroups","setDatum","setData","data_1","updateGroups","parent_2","dataSize","enterGroup","updateGroup","exitGroup","bindKey","bindIndex","i0","i1","previous","result","enter","update","exit","keyValues","nodeByKeyValue","keyValue","keyPrefix","Line","_x1","_y1","_x2","_y2","x1","y1","x2","y2","beginPath","moveTo","lineTo","twoPi","normalizeAngle360","radians","normalizeAngle360Inclusive","normalizeAngle180","toRadians","degrees","sign","isNaN","linearRoot","quadraticRoots","D","roots","t1","t2","cubicRoots","Q","R","third","S","T","Im","t_1","theta","acos","thirdA","twoSqrtQ","t3","segmentIntersection","ax1","ay1","ax2","ay2","bx1","by1","bx2","by2","ua","ub","cubicSegmentIntersections","px1","py1","px2","py2","px3","py3","px4","py4","intersections","bx","bezierCoefficients","by","tt","ttt","P1","P2","P3","P4","Path2D","commands","_closedPath","rect","closePath","arcTo","rx","ry","fA","fS","hdx","hdy","sinPhi","cosPhi","xp","yp","ratX","ratY","lambda","cpx","cpy","theta1","atan2","deltaTheta","cubicArc","arcToAlt","x1p","y1p","rx_y1p","ry_x1p","root","rootSign","cxp","phi","theta2","anticlockwise","temp","f90","sinTheta1","cosTheta1","rightAngle","lastX","tan","sinPhi2","cosPhi2","C2x","C2y","deCasteljau","points","newPoints","last","approximateCurve","xy_1","quadraticCurveTo","cubicCurveTo","cx1","cy1","cx2","cy2","cn","ox","oy","px","py","intersectionCount","ci","pi","fromString","path","setFromString","parseSvgPath","splitCommandsRe","map","part","strParams","match","matchParamsRe","command","substr","parseFloat","prettifySvgPath","lastCommand","parts","checkQuadraticCP","quadraticCommandRe","checkCubicCP","cubicCommandRe","out","toPrettyString","toSvg","xmlDeclaration","toDebugSvg","toCubicPaths","paths","cubicPathToString","Path","_dirtyPath","_svgPath","closedPath","updatePath","dirtyPath","appendPath","isEqual","epsilon","toFixed","fractionOrSignificantDigits","power","LN10","ArcType","Tags","Arc","_centerX","_centerY","_radiusX","_radiusY","_startAngle","_endAngle","_counterClockwise","_type","Open","startAngle","endAngle","centerX","centerY","radiusX","radiusY","counterClockwise","Chord","Round","fullPie","ChartAxisDirection","ChartAxisPosition","AxisTick","count","AxisLabel","mirrored","parallel","_format","onFormatChange","Axis","lineNode","line","tick","translation","_visibleRange","_title","_gridLength","gridStyle","_radialGrid","requestedRange","range","groupSelection","onTickFormatChange","bind","updateRange","rr","vr","visibleRange","span","shift","format","tickFormat","tickFormatter","oldTitle","requestedRangeMin","requestedRangeMax","parallelLabels","labelRotation","halfBandwidth","bandwidth","sideFlag","parallelFlipRotation","parallelFlipFlag","regularFlipRotation","regularFlipFlag","alignFlag","Tick","gridLength","radialGrid","GridLine","styleCount_1","gridLines","angularGridLength_1","arc","gridLine","fractionDigits","labelSelection","formatter","labelX","autoRotation","title","titleVisible","titleNode","excludeTitle","titleRotationFlag","labels","labelBBox","flipChartAxisDirection","direction","X","Y","ChartAxis","boundSeries","_position","Top","Right","Bottom","Left","CategoryAxis","paddingInner","paddingOuter","find","predicate","ln","finiteExtent","numericExtent","calculatedExtent","Date","getTime","findMinMax","values_1","findLargestMinMax","totals","totals_1","total","TreeNode","number","subtreeLeft","subtreeRight","screenX","screenY","leafCount","prelim","mod","ancestor","change","getLeftSibling","getLeftmostSibling","nextLeft","thread","nextRight","getSiblings","filter","ticksToTree","pad","unshift","insertTick","pathParts","lastPartIndex","pathPart","partIndex","existingNode","isNotLeaf","moveSubtree","wm","wp","subtrees","vim","v","defaultAncestor","executeShifts","apportion","distance","vop","vip","vom","sip","sop","sim","som","firstWalk","defaultAncestor_1","midpoint","leftSibling","Dimensions","secondWalk","layout","thirdWalk","treeLayout","TreeLayout","dimensions","leafNodes","nonLeafNodes","shiftX","shiftY","flipX","xSteps","ySteps","existingSpacingX","desiredSpacingX","existingSpacingY","desiredSpacingY","screenDimensions","offsetX","offsetY","RectSizing","GroupedCategoryAxisLabel","grid","GroupedCategoryAxis","tickScale","longestSeparatorLength","labelColor","gridLineSelection","axisLineSelection","separatorSelection","tickTree","tickTreeLayout","resizeTickTree","lineHeight","rangeStart","rangeEnd","rangeLength","isHorizontal","treeLabels","isLabelTree","updateGridLines","enterGridLines","updateLabels","enterLabels","labelFormatter","maxLeafLabelWidth","labelGrid","separatorData","minX","updateSeparators","enterSeparators","lineCount","updateAxisLines","enterAxisLines","styles_1","includeTitle","Scene","animationFrameId","_root","debug","renderFrameIndex","renderBoundingBoxes","_frameIndex","pendingSize","clearRect","fillRect","frameIndex","container","requestAnimationFrame","cancelRender","cancelAnimationFrame","bezierCurveTo","Rect","_radius","_crisp","effectiveStrokeWidth","_sizing","Content","crisp","sizing","Border","borderSizing","halfWidth","halfHeight","al","Marker","_size","half","Square","hs","MarkerLabel","_marker","_markerSize","_spacing","marker","markerSize","spacing","Circle","Cross","Diamond","Heart","rad","degree","Plus","Triangle","getMarker","LegendOrientation","LegendPosition","Legend","itemSelection","oldSize","orientation","Vertical","layoutHorizontalSpacing","layoutVerticalSpacing","itemSpacing","onDataChange","onEnabledChange","onPositionChange","onMarkerShapeChange","Horizontal","performLayout","markerShape","updateSelection","MarkerShape","itemId","enterSelection","itemCount","bboxes","markerLabel","itemHeight","rowCount","columnWidth","paddedItemsWidth","paddedItemsHeight","columnCount","itemsWidth","itemsHeight","columnCount_1","startX","startY","markerFill","markerStroke","markerStrokeWidth","markerFillOpacity","markerStrokeOpacity","getDatumForPoint","SizeMonitor","init","NativeResizeObserver","ResizeObserver","resizeObserver","entries","entries_1","entry","contentRect","checkSize","clientWidth","clientHeight","setInterval","ready","observe","unobserve","requestAnimationFrameId","Series","directions","tooltipEnabled","showInLegend","scheduleLayout","scheduleData","getKeys","directionKeys","getNodeData","fireNodeClickEvent","toggleSeriesItem","onHighlightChange","fixNumericExtent","extent","SeriesMarker","minSize","CartesianSeries","CartesianSeriesMarker","defaultTooltipCss","Chart","background","legend","legendAutoPadding","captionAutoPadding","_data","_autoSize","_axes","_series","_axesChanged","_seriesChanged","layoutCallbackId","_performLayout","layoutPending","dataCallbackId","_onMouseDown","onMouseDown","_onMouseUp","onMouseUp","_onMouseMove","onMouseMove","_onMouseOut","onMouseOut","_onClick","onClick","_tooltipClass","defaultTooltipClass","tooltipTracking","_element","boxSizing","overflow","autoSize","onLayoutChange","onLegendPositionChange","tooltipElement","tooltipClass","tooltipDocuments","styleElement","innerHTML","head","querySelector","setupDomListeners","onCaptionChange","chart_1","tooltipParent","cleanupDomListeners","axis","detachAxis","linkedTo","concat","attachAxis","axesChanged","seriesRoot","removeAllSeries","addSeries","dehighlightDatum","dataPending","before","allSeries","canAdd","beforeIndex","initSeries","seriesChanged","chart","updateLegend","onSeriesNodeClick","freeSeries","addSeriesAfter","after","afterIndex","removeSeries","assignSeriesToAxes","axes","axisName","assignAxesToSeries","force","directionToAxesMap","directionAxes","findMatchingAxis","xAxis","warn","yAxis","axisKeys","clearTimeout","setTimeout","processData","legendData","listSeriesItems","positionCaptions","subtitle","subtitleVisible","paddingTop","titleBBox","subtitleBBox","positionLegend","legendBBox","legendGroup","legendSpacing","chartElement","pickSeriesNode","seriesRect","pickClosestSeriesNodeDatum","closestDatum","minDistance","_loop_1","hitPoint","getDistance","p1","p2","nodeDatum","lastPick","pick","showTooltip","onSeriesDatumPick","hideTooltip","canvasRect","getBoundingClientRect","pageX","pageXOffset","pageY","pageYOffset","toggleTooltip","checkSeriesNodeClick","checkLegendClick","id_1","meta","highlightDatum","html","getTooltipHtml","highlightedDatum","updateTooltipClass","constrained","el","tooltipRect","minLeft","maxLeft","innerWidth","ClipRect","_active","active","clip","RangeHandle","_gripLineGap","_gripLineLength","ax","ay","axw","ayh","dx","gripLineGap","dy","gripLineLength","RangeMask","minRange","_min","_max","onRangeChange","computeVisibleRangeBBox","maxX","RangeSelector","minHandle","maxHandle","mask","defaults","updateHandles","NavigatorMask","rangeMask","rm","NavigatorHandle","rangeHandle","rh","Navigator","rs","minHandleDragging","maxHandleDragging","panHandleOffset","_margin","updateAxes","getRatio","cursor","stopHandleDragging","CartesianChart","_seriesRoot","shrinkRect","legendPadding","margin","bottomAxesHeight","axisThickness","domains_1","getDomain","GroupedCategoryChart","domains","isNumericX","domain_1","borneo","fills","strokes","material","pastel","bright","flat","PolarSeries","PolarSeriesMarker","PolarChart","equal","length_1","RegExp","flags","valueOf","BarSeriesNodeTag","AreaSeries","areaGroup","strokeGroup","markerGroup","areaSelection","strokeSelection","markerSelection","markerSelectionData","seriesItemEnabled","xData","yData","yDomain","_xKey","xName","_yKeys","yNames","highlightStyle","seriesItemEnabled_1","_normalizedTo","absValue","updateMarkerNodes","xKey","yKeys","keysFound","yKey","yMin","yMax","normalizedTo","yMinMax","yLargestMinMax","stack","generateSelectionData","areaSelectionData","updateAreaSelection","updateStrokeSelection","updateMarkerSelection","xScale","yScale","xDatum","yDatum","seriesDatum","prevMin","prevMax","curr","prev","yValue","areaDatum","areaPoints","shadow","updateAreas","enterAreas","updateStrokes","enterStrokes","updateMarkers","enterMarkers","markerFormatter","highlightFill","highlightStroke","highlighted","markerFormat","tooltipRenderer","yKeyIndex","yName","titleStyle","titleString","xValue","xString","yString","Label","__spreadArrays","il","jl","BarSeriesLabel","BarSeries","rectGroup","textGroup","rectSelection","textSelection","flipXY","groupScale","_xName","_yNames","grouped","_shadow","updateRectNodes","stackValues","generateNodeData","labelFontStyle","labelFontWeight","labelFontSize","labelFontFamily","barWidth","nodeData","category","labelText","barX","bottomY","yValueIsNumber","updateRectSelection","updateTextSelection","updateTextNodes","selectionData","updateRects","enterRects","Bar","updateTexts","enterTexts","labelEnabled","enabledSeriesItems","date","msA","msB","setTime","nb","na","constant","object","clamper","ContinuousScale","unknown","_clamp","untransform","_interpolate","setDomain","piecewise","bimap","output","input","normalize","interpolate","xt","x0","y0","invert","LineSeries","xDomain","nodeSelection","_yKey","onMarkerEnabledChange","isContinuousX","isContinuousY","updateNodes","updateLinePath","updateNodeSelection","linePath","isGap","tickStep","ceil","e10","e5","e2","rawStep","error","tickIncrement","NumericTicks","absStep","LinearScale","nice","stop","HistogramSeriesNodeTag","ScatterSeries","sizeData","sizeScale","sizeName","labelName","sizeKey","labelKey","titleHtml","contentHtml","PieNodeTag","HistogramSeriesLabel","defaultBinCount","aggregationFunctions","bin","sum","reduce","acc","mean","HistogramBin","domainMin","domainMax","aggregatedValue","frequency","addDatum","domainWidth","calculateAggregatedValue","aggregationName","aggregationFunction","getY","areaPlot","relativeHeight","HistogramSeries","binnedData","_areaPlot","_yName","_bins","bins","_aggregation","aggregation","_binCount","binCount","deriveBins","binStarts","binSize","firstBinEnd","expandStartToBin","placeDataInBins","derivedBins","sortedData","sort","currentBin","Number","NEGATIVE_INFINITY","firstBin","lastBin","xMin","xMax","defaultLabelFormatter","binOfData","xDomainMin","xDomainMax","xMinPx","xMaxPx","yZeroPx","yMaxPx","selectionDatumLabel","Bin","rangeMin","rangeMax","Sector","_centerOffset","_innerRadius","_outerRadius","_angleOffset","outerRadius","angleOffset","midAngle","innerRadius","centerOffset","Color","g","fromHexString","hex","nameToHex","fromRgbaString","hexRe","parseInt","shortHexRe","rgbRe","rgbaRe","fromArray","fromHSB","alpha","rgb","HSBtoRGB","padHex","toHexString","toRgbaString","toHSB","RGBtoHSB","H","delta","rc","gc","bc","q","derive","hueShift","saturationFactor","brightnessFactor","opacityFactor","hsb","rgba","brighter","darker","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","PieSeriesLabel","offset","minAngle","PieSeriesCallout","colors","PieSeries","radiusScale","groupSelectionData","angleScale","angle","callout","angleKey","angleName","_fills","_strokes","outerRadiusOffset","innerRadiusOffset","radiusKey","angleData","angleDataTotal","angleDataRatios","labelData","useRadiusKey","radiusData","radii","maxDatum_1","halfPi","datumIndex","end","midCos","midSin","labelMinAngle","labelVisible","midAngle180","quadrantStart","updateGroupSelection","Callout","minOuterRadius","outerRadii","centerOffsets","sector","calloutColors","calloutLength","calloutStrokeWidth","offset_1","fontStyle_1","fontWeight_1","fontSize_1","fontFamily_1","color_1","labelRadius","radiusName","formattedValue","fills_1","strokes_1","DropShadow","NumberAxis","_nice","clamp","convertToMap","list","t0","TimeInterval","_floor","_offset","d0","d1","ms","CountableTimeInterval","field","_count","_field","every","field_1","milliseconds","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","getMilliseconds","seconds","second","getSeconds","minutes","getMinutes","minute","hours","getHours","hour","setHours","days","setDate","getDate","tzMinuteDelta","getTimezoneOffset","weekday","getDay","weeks","msDelta","sunday","monday","thursday","months","setMonth","getMonth","getFullYear","month","years","setFullYear","year","ascending","complexBisectRight","lo","hi","comparator","ascendingComparator","mid","item","setUTCHours","setUTCDate","getUTCDate","utcDay","setUTCMonth","setUTCFullYear","getUTCFullYear","utcYear","getUTCDay","utcSunday","utcMonday","utcThursday","localDate","M","L","utcDate","UTC","formatLookup","names","toLowerCase","newYear","locale","percentCharCode","numberRe","percentRe","requoteRe","requote","replace","formatRe","pads","string","formatLocale","timeLocale","lDateTime","dateTime","lDate","lTime","time","lPeriods","periods","lWeekdays","lShortWeekdays","shortDays","lMonths","lShortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseYear","parseFullYear","parseZone","parseLiteralPercent","newParse","specifier","newDate","parseSpecifier","V","week","day","getUTCMonth","u","W","U","Z","newFormat","pad_1","code","char","parse","dayOfWeek","yearStart","z","getUTCMilliseconds","getUTCSeconds","getUTCMinutes","getUTCHours","exec","utcFormat","utcParse","setDefaultLocale","definition","TimeScale","tickIntervals","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","defaultTickFormat","tickInterval","interval","tickCount","TimeAxis","ChartBuilder","createCartesianChart","createGroupedCategoryChart","createBarChart","createAxis","initCartesianChart","initBarSeries","createGroupedBarChart","createGroupedCategoryAxis","createColumnChart","createGroupedColumnChart","createLineChart","initLineSeries","createGroupedLineChart","createScatterChart","initScatterSeries","createAreaChart","initAreaSeries","createGroupedAreaChart","createHistogramChart","createNumberAxis","createPolarChart","createDoughnutChart","createPieChart","initChart","initPieSeries","createSeries","initHistogramSeries","initNavigator","setValueIfExists","setTransformedValueIfExists","createTitle","createSubtitle","initLegend","tooltip","initHighlightStyle","initMarker","renderer","initLabelOptions","createDropShadow","createPieTitle","minRequiredAngle","getMarkerByName","markerShapes","paddingX","paddingY","initNavigatorMask","initNavigatorHandle","handle","setDefaultFontOptions","createCaption","caption","initAxis","createCategoryAxis","createTimeAxis","defaultType","AxisClass","toAxisClass","setUTCSeconds","setUTCMinutes","_d","commonChartMappings","chartDefaults","chartMeta","constructorParams","setAsIs","axisDefaults","seriesDefaults","columnSeriesDefaults","shadowMapping","labelDefaults","labelMapping","axisMappings","mappings","column","bar","typeToAliases","cartesian","polar","alias","AgChart","pathToSeriesTypeMap","provideDefaultType","provideDefaultChartType","seriesType","getMapping","mapping","provideDefaultOptions","skipKeys","constructorParamValues","param","subComponents","config","subComponent","keyPath","configs","prevSeries","newSeries","axesToAdd","axesToUpdate","_loop_2","axisToUpdate","axisToAdd","configs_1","isObject","outerLoop","chartType","isCreated","isDestroyed","mounted","applyContainerIfNotSet","$watch","newValue","processChanges","destroyed","currentValue","previousValue","propsOptions","$el"],"mappings":"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C,SAAQ,SAAUqoC,GACxB,IAAIp+B,EACAkrB,EAAYkT,EAAKlT,UAAWI,EAAc8S,EAAK9S,YAC/C+b,EAAU,GACVC,OAAaxwC,EACjBw0B,EAAYwC,QAAO,SAAU7a,GAAK,OAAOA,EAAE3N,WAAYvP,SAAQ,SAAU2F,GACrE,GAAIwvB,IAAcpE,EAAmBqE,EACjC,QAAmBr0B,IAAfwwC,EAA0B,CAE1B,IAAIC,EAAW7rC,EAAOyrC,UAAUjc,GAChCmc,EAAQtwC,KAAKwwC,GACbD,EAAoC,kBAAhBC,EAAS,QAExBD,GAELD,EAAQtwC,KAAK2E,EAAOyrC,UAAUjc,SAIlCmc,EAAQtwC,KAAK2E,EAAOyrC,UAAUjc,OAGtC,IAAItV,GAAU5V,EAAK,IAAInL,OAAS0pC,OAAOzkC,MAAMkG,EAAIqnC,GACjDjJ,EAAKxoB,OAASuW,GAAcvW,IAAWA,EACvCwoB,EAAKpkB,aAGNotB,EAjC8B,CAkCvC,IClDSI,GAAS,CAChBC,MAAO,CACH,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEJC,QAAS,CACL,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGGC,GAAW,CAClBF,MAAO,CACH,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEJC,QAAS,CACL,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGGE,GAAS,CAChBH,MAAO,CACH,UACA,UACA,UACA,UACA,UACA,WAEJC,QAAS,CACL,UACA,UACA,UACA,UACA,UACA,YAGGG,GAAS,CAChBJ,MAAO,CACH,UACA,UACA,UACA,UACA,UACA,WAEJC,QAAS,CACL,UACA,UACA,UACA,UACA,UACA,YAGGI,GAAO,CACdL,MAAO,CACH,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEJC,QAAS,CACL,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGO,MC1HX,ID2HkB,WAClB,IAAItkB,EAAM,IAAIhQ,IA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","file":"js/chunk-0a190a0c.2200dcc4.js","sourcesContent":["/**\n  * vue-class-component v7.2.3\n  * (c) 2015-present Evan You\n  * @license MIT\n  */\nimport Vue from 'vue';\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\n// The rational behind the verbose Reflect-feature check below is the fact that there are polyfills\n// which add an implementation for Reflect.defineMetadata but not for Reflect.getOwnMetadataKeys.\n// Without this check consumers will encounter hard to track down runtime errors.\nfunction reflectionIsSupported() {\n  return typeof Reflect !== 'undefined' && Reflect.defineMetadata && Reflect.getOwnMetadataKeys;\n}\nfunction copyReflectionMetadata(to, from) {\n  forwardMetadata(to, from);\n  Object.getOwnPropertyNames(from.prototype).forEach(function (key) {\n    forwardMetadata(to.prototype, from.prototype, key);\n  });\n  Object.getOwnPropertyNames(from).forEach(function (key) {\n    forwardMetadata(to, from, key);\n  });\n}\n\nfunction forwardMetadata(to, from, propertyKey) {\n  var metaKeys = propertyKey ? Reflect.getOwnMetadataKeys(from, propertyKey) : Reflect.getOwnMetadataKeys(from);\n  metaKeys.forEach(function (metaKey) {\n    var metadata = propertyKey ? Reflect.getOwnMetadata(metaKey, from, propertyKey) : Reflect.getOwnMetadata(metaKey, from);\n\n    if (propertyKey) {\n      Reflect.defineMetadata(metaKey, metadata, to, propertyKey);\n    } else {\n      Reflect.defineMetadata(metaKey, metadata, to);\n    }\n  });\n}\n\nvar fakeArray = {\n  __proto__: []\n};\nvar hasProto = fakeArray instanceof Array;\nfunction createDecorator(factory) {\n  return function (target, key, index) {\n    var Ctor = typeof target === 'function' ? target : target.constructor;\n\n    if (!Ctor.__decorators__) {\n      Ctor.__decorators__ = [];\n    }\n\n    if (typeof index !== 'number') {\n      index = undefined;\n    }\n\n    Ctor.__decorators__.push(function (options) {\n      return factory(options, key, index);\n    });\n  };\n}\nfunction mixins() {\n  for (var _len = arguments.length, Ctors = new Array(_len), _key = 0; _key < _len; _key++) {\n    Ctors[_key] = arguments[_key];\n  }\n\n  return Vue.extend({\n    mixins: Ctors\n  });\n}\nfunction isPrimitive(value) {\n  var type = _typeof(value);\n\n  return value == null || type !== 'object' && type !== 'function';\n}\nfunction warn(message) {\n  if (typeof console !== 'undefined') {\n    console.warn('[vue-class-component] ' + message);\n  }\n}\n\nfunction collectDataFromConstructor(vm, Component) {\n  // override _init to prevent to init as Vue instance\n  var originalInit = Component.prototype._init;\n\n  Component.prototype._init = function () {\n    var _this = this;\n\n    // proxy to actual vm\n    var keys = Object.getOwnPropertyNames(vm); // 2.2.0 compat (props are no longer exposed as self properties)\n\n    if (vm.$options.props) {\n      for (var key in vm.$options.props) {\n        if (!vm.hasOwnProperty(key)) {\n          keys.push(key);\n        }\n      }\n    }\n\n    keys.forEach(function (key) {\n      if (key.charAt(0) !== '_') {\n        Object.defineProperty(_this, key, {\n          get: function get() {\n            return vm[key];\n          },\n          set: function set(value) {\n            vm[key] = value;\n          },\n          configurable: true\n        });\n      }\n    });\n  }; // should be acquired class property values\n\n\n  var data = new Component(); // restore original _init to avoid memory leak (#209)\n\n  Component.prototype._init = originalInit; // create plain data object\n\n  var plainData = {};\n  Object.keys(data).forEach(function (key) {\n    if (data[key] !== undefined) {\n      plainData[key] = data[key];\n    }\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (!(Component.prototype instanceof Vue) && Object.keys(plainData).length > 0) {\n      warn('Component class must inherit Vue or its descendant class ' + 'when class property is used.');\n    }\n  }\n\n  return plainData;\n}\n\nvar $internalHooks = ['data', 'beforeCreate', 'created', 'beforeMount', 'mounted', 'beforeDestroy', 'destroyed', 'beforeUpdate', 'updated', 'activated', 'deactivated', 'render', 'errorCaptured', 'serverPrefetch' // 2.6\n];\nfunction componentFactory(Component) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  options.name = options.name || Component._componentTag || Component.name; // prototype props.\n\n  var proto = Component.prototype;\n  Object.getOwnPropertyNames(proto).forEach(function (key) {\n    if (key === 'constructor') {\n      return;\n    } // hooks\n\n\n    if ($internalHooks.indexOf(key) > -1) {\n      options[key] = proto[key];\n      return;\n    }\n\n    var descriptor = Object.getOwnPropertyDescriptor(proto, key);\n\n    if (descriptor.value !== void 0) {\n      // methods\n      if (typeof descriptor.value === 'function') {\n        (options.methods || (options.methods = {}))[key] = descriptor.value;\n      } else {\n        // typescript decorated data\n        (options.mixins || (options.mixins = [])).push({\n          data: function data() {\n            return _defineProperty({}, key, descriptor.value);\n          }\n        });\n      }\n    } else if (descriptor.get || descriptor.set) {\n      // computed properties\n      (options.computed || (options.computed = {}))[key] = {\n        get: descriptor.get,\n        set: descriptor.set\n      };\n    }\n  });\n  (options.mixins || (options.mixins = [])).push({\n    data: function data() {\n      return collectDataFromConstructor(this, Component);\n    }\n  }); // decorate options\n\n  var decorators = Component.__decorators__;\n\n  if (decorators) {\n    decorators.forEach(function (fn) {\n      return fn(options);\n    });\n    delete Component.__decorators__;\n  } // find super\n\n\n  var superProto = Object.getPrototypeOf(Component.prototype);\n  var Super = superProto instanceof Vue ? superProto.constructor : Vue;\n  var Extended = Super.extend(options);\n  forwardStaticMembers(Extended, Component, Super);\n\n  if (reflectionIsSupported()) {\n    copyReflectionMetadata(Extended, Component);\n  }\n\n  return Extended;\n}\nvar reservedPropertyNames = [// Unique id\n'cid', // Super Vue constructor\n'super', // Component options that will be used by the component\n'options', 'superOptions', 'extendOptions', 'sealedOptions', // Private assets\n'component', 'directive', 'filter'];\nvar shouldIgnore = {\n  prototype: true,\n  arguments: true,\n  callee: true,\n  caller: true\n};\n\nfunction forwardStaticMembers(Extended, Original, Super) {\n  // We have to use getOwnPropertyNames since Babel registers methods as non-enumerable\n  Object.getOwnPropertyNames(Original).forEach(function (key) {\n    // Skip the properties that should not be overwritten\n    if (shouldIgnore[key]) {\n      return;\n    } // Some browsers does not allow reconfigure built-in properties\n\n\n    var extendedDescriptor = Object.getOwnPropertyDescriptor(Extended, key);\n\n    if (extendedDescriptor && !extendedDescriptor.configurable) {\n      return;\n    }\n\n    var descriptor = Object.getOwnPropertyDescriptor(Original, key); // If the user agent does not support `__proto__` or its family (IE <= 10),\n    // the sub class properties may be inherited properties from the super class in TypeScript.\n    // We need to exclude such properties to prevent to overwrite\n    // the component options object which stored on the extended constructor (See #192).\n    // If the value is a referenced value (object or function),\n    // we can check equality of them and exclude it if they have the same reference.\n    // If it is a primitive value, it will be forwarded for safety.\n\n    if (!hasProto) {\n      // Only `cid` is explicitly exluded from property forwarding\n      // because we cannot detect whether it is a inherited property or not\n      // on the no `__proto__` environment even though the property is reserved.\n      if (key === 'cid') {\n        return;\n      }\n\n      var superDescriptor = Object.getOwnPropertyDescriptor(Super, key);\n\n      if (!isPrimitive(descriptor.value) && superDescriptor && superDescriptor.value === descriptor.value) {\n        return;\n      }\n    } // Warn if the users manually declare reserved properties\n\n\n    if (process.env.NODE_ENV !== 'production' && reservedPropertyNames.indexOf(key) >= 0) {\n      warn(\"Static property name '\".concat(key, \"' declared on class '\").concat(Original.name, \"' \") + 'conflicts with reserved property name of Vue internal. ' + 'It may cause unexpected behavior of the component. Consider renaming the property.');\n    }\n\n    Object.defineProperty(Extended, key, descriptor);\n  });\n}\n\nfunction Component(options) {\n  if (typeof options === 'function') {\n    return componentFactory(options);\n  }\n\n  return function (Component) {\n    return componentFactory(Component, options);\n  };\n}\n\nComponent.registerHooks = function registerHooks(keys) {\n  $internalHooks.push.apply($internalHooks, _toConsumableArray(keys));\n};\n\nexport default Component;\nexport { createDecorator, mixins };\n","/** vue-property-decorator verson 8.4.2 MIT LICENSE copyright 2019 kaorun343 */\n/// <reference types='reflect-metadata'/>\n'use strict';\nimport Vue from 'vue';\nimport Component, { createDecorator, mixins } from 'vue-class-component';\nexport { Component, Vue, mixins as Mixins };\n/** Used for keying reactive provide/inject properties */\nvar reactiveInjectKey = '__reactiveInject__';\n/**\n * decorator of an inject\n * @param from key\n * @return PropertyDecorator\n */\nexport function Inject(options) {\n    return createDecorator(function (componentOptions, key) {\n        if (typeof componentOptions.inject === 'undefined') {\n            componentOptions.inject = {};\n        }\n        if (!Array.isArray(componentOptions.inject)) {\n            componentOptions.inject[key] = options || key;\n        }\n    });\n}\n/**\n * decorator of a reactive inject\n * @param from key\n * @return PropertyDecorator\n */\nexport function InjectReactive(options) {\n    return createDecorator(function (componentOptions, key) {\n        if (typeof componentOptions.inject === 'undefined') {\n            componentOptions.inject = {};\n        }\n        if (!Array.isArray(componentOptions.inject)) {\n            var fromKey_1 = !!options ? options.from || options : key;\n            var defaultVal_1 = (!!options && options.default) || undefined;\n            if (!componentOptions.computed)\n                componentOptions.computed = {};\n            componentOptions.computed[key] = function () {\n                var obj = this[reactiveInjectKey];\n                return obj ? obj[fromKey_1] : defaultVal_1;\n            };\n            componentOptions.inject[reactiveInjectKey] = reactiveInjectKey;\n        }\n    });\n}\nfunction produceProvide(original) {\n    var provide = function () {\n        var _this = this;\n        var rv = typeof original === 'function' ? original.call(this) : original;\n        rv = Object.create(rv || null);\n        // set reactive services (propagates previous services if necessary)\n        rv[reactiveInjectKey] = this[reactiveInjectKey] || {};\n        for (var i in provide.managed) {\n            rv[provide.managed[i]] = this[i];\n        }\n        var _loop_1 = function (i) {\n            rv[provide.managedReactive[i]] = this_1[i]; // Duplicates the behavior of `@Provide`\n            if (!rv[reactiveInjectKey].hasOwnProperty(provide.managedReactive[i])) {\n                Object.defineProperty(rv[reactiveInjectKey], provide.managedReactive[i], {\n                    enumerable: true,\n                    get: function () { return _this[i]; },\n                });\n            }\n        };\n        var this_1 = this;\n        for (var i in provide.managedReactive) {\n            _loop_1(i);\n        }\n        return rv;\n    };\n    provide.managed = {};\n    provide.managedReactive = {};\n    return provide;\n}\nfunction needToProduceProvide(original) {\n    return (typeof original !== 'function' ||\n        (!original.managed && !original.managedReactive));\n}\n/**\n * decorator of a provide\n * @param key key\n * @return PropertyDecorator | void\n */\nexport function Provide(key) {\n    return createDecorator(function (componentOptions, k) {\n        var provide = componentOptions.provide;\n        if (needToProduceProvide(provide)) {\n            provide = componentOptions.provide = produceProvide(provide);\n        }\n        provide.managed[k] = key || k;\n    });\n}\n/**\n * decorator of a reactive provide\n * @param key key\n * @return PropertyDecorator | void\n */\nexport function ProvideReactive(key) {\n    return createDecorator(function (componentOptions, k) {\n        var provide = componentOptions.provide;\n        // inject parent reactive services (if any)\n        if (!Array.isArray(componentOptions.inject)) {\n            componentOptions.inject = componentOptions.inject || {};\n            componentOptions.inject[reactiveInjectKey] = {\n                from: reactiveInjectKey,\n                default: {},\n            };\n        }\n        if (needToProduceProvide(provide)) {\n            provide = componentOptions.provide = produceProvide(provide);\n        }\n        provide.managedReactive[k] = key || k;\n    });\n}\n/** @see {@link https://github.com/vuejs/vue-class-component/blob/master/src/reflect.ts} */\nvar reflectMetadataIsSupported = typeof Reflect !== 'undefined' && typeof Reflect.getMetadata !== 'undefined';\nfunction applyMetadata(options, target, key) {\n    if (reflectMetadataIsSupported) {\n        if (!Array.isArray(options) &&\n            typeof options !== 'function' &&\n            typeof options.type === 'undefined') {\n            var type = Reflect.getMetadata('design:type', target, key);\n            if (type !== Object) {\n                options.type = type;\n            }\n        }\n    }\n}\n/**\n * decorator of model\n * @param  event event name\n * @param options options\n * @return PropertyDecorator\n */\nexport function Model(event, options) {\n    if (options === void 0) { options = {}; }\n    return function (target, key) {\n        applyMetadata(options, target, key);\n        createDecorator(function (componentOptions, k) {\n            ;\n            (componentOptions.props || (componentOptions.props = {}))[k] = options;\n            componentOptions.model = { prop: k, event: event || k };\n        })(target, key);\n    };\n}\n/**\n * decorator of a prop\n * @param  options the options for the prop\n * @return PropertyDecorator | void\n */\nexport function Prop(options) {\n    if (options === void 0) { options = {}; }\n    return function (target, key) {\n        applyMetadata(options, target, key);\n        createDecorator(function (componentOptions, k) {\n            ;\n            (componentOptions.props || (componentOptions.props = {}))[k] = options;\n        })(target, key);\n    };\n}\n/**\n * decorator of a synced prop\n * @param propName the name to interface with from outside, must be different from decorated property\n * @param options the options for the synced prop\n * @return PropertyDecorator | void\n */\nexport function PropSync(propName, options) {\n    if (options === void 0) { options = {}; }\n    // @ts-ignore\n    return function (target, key) {\n        applyMetadata(options, target, key);\n        createDecorator(function (componentOptions, k) {\n            ;\n            (componentOptions.props || (componentOptions.props = {}))[propName] = options;\n            (componentOptions.computed || (componentOptions.computed = {}))[k] = {\n                get: function () {\n                    return this[propName];\n                },\n                set: function (value) {\n                    // @ts-ignore\n                    this.$emit(\"update:\" + propName, value);\n                },\n            };\n        })(target, key);\n    };\n}\n/**\n * decorator of a watch function\n * @param  path the path or the expression to observe\n * @param  WatchOption\n * @return MethodDecorator\n */\nexport function Watch(path, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.deep, deep = _a === void 0 ? false : _a, _b = options.immediate, immediate = _b === void 0 ? false : _b;\n    return createDecorator(function (componentOptions, handler) {\n        if (typeof componentOptions.watch !== 'object') {\n            componentOptions.watch = Object.create(null);\n        }\n        var watch = componentOptions.watch;\n        if (typeof watch[path] === 'object' && !Array.isArray(watch[path])) {\n            watch[path] = [watch[path]];\n        }\n        else if (typeof watch[path] === 'undefined') {\n            watch[path] = [];\n        }\n        watch[path].push({ handler: handler, deep: deep, immediate: immediate });\n    });\n}\n// Code copied from Vue/src/shared/util.js\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = function (str) { return str.replace(hyphenateRE, '-$1').toLowerCase(); };\n/**\n * decorator of an event-emitter function\n * @param  event The name of the event\n * @return MethodDecorator\n */\nexport function Emit(event) {\n    return function (_target, propertyKey, descriptor) {\n        var key = hyphenate(propertyKey);\n        var original = descriptor.value;\n        descriptor.value = function emitter() {\n            var _this = this;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var emit = function (returnValue) {\n                var emitName = event || key;\n                if (returnValue === undefined) {\n                    if (args.length === 0) {\n                        _this.$emit(emitName);\n                    }\n                    else if (args.length === 1) {\n                        _this.$emit(emitName, args[0]);\n                    }\n                    else {\n                        _this.$emit.apply(_this, [emitName].concat(args));\n                    }\n                }\n                else {\n                    if (args.length === 0) {\n                        _this.$emit(emitName, returnValue);\n                    }\n                    else if (args.length === 1) {\n                        _this.$emit(emitName, returnValue, args[0]);\n                    }\n                    else {\n                        _this.$emit.apply(_this, [emitName, returnValue].concat(args));\n                    }\n                }\n            };\n            var returnValue = original.apply(this, args);\n            if (isPromise(returnValue)) {\n                returnValue.then(function (returnValue) {\n                    emit(returnValue);\n                });\n            }\n            else {\n                emit(returnValue);\n            }\n            return returnValue;\n        };\n    };\n}\n/**\n * decorator of a ref prop\n * @param refKey the ref key defined in template\n */\nexport function Ref(refKey) {\n    return createDecorator(function (options, key) {\n        options.computed = options.computed || {};\n        options.computed[key] = {\n            cache: false,\n            get: function () {\n                return this.$refs[refKey || key];\n            },\n        };\n    });\n}\nfunction isPromise(obj) {\n    return obj instanceof Promise || (obj && typeof obj.then === 'function');\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"app\"}},[_c('ag-charts-vue',{attrs:{\"options\":_vm.options}})],1),_c('hr'),(_vm.showLoader)?_c('div',{staticClass:\"spinner-border\",attrs:{\"role\":\"status\"}}):_c('div',[_c('CRow',_vm._l((_vm.instanceData.resources),function(instance){return _c('CCol',{key:instance.id,attrs:{\"sm\":\"6\",\"lg\":\"3\"}},[_c('CWidgetProgress',[_c('div',{staticClass:\"h4 m-0\"},[_vm._v(_vm._s(instance.name))]),_c('div',[_vm._v(\"Provider: \"+_vm._s(instance.vendor))]),_c('CBadge',[_vm._v(\"Power State\")]),_c('CBadge',{attrs:{\"color\":_vm.getColor(instance.power_state),\"shape\":\"pill\"}},[_vm._v(_vm._s(instance.power_state))])],1)],1)}),1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div id=\"app\">\n      <ag-charts-vue :options=\"options\"></ag-charts-vue>\n    </div>\n    <hr />\n    <div v-if=\"showLoader\" class=\"spinner-border\" role=\"status\"></div>\n\n    <div v-else>\n      <CRow>\n        <CCol\n          sm=\"6\"\n          lg=\"3\"\n          v-for=\"instance in instanceData.resources\"\n          v-bind:key=\"instance.id\"\n        >\n          <CWidgetProgress>\n            <div class=\"h4 m-0\">{{ instance.name }}</div>\n            <div>Provider: {{ instance.vendor }}</div>\n            <CBadge>Power State</CBadge>\n            <CBadge :color=\"getColor(instance.power_state)\" shape=\"pill\">{{\n              instance.power_state\n            }}</CBadge>\n          </CWidgetProgress>\n        </CCol>\n      </CRow>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axiosInstance from \"../../service/axios-instance.js\";\nimport { mapGetters } from \"vuex\";\nimport { POWER_STATE_COLOR } from \"../../utilities/constants\";\nimport { AgChartsVue } from \"ag-charts-vue\";\n\nexport default {\n  name: \"Resources\",\n  components: {\n    AgChartsVue,\n  },\n  data() {\n    return {\n      options: null,\n      data: [\n        {\n          href: \"https://34.67.132.139/api/results/5150\",\n          name: \"VM-Win-Sentinel\",\n          used_disk_storage: 136365211648,\n          provisioned_storage: 140123308032,\n          \"ems_cluster.name\": null,\n          \"host.name\": null,\n          id: \"5150\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5164\",\n          name: \"Hammad-Windows\",\n          used_disk_storage: 136365211648,\n          provisioned_storage: 138512695296,\n          \"ems_cluster.name\": null,\n          \"host.name\": null,\n          id: \"5164\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5307\",\n          name: \"ManageIQ-Dev\",\n          used_disk_storage: 107374182400,\n          provisioned_storage: 115964116992,\n          \"ems_cluster.name\": null,\n          \"host.name\": null,\n          id: \"5307\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5149\",\n          name: \"manageiq-demo\",\n          used_disk_storage: 70866960384,\n          provisioned_storage: 82409684992,\n          \"ems_cluster.name\": null,\n          \"host.name\": null,\n          id: \"5149\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5305\",\n          name: \"manageiq-vsi-dev\",\n          used_disk_storage: 70866960384,\n          provisioned_storage: 86973087744,\n          \"ems_cluster.name\": null,\n          \"host.name\": null,\n          id: \"5305\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5304\",\n          name: \"manageiq-vsi\",\n          used_disk_storage: 70866960384,\n          provisioned_storage: 86973087744,\n          \"ems_cluster.name\": null,\n          \"host.name\": null,\n          id: \"5304\",\n        },\n      ],\n\n      data1: [\n        {\n          href: \"https://34.67.132.139/api/results/35\",\n          vendor_display: \"Amazon\",\n          name: \"Tableau-POC-3\",\n          product_name: \"windows_generic\",\n          Q1: \"10\",\n          id: \"35\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/36\",\n          vendor_display: \"Amazon\",\n          name: \"Tableau-POC-1\",\n          product_name: \"windows_generic\",\n          Q1: \"10\",\n          id: \"36\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/34\",\n          vendor_display: \"Amazon\",\n          name: \"Tableau-POC-2\",\n          product_name: \"windows_generic\",\n          Q1: \"10\",\n          id: \"34\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5201\",\n          vendor_display: \"Amazon\",\n          name: \"Rgnr-WS-Jmpbx\",\n          product_name: \"windows_generic\",\n          Q1: \"10\",\n          id: \"5201\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/29\",\n          vendor_display: \"Amazon\",\n          name: \"Testingapp-env\",\n          product_name: \"windows_generic\",\n          Q1: \"10\",\n          id: \"29\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5300\",\n          vendor_display: \"Azure\",\n          name: \"Hammad.rhel\",\n          product_name: \"RHEL 8.2\",\n          Q1: \"10\",\n          id: \"5300\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5167\",\n          vendor_display: \"Azure\",\n          name: \"Hammad-Linux\",\n          product_name: \"UbuntuServer 18.04 LTS\",\n          Q1: \"10\",\n          id: \"5167\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5168\",\n          vendor_display: \"Azure\",\n          name: \"test-vm\",\n          product_name: \"UbuntuServer 18.04 LTS\",\n          Q1: \"10\",\n          id: \"5168\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5150\",\n          vendor_display: \"Azure\",\n          name: \"VM-Win-Sentinel\",\n          product_name: \"WindowsServer 2016 Datacenter\",\n          Q1: \"10\",\n          id: \"5150\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5164\",\n          vendor_display: \"Azure\",\n          name: \"Hammad-Windows\",\n          product_name: \"WindowsServer 2019 Datacenter\",\n          Q1: \"10\",\n          id: \"5164\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5149\",\n          vendor_display: \"Google\",\n          name: \"manageiq-demo\",\n          product_name: \"unknown\",\n          Q1: \"10\",\n          id: \"5149\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5304\",\n          vendor_display: \"Google\",\n          name: \"manageiq-vsi\",\n          product_name: null,\n          Q1: \"10\",\n          id: \"5304\",\n        },\n        {\n          href: \"https://34.67.132.139/api/results/5305\",\n          vendor_display: \"Google\",\n          name: \"manageiq-vsi-dev\",\n          product_name: null,\n          Q1: \"12\",\n          id: \"5305\",\n        },\n      ],\n    };\n  },\n\n  beforeMount() {\n    this.options = {\n      data: this.data,\n      series: [\n        {\n          type: \"column\",\n          xKey: \"name\",\n          yKeys: [\"used_disk_storage\", \"provisioned_storage\"],\n          yNames: [\"Disk Used\", \"Disk Available\"],\n          grouped: true,\n        },\n      ],\n      label: {},\n    };\n  },\n\n  methods: {\n    getColor(powerState) {\n      let color = POWER_STATE_COLOR.find((item) => item.state == powerState);\n\n      return color ? color.color : \"secondary\";\n    },\n  },\n  computed: {\n    ...mapGetters([\n      // map this.count to store.state.count\n      \"showLoader\",\n      \"instanceData\",\n    ]),\n  },\n\n  mounted() {\n    console.log(\"inside mounted \");\n    // Simple GET request using fetch\n    fetch(\"https://cloudmanagement.me/api/ping\").then((response) => {\n      console.log(\"response: \", response);\n      response.json();\n    });\n\n    // this.$store.dispatch(\"callGetInstanceDetails\");\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resources.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resources.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Resources.vue?vue&type=template&id=3e2827aa&\"\nimport script from \"./Resources.vue?vue&type=script&lang=js&\"\nexport * from \"./Resources.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./lib/AgChartsVue\"));\n\n","import { Matrix } from \"./matrix\";\nimport { createId } from \"../util/id\";\nexport var PointerEvents;\n(function (PointerEvents) {\n    PointerEvents[PointerEvents[\"All\"] = 0] = \"All\";\n    PointerEvents[PointerEvents[\"None\"] = 1] = \"None\";\n})(PointerEvents || (PointerEvents = {}));\n/**\n * Abstract scene graph node.\n * Each node can have zero or one parent and belong to zero or one scene.\n */\nvar Node = /** @class */ (function () {\n    function Node() {\n        /**\n         * Unique node ID in the form `ClassName-NaturalNumber`.\n         */\n        this.id = createId(this);\n        /**\n         * Some number to identify this node, typically within a `Group` node.\n         * Usually this will be some enum value used as a selector.\n         */\n        this.tag = NaN;\n        /**\n         * To simplify the type system (especially in Selections) we don't have the `Parent` node\n         * (one that has children). Instead, we mimic HTML DOM, where any node can have children.\n         * But we still need to distinguish regular leaf nodes from container leafs somehow.\n         */\n        this.isContainerNode = false;\n        this._children = [];\n        // Used to check for duplicate nodes.\n        this.childSet = {}; // new Set<Node>()\n        // These matrices may need to have package level visibility\n        // for performance optimization purposes.\n        this.matrix = new Matrix();\n        this.inverseMatrix = new Matrix();\n        this._dirtyTransform = false;\n        this._scalingX = 1;\n        this._scalingY = 1;\n        /**\n         * The center of scaling.\n         * The default value of `null` means the scaling center will be\n         * determined automatically, as the center of the bounding box\n         * of a node.\n         */\n        this._scalingCenterX = null;\n        this._scalingCenterY = null;\n        this._rotationCenterX = null;\n        this._rotationCenterY = null;\n        /**\n         * Rotation angle in radians.\n         * The value is set as is. No normalization to the [-180, 180) or [0, 360)\n         * interval is performed.\n         */\n        this._rotation = 0;\n        this._translationX = 0;\n        this._translationY = 0;\n        /**\n         * Each time a property of the node that effects how it renders changes\n         * the `dirty` property of the node should be set to `true`. The change\n         * to the `dirty` property of the node will propagate up to its parents\n         * and eventually to the scene, at which point an animation frame callback\n         * will be scheduled to rerender the scene and its nodes and reset the `dirty`\n         * flags of all nodes and the {@link Scene._dirty | Scene} back to `false`.\n         * Since changes to node properties are not rendered immediately, it's possible\n         * to change as many properties on as many nodes as needed and the rendering\n         * will still only happen once in the next animation frame callback.\n         * The animation frame callback is only scheduled if it hasn't been already.\n         */\n        this._dirty = true;\n        this._visible = true;\n        this.pointerEvents = PointerEvents.All;\n    }\n    /**\n     * This is meaningfully faster than `instanceof` and should be the preferred way\n     * of checking inside loops.\n     * @param node\n     */\n    Node.isNode = function (node) {\n        return node ? node.matrix !== undefined : false;\n    };\n    Node.prototype._setScene = function (value) {\n        this._scene = value;\n        var children = this.children;\n        var n = children.length;\n        for (var i = 0; i < n; i++) {\n            children[i]._setScene(value);\n        }\n    };\n    Object.defineProperty(Node.prototype, \"scene\", {\n        get: function () {\n            return this._scene;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.prototype._setParent = function (value) {\n        this._parent = value;\n    };\n    Object.defineProperty(Node.prototype, \"parent\", {\n        get: function () {\n            return this._parent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"children\", {\n        get: function () {\n            return this._children;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.prototype.countChildren = function (depth) {\n        if (depth === void 0) { depth = Node.MAX_SAFE_INTEGER; }\n        if (depth <= 0) {\n            return 0;\n        }\n        var children = this.children;\n        var n = children.length;\n        var size = n;\n        for (var i = 0; i < n; i++) {\n            size += children[i].countChildren(depth - 1);\n        }\n        return size;\n    };\n    /**\n     * Appends one or more new node instances to this parent.\n     * If one needs to:\n     * - move a child to the end of the list of children\n     * - move a child from one parent to another (including parents in other scenes)\n     * one should use the {@link insertBefore} method instead.\n     * @param nodes A node or nodes to append.\n     */\n    Node.prototype.append = function (nodes) {\n        // Passing a single parameter to an open-ended version of `append`\n        // would be 30-35% slower than this.\n        if (Node.isNode(nodes)) {\n            nodes = [nodes];\n        }\n        // The function takes an array rather than having open-ended\n        // arguments like `...nodes: Node[]` because the latter is\n        // transpiled to a function where the `arguments` object\n        // is copied to a temporary array inside a loop.\n        // So an array is created either way. And if we already have\n        // an array of nodes we want to add, we have to use the prohibitively\n        // expensive spread operator to pass it to the function,\n        // and, on top of that, the copy of the `arguments` is still made.\n        var n = nodes.length;\n        for (var i = 0; i < n; i++) {\n            var node = nodes[i];\n            if (node.parent) {\n                throw new Error(node + \" already belongs to another parent: \" + node.parent + \".\");\n            }\n            if (node.scene) {\n                throw new Error(node + \" already belongs a scene: \" + node.scene + \".\");\n            }\n            if (this.childSet[node.id]) {\n                // Cast to `any` to avoid `Property 'name' does not exist on type 'Function'`.\n                throw new Error(\"Duplicate \" + node.constructor.name + \" node: \" + node);\n            }\n            this._children.push(node);\n            this.childSet[node.id] = true;\n            node._setParent(this);\n            node._setScene(this.scene);\n        }\n        this.dirty = true;\n    };\n    Node.prototype.appendChild = function (node) {\n        if (node.parent) {\n            throw new Error(node + \" already belongs to another parent: \" + node.parent + \".\");\n        }\n        if (node.scene) {\n            throw new Error(node + \" already belongs a scene: \" + node.scene + \".\");\n        }\n        if (this.childSet[node.id]) {\n            // Cast to `any` to avoid `Property 'name' does not exist on type 'Function'`.\n            throw new Error(\"Duplicate \" + node.constructor.name + \" node: \" + node);\n        }\n        this._children.push(node);\n        this.childSet[node.id] = true;\n        node._setParent(this);\n        node._setScene(this.scene);\n        this.dirty = true;\n        return node;\n    };\n    Node.prototype.removeChild = function (node) {\n        if (node.parent === this) {\n            var i = this.children.indexOf(node);\n            if (i >= 0) {\n                this._children.splice(i, 1);\n                delete this.childSet[node.id];\n                node._setParent(undefined);\n                node._setScene(undefined);\n                this.dirty = true;\n                return node;\n            }\n        }\n        throw new Error(\"The node to be removed is not a child of this node.\");\n    };\n    /**\n     * Inserts the node `node` before the existing child node `nextNode`.\n     * If `nextNode` is null, insert `node` at the end of the list of children.\n     * If the `node` belongs to another parent, it is first removed.\n     * Returns the `node`.\n     * @param node\n     * @param nextNode\n     */\n    Node.prototype.insertBefore = function (node, nextNode) {\n        var parent = node.parent;\n        if (node.parent) {\n            node.parent.removeChild(node);\n        }\n        if (nextNode && nextNode.parent === this) {\n            var i = this.children.indexOf(nextNode);\n            if (i >= 0) {\n                this._children.splice(i, 0, node);\n                this.childSet[node.id] = true;\n                node._setParent(this);\n                node._setScene(this.scene);\n            }\n            else {\n                throw new Error(nextNode + \" has \" + parent + \" as the parent, \"\n                    + \"but is not in its list of children.\");\n            }\n            this.dirty = true;\n        }\n        else {\n            this.append(node);\n        }\n        return node;\n    };\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n        get: function () {\n            var parent = this.parent;\n            if (parent) {\n                var children = parent.children;\n                var index = children.indexOf(this);\n                if (index >= 0 && index <= children.length - 1) {\n                    return children[index + 1];\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.prototype.transformPoint = function (x, y) {\n        var matrix = Matrix.flyweight(this.matrix);\n        var parent = this.parent;\n        while (parent) {\n            matrix.preMultiplySelf(parent.matrix);\n            parent = parent.parent;\n        }\n        return matrix.invertSelf().transformPoint(x, y);\n    };\n    Node.prototype.inverseTransformPoint = function (x, y) {\n        var matrix = Matrix.flyweight(this.matrix);\n        var parent = this.parent;\n        while (parent) {\n            matrix.preMultiplySelf(parent.matrix);\n            parent = parent.parent;\n        }\n        return matrix.transformPoint(x, y);\n    };\n    Object.defineProperty(Node.prototype, \"dirtyTransform\", {\n        get: function () {\n            return this._dirtyTransform;\n        },\n        set: function (value) {\n            this._dirtyTransform = value;\n            if (value) {\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"scalingX\", {\n        get: function () {\n            return this._scalingX;\n        },\n        set: function (value) {\n            if (this._scalingX !== value) {\n                this._scalingX = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"scalingY\", {\n        get: function () {\n            return this._scalingY;\n        },\n        set: function (value) {\n            if (this._scalingY !== value) {\n                this._scalingY = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"scalingCenterX\", {\n        get: function () {\n            return this._scalingCenterX;\n        },\n        set: function (value) {\n            if (this._scalingCenterX !== value) {\n                this._scalingCenterX = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"scalingCenterY\", {\n        get: function () {\n            return this._scalingCenterY;\n        },\n        set: function (value) {\n            if (this._scalingCenterY !== value) {\n                this._scalingCenterY = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"rotationCenterX\", {\n        get: function () {\n            return this._rotationCenterX;\n        },\n        set: function (value) {\n            if (this._rotationCenterX !== value) {\n                this._rotationCenterX = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"rotationCenterY\", {\n        get: function () {\n            return this._rotationCenterY;\n        },\n        set: function (value) {\n            if (this._rotationCenterY !== value) {\n                this._rotationCenterY = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"rotation\", {\n        get: function () {\n            return this._rotation;\n        },\n        set: function (value) {\n            if (this._rotation !== value) {\n                this._rotation = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"rotationDeg\", {\n        get: function () {\n            return this.rotation / Math.PI * 180;\n        },\n        /**\n         * For performance reasons the rotation angle's internal representation\n         * is in radians. Therefore, don't expect to get the same number you set.\n         * Even with integer angles about a quarter of them from 0 to 359 cannot\n         * be converted to radians and back without precision loss.\n         * For example:\n         *\n         *     node.rotationDeg = 11;\n         *     console.log(node.rotationDeg); // 10.999999999999998\n         *\n         * @param value Rotation angle in degrees.\n         */\n        set: function (value) {\n            this.rotation = value / 180 * Math.PI;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"translationX\", {\n        get: function () {\n            return this._translationX;\n        },\n        set: function (value) {\n            if (this._translationX !== value) {\n                this._translationX = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"translationY\", {\n        get: function () {\n            return this._translationY;\n        },\n        set: function (value) {\n            if (this._translationY !== value) {\n                this._translationY = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.prototype.containsPoint = function (x, y) {\n        return false;\n    };\n    /**\n     * Hit testing method.\n     * Recursively checks if the given point is inside this node or any of its children.\n     * Returns the first matching node or `undefined`.\n     * Nodes that render later (show on top) are hit tested first.\n     * @param x\n     * @param y\n     */\n    Node.prototype.pickNode = function (x, y) {\n        if (!this.visible || this.pointerEvents === PointerEvents.None || !this.containsPoint(x, y)) {\n            return;\n        }\n        var children = this.children;\n        if (children.length) {\n            // Nodes added later should be hit-tested first,\n            // as they are rendered on top of the previously added nodes.\n            for (var i = children.length - 1; i >= 0; i--) {\n                var hit = children[i].pickNode(x, y);\n                if (hit) {\n                    return hit;\n                }\n            }\n        }\n        else if (!this.isContainerNode) { // a leaf node, but not a container leaf\n            return this;\n        }\n    };\n    Node.prototype.computeBBox = function () { return; };\n    Node.prototype.computeBBoxCenter = function () {\n        var bbox = this.computeBBox && this.computeBBox();\n        if (bbox) {\n            return [\n                bbox.x + bbox.width * 0.5,\n                bbox.y + bbox.height * 0.5\n            ];\n        }\n        return [0, 0];\n    };\n    Node.prototype.computeTransformMatrix = function () {\n        // TODO: transforms without center of scaling and rotation correspond directly\n        //       to `setAttribute('transform', 'translate(tx, ty) rotate(rDeg) scale(sx, sy)')`\n        //       in SVG. Our use cases will mostly require positioning elements (rects, circles)\n        //       within a group, rotating groups at right angles (e.g. for axis) and translating\n        //       groups. We shouldn't even need `scale(1, -1)` (invert vertically), since this\n        //       can be done using D3-like scales already by inverting the output range.\n        //       So for now, just assume that centers of scaling and rotation are at the origin.\n        // const [bbcx, bbcy] = this.computeBBoxCenter();\n        var _a = [0, 0], bbcx = _a[0], bbcy = _a[1];\n        var sx = this.scalingX;\n        var sy = this.scalingY;\n        var scx;\n        var scy;\n        if (sx === 1 && sy === 1) {\n            scx = 0;\n            scy = 0;\n        }\n        else {\n            scx = this.scalingCenterX === null ? bbcx : this.scalingCenterX;\n            scy = this.scalingCenterY === null ? bbcy : this.scalingCenterY;\n        }\n        var r = this.rotation;\n        var cos = Math.cos(r);\n        var sin = Math.sin(r);\n        var rcx;\n        var rcy;\n        if (r === 0) {\n            rcx = 0;\n            rcy = 0;\n        }\n        else {\n            rcx = this.rotationCenterX === null ? bbcx : this.rotationCenterX;\n            rcy = this.rotationCenterY === null ? bbcy : this.rotationCenterY;\n        }\n        var tx = this.translationX;\n        var ty = this.translationY;\n        // The transform matrix `M` is a result of the following transformations:\n        // 1) translate the center of scaling to the origin\n        // 2) scale\n        // 3) translate back\n        // 4) translate the center of rotation to the origin\n        // 5) rotate\n        // 6) translate back\n        // 7) translate\n        //         (7)          (6)             (5)             (4)           (3)           (2)           (1)\n        //     | 1 0 tx |   | 1 0 rcx |   | cos -sin 0 |   | 1 0 -rcx |   | 1 0 scx |   | sx 0 0 |   | 1 0 -scx |\n        // M = | 0 1 ty | * | 0 1 rcy | * | sin  cos 0 | * | 0 1 -rcy | * | 0 1 scy | * | 0 sy 0 | * | 0 1 -scy |\n        //     | 0 0  1 |   | 0 0  1  |   |  0    0  1 |   | 0 0  1   |   | 0 0  1  |   | 0  0 0 |   | 0 0  1   |\n        // Translation after steps 1-4 above:\n        var tx4 = scx * (1 - sx) - rcx;\n        var ty4 = scy * (1 - sy) - rcy;\n        this.dirtyTransform = false;\n        this.matrix.setElements([\n            cos * sx, sin * sx,\n            -sin * sy, cos * sy,\n            cos * tx4 - sin * ty4 + rcx + tx,\n            sin * tx4 + cos * ty4 + rcy + ty\n        ]).inverseTo(this.inverseMatrix);\n    };\n    Object.defineProperty(Node.prototype, \"dirty\", {\n        get: function () {\n            return this._dirty;\n        },\n        set: function (value) {\n            // TODO: check if we are already dirty (e.g. if (this._dirty !== value))\n            //       if we are, then all parents and the scene have been\n            //       notified already, and we are doing redundant work\n            //       (but test if this is indeed the case)\n            this._dirty = value;\n            if (value) {\n                if (this.parent) {\n                    this.parent.dirty = true;\n                }\n                else if (this.scene) {\n                    this.scene.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"visible\", {\n        get: function () {\n            return this._visible;\n        },\n        set: function (value) {\n            if (this._visible !== value) {\n                this._visible = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.MAX_SAFE_INTEGER = Math.pow(2, 53) - 1; // Number.MAX_SAFE_INTEGER\n    return Node;\n}());\nexport { Node };\n","var Padding = /** @class */ (function () {\n    function Padding(top, right, bottom, left) {\n        if (top === void 0) { top = 0; }\n        if (right === void 0) { right = top; }\n        if (bottom === void 0) { bottom = top; }\n        if (left === void 0) { left = right; }\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n    Padding.prototype.clear = function () {\n        this.top = this.right = this.bottom = this.left = 0;\n    };\n    return Padding;\n}());\nexport { Padding };\n","// For small data structs like a bounding box, objects are superior to arrays\n// in terms of performance (by 3-4% in Chrome 71, Safari 12 and by 20% in Firefox 64).\n// They are also self descriptive and harder to abuse.\n// For example, one has to do:\n// `ctx.strokeRect(bbox.x, bbox.y, bbox.width, bbox.height);`\n// rather than become enticed by the much slower:\n// `ctx.strokeRect(...bbox);`\n// https://jsperf.com/array-vs-object-create-access\nvar BBox = /** @class */ (function () {\n    function BBox(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    BBox.prototype.isValid = function () {\n        return isFinite(this.x) && isFinite(this.y) && isFinite(this.width) && isFinite(this.height);\n    };\n    BBox.prototype.dilate = function (value) {\n        this.x -= value;\n        this.y -= value;\n        this.width += value * 2;\n        this.height += value * 2;\n    };\n    BBox.prototype.containsPoint = function (x, y) {\n        return x >= this.x && x <= (this.x + this.width)\n            && y >= this.y && y <= (this.y + this.height);\n    };\n    BBox.prototype.render = function (ctx, params) {\n        if (params === void 0) { params = BBox.noParams; }\n        ctx.save();\n        if (params.resetTransform) {\n            ctx.setTransform(1, 0, 0, 1, 0, 0);\n        }\n        ctx.strokeStyle = params.strokeStyle || 'cyan';\n        ctx.lineWidth = params.lineWidth || 1;\n        ctx.strokeRect(this.x, this.y, this.width, this.height);\n        if (params.label) {\n            ctx.fillStyle = params.fillStyle || 'black';\n            ctx.textBaseline = 'bottom';\n            ctx.fillText(params.label, this.x, this.y);\n        }\n        ctx.restore();\n    };\n    BBox.noParams = {};\n    return BBox;\n}());\nexport { BBox };\n","import { BBox } from \"./bbox\";\n/**\n * As of Jan 8, 2019, Firefox still doesn't implement\n * `getTransform(): DOMMatrix;`\n * `setTransform(transform?: DOMMatrix2DInit)`\n * in the `CanvasRenderingContext2D`.\n * Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=928150\n * IE11 and Edge 44 also don't have the support.\n * Thus this class, to keep track of the current transform and\n * combine transformations.\n * Standards:\n * https://html.spec.whatwg.org/dev/canvas.html\n * https://www.w3.org/TR/geometry-1/\n */\nvar Matrix = /** @class */ (function () {\n    function Matrix(elements) {\n        if (elements === void 0) { elements = [1, 0, 0, 1, 0, 0]; }\n        this.elements = elements;\n    }\n    Matrix.prototype.setElements = function (elements) {\n        var e = this.elements;\n        // `this.elements = elements.slice()` is 4-5 times slower\n        // (in Chrome 71 and FF 64) than manually copying elements,\n        // since slicing allocates new memory.\n        // The performance of passing parameters individually\n        // vs as an array is about the same in both browsers, so we\n        // go with a single (array of elements) parameter, because\n        // `setElements(elements)` and `setElements([a, b, c, d, e, f])`\n        // calls give us roughly the same performance, versus\n        // `setElements(...elements)` and `setElements(a, b, c, d, e, f)`,\n        // where the spread operator causes a 20-30x performance drop\n        // (30x when compiled to ES5's `.apply(this, elements)`\n        //  20x when used natively).\n        e[0] = elements[0];\n        e[1] = elements[1];\n        e[2] = elements[2];\n        e[3] = elements[3];\n        e[4] = elements[4];\n        e[5] = elements[5];\n        return this;\n    };\n    Matrix.prototype.setIdentityElements = function () {\n        var e = this.elements;\n        e[0] = 1;\n        e[1] = 0;\n        e[2] = 0;\n        e[3] = 1;\n        e[4] = 0;\n        e[5] = 0;\n        return this;\n    };\n    Object.defineProperty(Matrix.prototype, \"identity\", {\n        get: function () {\n            var e = this.elements;\n            return e[0] === 1 && e[1] === 0 && e[2] === 0 &&\n                e[3] === 1 && e[4] === 0 && e[5] === 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"a\", {\n        get: function () {\n            return this.elements[0];\n        },\n        set: function (value) {\n            this.elements[0] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"b\", {\n        get: function () {\n            return this.elements[1];\n        },\n        set: function (value) {\n            this.elements[1] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"c\", {\n        get: function () {\n            return this.elements[2];\n        },\n        set: function (value) {\n            this.elements[2] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"d\", {\n        get: function () {\n            return this.elements[3];\n        },\n        set: function (value) {\n            this.elements[3] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"e\", {\n        get: function () {\n            return this.elements[4];\n        },\n        set: function (value) {\n            this.elements[4] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"f\", {\n        get: function () {\n            return this.elements[5];\n        },\n        set: function (value) {\n            this.elements[5] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Performs the AxB matrix multiplication and saves the result\n     * to `C`, if given, or to `A` otherwise.\n     */\n    Matrix.prototype.AxB = function (A, B, C) {\n        var m11 = A[0], m12 = A[1], m21 = A[2], m22 = A[3], m31 = A[4], m32 = A[5];\n        var o11 = B[0], o12 = B[1], o21 = B[2], o22 = B[3], o31 = B[4], o32 = B[5];\n        C = C || A;\n        C[0] = m11 * o11 + m21 * o12;\n        C[1] = m12 * o11 + m22 * o12;\n        C[2] = m11 * o21 + m21 * o22;\n        C[3] = m12 * o21 + m22 * o22;\n        C[4] = m11 * o31 + m21 * o32 + m31;\n        C[5] = m12 * o31 + m22 * o32 + m32;\n    };\n    /**\n     * The `other` matrix gets post-multiplied to the current matrix.\n     * Returns the current matrix.\n     * @param other\n     */\n    Matrix.prototype.multiplySelf = function (other) {\n        this.AxB(this.elements, other.elements);\n        return this;\n    };\n    /**\n     * The `other` matrix gets post-multiplied to the current matrix.\n     * Returns a new matrix.\n     * @param other\n     */\n    Matrix.prototype.multiply = function (other) {\n        var elements = new Array(6);\n        this.AxB(this.elements, other.elements, elements);\n        return new Matrix(elements);\n    };\n    Matrix.prototype.preMultiplySelf = function (other) {\n        this.AxB(other.elements, this.elements, this.elements);\n        return this;\n    };\n    /**\n     * Returns the inverse of this matrix as a new matrix.\n     */\n    Matrix.prototype.inverse = function () {\n        var _a = this.elements, a = _a[0], b = _a[1], c = _a[2], d = _a[3], e = _a[4], f = _a[5];\n        var rD = 1 / (a * d - b * c); // reciprocal of determinant\n        a *= rD;\n        b *= rD;\n        c *= rD;\n        d *= rD;\n        return new Matrix([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n    };\n    /**\n     * Save the inverse of this matrix to the given matrix.\n     */\n    Matrix.prototype.inverseTo = function (other) {\n        var _a = this.elements, a = _a[0], b = _a[1], c = _a[2], d = _a[3], e = _a[4], f = _a[5];\n        var rD = 1 / (a * d - b * c); // reciprocal of determinant\n        a *= rD;\n        b *= rD;\n        c *= rD;\n        d *= rD;\n        other.setElements([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n        return this;\n    };\n    Matrix.prototype.invertSelf = function () {\n        var elements = this.elements;\n        var a = elements[0], b = elements[1], c = elements[2], d = elements[3], e = elements[4], f = elements[5];\n        var rD = 1 / (a * d - b * c); // reciprocal of determinant\n        a *= rD;\n        b *= rD;\n        c *= rD;\n        d *= rD;\n        elements[0] = d;\n        elements[1] = -b;\n        elements[2] = -c;\n        elements[3] = a;\n        elements[4] = c * f - d * e;\n        elements[5] = b * e - a * f;\n        return this;\n    };\n    Matrix.prototype.clone = function () {\n        return new Matrix(this.elements.slice());\n    };\n    Matrix.prototype.transformPoint = function (x, y) {\n        var e = this.elements;\n        return {\n            x: x * e[0] + y * e[2] + e[4],\n            y: x * e[1] + y * e[3] + e[5]\n        };\n    };\n    Matrix.prototype.transformBBox = function (bbox, radius, target) {\n        if (radius === void 0) { radius = 0; }\n        var elements = this.elements;\n        var xx = elements[0];\n        var xy = elements[1];\n        var yx = elements[2];\n        var yy = elements[3];\n        var h_w = bbox.width * 0.5;\n        var h_h = bbox.height * 0.5;\n        var cx = bbox.x + h_w;\n        var cy = bbox.y + h_h;\n        var w, h;\n        if (radius) {\n            h_w -= radius;\n            h_h -= radius;\n            var sx = Math.sqrt(xx * xx + yx * yx);\n            var sy = Math.sqrt(xy * xy + yy * yy);\n            w = Math.abs(h_w * xx) + Math.abs(h_h * yx) + Math.abs(sx * radius);\n            h = Math.abs(h_w * xy) + Math.abs(h_h * yy) + Math.abs(sy * radius);\n        }\n        else {\n            w = Math.abs(h_w * xx) + Math.abs(h_h * yx);\n            h = Math.abs(h_w * xy) + Math.abs(h_h * yy);\n        }\n        if (!target) {\n            target = new BBox(0, 0, 0, 0);\n        }\n        target.x = cx * xx + cy * yx + elements[4] - w;\n        target.y = cx * xy + cy * yy + elements[5] - h;\n        target.width = w + w;\n        target.height = h + h;\n        return target;\n    };\n    Matrix.prototype.toContext = function (ctx) {\n        // It's fair to say that matrix multiplications are not cheap.\n        // However, updating path definitions on every frame isn't either, so\n        // it may be cheaper to just translate paths. It's also fair to\n        // say, that most paths will have to be re-rendered anyway, say\n        // rectangle paths in a bar chart, where an animation would happen when\n        // the data set changes and existing bars are morphed into new ones.\n        // Or a pie chart, where old sectors are also morphed into new ones.\n        // Same for the line chart. The only plausible case where translating\n        // existing paths would be enough, is the scatter chart, where marker\n        // icons, typically circles, stay the same size. But if circle radii\n        // are bound to some data points, even circle paths would have to be\n        // updated. And thus it makes sense to optimize for fewer matrix\n        // transforms, where transform matrices of paths are mostly identity\n        // matrices and `x`/`y`, `centerX`/`centerY` and similar properties\n        // are used to define a path at specific coordinates. And only groups\n        // are used to collectively apply a transform to a set of nodes.\n        // If the matrix is mostly identity (95% of the time),\n        // the `if (this.isIdentity)` check can make this call 3-4 times\n        // faster on average: https://jsperf.com/matrix-check-first-vs-always-set\n        if (this.identity) {\n            return;\n        }\n        var e = this.elements;\n        ctx.transform(e[0], e[1], e[2], e[3], e[4], e[5]);\n    };\n    Matrix.flyweight = function (elements) {\n        if (elements) {\n            if (elements instanceof Matrix) {\n                Matrix.matrix.setElements(elements.elements);\n            }\n            else {\n                Matrix.matrix.setElements(elements);\n            }\n        }\n        else {\n            Matrix.matrix.setIdentityElements();\n        }\n        return Matrix.matrix;\n    };\n    Matrix.matrix = new Matrix();\n    return Matrix;\n}());\nexport { Matrix };\n","export function createId(instance) {\n    var constructor = instance.constructor;\n    var className = constructor.className;\n    if (!className) {\n        throw new Error(\"The \" + constructor + \" is missing the 'className' property.\");\n    }\n    return className + '-' + (constructor.id = (constructor.id || 0) + 1);\n}\n","/**\n * Creates a new object with a `parent` as its prototype\n * and copies properties from the `child` into it.\n * @param parent\n * @param child\n */\nexport function chainObjects(parent, child) {\n    var obj = Object.create(parent);\n    for (var prop in child) {\n        if (child.hasOwnProperty(prop)) {\n            obj[prop] = child[prop];\n        }\n    }\n    return obj;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Node } from \"../node\";\nimport { chainObjects } from \"../../util/object\";\nvar Shape = /** @class */ (function (_super) {\n    __extends(Shape, _super);\n    function Shape() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.lastInstanceId = 0;\n        _this._fillOpacity = 1;\n        _this._strokeOpacity = 1;\n        _this._fill = Shape.defaultStyles.fill;\n        /**\n         * Note that `strokeStyle = null` means invisible stroke,\n         * while `lineWidth = 0` means no stroke, and sometimes this can mean different things.\n         * For example, a rect shape with an invisible stroke may not align to the pixel grid\n         * properly because the stroke affects the rules of alignment, and arc shapes forming\n         * a pie chart will have a gap between them if they have an invisible stroke, whereas\n         * there would be not gap if there was no stroke at all.\n         * The preferred way of making the stroke invisible is setting the `lineWidth` to zero,\n         * unless specific looks that is achieved by having an invisible stroke is desired.\n         */\n        _this._stroke = Shape.defaultStyles.stroke;\n        _this._strokeWidth = Shape.defaultStyles.strokeWidth;\n        _this._lineDash = Shape.defaultStyles.lineDash;\n        _this._lineDashOffset = Shape.defaultStyles.lineDashOffset;\n        _this._lineCap = Shape.defaultStyles.lineCap;\n        _this._lineJoin = Shape.defaultStyles.lineJoin;\n        _this._opacity = Shape.defaultStyles.opacity;\n        _this.onShadowChange = function () {\n            _this.dirty = true;\n        };\n        _this._fillShadow = Shape.defaultStyles.fillShadow;\n        _this._strokeShadow = Shape.defaultStyles.strokeShadow;\n        return _this;\n    }\n    /**\n     * Creates a light-weight instance of the given shape (that serves as a template).\n     * The created instance only stores the properites set on the instance itself\n     * and the rest of the properties come via the prototype chain from the template.\n     * This can greatly reduce memory usage in cases where one has many simular shapes,\n     * for example, circles of different size, position and color. The exact memory usage\n     * reduction will depend on the size of the template and the number of own properties\n     * set on its lightweight instances, but will typically be around an order of magnitude\n     * or more.\n     *\n     * Note: template shapes are not supposed to be part of the scene graph (they should not\n     * have a parent).\n     *\n     * @param template\n     */\n    Shape.createInstance = function (template) {\n        var shape = Object.create(template);\n        shape._setParent(undefined);\n        shape.id = template.id + '-Instance-' + String(++template.lastInstanceId);\n        return shape;\n    };\n    /**\n     * Restores the default styles introduced by this subclass.\n     */\n    Shape.prototype.restoreOwnStyles = function () {\n        var styles = this.constructor.defaultStyles;\n        var keys = Object.getOwnPropertyNames(styles);\n        // getOwnPropertyNames is about 2.5 times faster than\n        // for..in with the hasOwnProperty check and in this\n        // case, where most properties are inherited, can be\n        // more then an order of magnitude faster.\n        for (var i = 0, n = keys.length; i < n; i++) {\n            var key = keys[i];\n            this[key] = styles[key];\n        }\n    };\n    Shape.prototype.restoreAllStyles = function () {\n        var styles = this.constructor.defaultStyles;\n        for (var property in styles) {\n            this[property] = styles[property];\n        }\n    };\n    /**\n     * Restores the base class default styles that have been overridden by this subclass.\n     */\n    Shape.prototype.restoreOverriddenStyles = function () {\n        var styles = this.constructor.defaultStyles;\n        var protoStyles = Object.getPrototypeOf(styles);\n        for (var property in styles) {\n            if (styles.hasOwnProperty(property) && protoStyles.hasOwnProperty(property)) {\n                this[property] = styles[property];\n            }\n        }\n    };\n    Object.defineProperty(Shape.prototype, \"fillOpacity\", {\n        get: function () {\n            return this._fillOpacity;\n        },\n        set: function (value) {\n            if (this._fillOpacity !== value) {\n                this._fillOpacity = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"strokeOpacity\", {\n        get: function () {\n            return this._strokeOpacity;\n        },\n        set: function (value) {\n            if (this._strokeOpacity !== value) {\n                this._strokeOpacity = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"fill\", {\n        get: function () {\n            return this._fill;\n        },\n        set: function (value) {\n            if (this._fill !== value) {\n                this._fill = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"stroke\", {\n        get: function () {\n            return this._stroke;\n        },\n        set: function (value) {\n            if (this._stroke !== value) {\n                this._stroke = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"strokeWidth\", {\n        get: function () {\n            return this._strokeWidth;\n        },\n        set: function (value) {\n            if (this._strokeWidth !== value) {\n                this._strokeWidth = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"alignment\", {\n        // An offset value to align to the pixel grid.\n        get: function () {\n            return Math.floor(this.strokeWidth) % 2 / 2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Returns the aligned `start` or `length` value.\n    // For example: `start` could be `y` and `length` could be `height` of a rectangle.\n    Shape.prototype.align = function (alignment, start, length) {\n        if (length != undefined) {\n            return Math.floor(length) + Math.floor(start % 1 + length % 1);\n        }\n        return Math.floor(start) + alignment;\n    };\n    Object.defineProperty(Shape.prototype, \"lineDash\", {\n        get: function () {\n            return this._lineDash;\n        },\n        set: function (value) {\n            var oldValue = this._lineDash;\n            if (oldValue !== value) {\n                if (oldValue && value && oldValue.length === value.length) {\n                    var identical = true;\n                    var n = value.length;\n                    for (var i = 0; i < n; i++) {\n                        if (oldValue[i] !== value[i]) {\n                            identical = false;\n                            break;\n                        }\n                    }\n                    if (identical) {\n                        return;\n                    }\n                }\n                this._lineDash = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"lineDashOffset\", {\n        get: function () {\n            return this._lineDashOffset;\n        },\n        set: function (value) {\n            if (this._lineDashOffset !== value) {\n                this._lineDashOffset = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"lineCap\", {\n        get: function () {\n            return this._lineCap;\n        },\n        set: function (value) {\n            if (this._lineCap !== value) {\n                this._lineCap = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"lineJoin\", {\n        get: function () {\n            return this._lineJoin;\n        },\n        set: function (value) {\n            if (this._lineJoin !== value) {\n                this._lineJoin = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"opacity\", {\n        get: function () {\n            return this._opacity;\n        },\n        set: function (value) {\n            value = Math.min(1, Math.max(0, value));\n            if (this._opacity !== value) {\n                this._opacity = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"fillShadow\", {\n        get: function () {\n            return this._fillShadow;\n        },\n        set: function (value) {\n            var oldValue = this._fillShadow;\n            if (oldValue !== value) {\n                if (oldValue) {\n                    oldValue.removeEventListener('change', this.onShadowChange);\n                }\n                if (value) {\n                    value.addEventListener('change', this.onShadowChange);\n                }\n                this._fillShadow = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"strokeShadow\", {\n        get: function () {\n            return this._strokeShadow;\n        },\n        set: function (value) {\n            var oldValue = this._strokeShadow;\n            if (oldValue !== value) {\n                if (oldValue) {\n                    oldValue.removeEventListener('change', this.onShadowChange);\n                }\n                if (value) {\n                    value.addEventListener('change', this.onShadowChange);\n                }\n                this._strokeShadow = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Shape.prototype.fillStroke = function (ctx) {\n        var pixelRatio = this.scene.canvas.pixelRatio || 1;\n        if (this.fill) {\n            ctx.fillStyle = this.fill;\n            ctx.globalAlpha = this.opacity * this.fillOpacity;\n            // The canvas context scaling (depends on the device's pixel ratio)\n            // has no effect on shadows, so we have to account for the pixel ratio\n            // manually here.\n            var fillShadow = this.fillShadow;\n            if (fillShadow && fillShadow.enabled) {\n                ctx.shadowColor = fillShadow.color;\n                ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = fillShadow.blur * pixelRatio;\n            }\n            ctx.fill();\n        }\n        ctx.shadowColor = 'rgba(0, 0, 0, 0)';\n        if (this.stroke && this.strokeWidth) {\n            ctx.strokeStyle = this.stroke;\n            ctx.globalAlpha = this.opacity * this.strokeOpacity;\n            ctx.lineWidth = this.strokeWidth;\n            if (this.lineDash) {\n                ctx.setLineDash(this.lineDash);\n            }\n            if (this.lineDashOffset) {\n                ctx.lineDashOffset = this.lineDashOffset;\n            }\n            if (this.lineCap) {\n                ctx.lineCap = this.lineCap;\n            }\n            if (this.lineJoin) {\n                ctx.lineJoin = this.lineJoin;\n            }\n            var strokeShadow = this.strokeShadow;\n            if (strokeShadow && strokeShadow.enabled) {\n                ctx.shadowColor = strokeShadow.color;\n                ctx.shadowOffsetX = strokeShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = strokeShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = strokeShadow.blur * pixelRatio;\n            }\n            ctx.stroke();\n        }\n    };\n    Shape.prototype.containsPoint = function (x, y) {\n        return this.isPointInPath(x, y);\n    };\n    /**\n     * Defaults for style properties. Note that properties that affect the position\n     * and shape of the node are not considered style properties, for example:\n     * `x`, `y`, `width`, `height`, `radius`, `rotation`, etc.\n     * Can be used to reset to the original styling after some custom styling\n     * has been applied (using the `restoreOwnStyles` and `restoreAllStyles` methods).\n     * These static defaults are meant to be inherited by subclasses.\n     */\n    Shape.defaultStyles = chainObjects({}, {\n        fill: 'black',\n        stroke: undefined,\n        strokeWidth: 0,\n        lineDash: undefined,\n        lineDashOffset: 0,\n        lineCap: undefined,\n        lineJoin: undefined,\n        opacity: 1,\n        fillShadow: undefined,\n        strokeShadow: undefined\n    });\n    return Shape;\n}(Node));\nexport { Shape };\n","/**\n * Wraps the native Canvas element and overrides its CanvasRenderingContext2D to\n * provide resolution independent rendering based on `window.devicePixelRatio`.\n */\nvar HdpiCanvas = /** @class */ (function () {\n    // The width/height attributes of the Canvas element default to\n    // 300/150 according to w3.org.\n    function HdpiCanvas(document, width, height) {\n        if (document === void 0) { document = window.document; }\n        if (width === void 0) { width = 600; }\n        if (height === void 0) { height = 300; }\n        this._container = undefined;\n        // `NaN` is deliberate here, so that overrides are always applied\n        // and the `resetTransform` inside the `resize` method works in IE11.\n        this._pixelRatio = NaN;\n        this.document = document;\n        this.element = document.createElement('canvas');\n        this.context = this.element.getContext('2d');\n        this.element.style.userSelect = 'none';\n        this.element.style.display = 'block';\n        this.setPixelRatio();\n        this.resize(width, height);\n    }\n    Object.defineProperty(HdpiCanvas.prototype, \"container\", {\n        get: function () {\n            return this._container;\n        },\n        set: function (value) {\n            if (this._container !== value) {\n                this.remove();\n                if (value) {\n                    value.appendChild(this.element);\n                }\n                this._container = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HdpiCanvas.prototype.remove = function () {\n        var parentNode = this.element.parentNode;\n        if (parentNode != null) {\n            parentNode.removeChild(this.element);\n        }\n    };\n    HdpiCanvas.prototype.destroy = function () {\n        this.element.remove();\n        this._canvas = undefined;\n        Object.freeze(this);\n    };\n    HdpiCanvas.prototype.toImage = function () {\n        var img = this.document.createElement('img');\n        img.src = this.getDataURL();\n        return img;\n    };\n    HdpiCanvas.prototype.getDataURL = function (type) {\n        return this.element.toDataURL(type);\n    };\n    /**\n     * @param options.fileName The `.png` extension is going to be added automatically.\n     * @param [options.background] Defaults to `white`.\n     */\n    HdpiCanvas.prototype.download = function (fileName) {\n        fileName = ((fileName || '').trim() || 'image') + '.png';\n        // Chart images saved as JPEG are a few times larger at 50% quality than PNG images,\n        // so we don't support saving to JPEG.\n        var type = 'image/png';\n        var dataUrl = this.getDataURL(type);\n        var document = this.document;\n        if (navigator.msSaveOrOpenBlob) { // IE11\n            var binary = atob(dataUrl.split(',')[1]); // strip the `data:image/png;base64,` part\n            var array = [];\n            for (var i = 0, n = binary.length; i < n; i++) {\n                array.push(binary.charCodeAt(i));\n            }\n            var blob = new Blob([new Uint8Array(array)], { type: type });\n            navigator.msSaveOrOpenBlob(blob, fileName);\n        }\n        else {\n            var a = document.createElement('a');\n            a.href = dataUrl;\n            a.download = fileName;\n            a.style.display = 'none';\n            document.body.appendChild(a); // required for the `click` to work in Firefox\n            a.click();\n            document.body.removeChild(a);\n        }\n    };\n    Object.defineProperty(HdpiCanvas.prototype, \"pixelRatio\", {\n        get: function () {\n            return this._pixelRatio;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Changes the pixel ratio of the Canvas element to the given value,\n     * or uses the window.devicePixelRatio (default), then resizes the Canvas\n     * element accordingly (default).\n     */\n    HdpiCanvas.prototype.setPixelRatio = function (ratio) {\n        var pixelRatio = ratio || window.devicePixelRatio;\n        if (pixelRatio === this.pixelRatio) {\n            return;\n        }\n        HdpiCanvas.overrideScale(this.context, pixelRatio);\n        this._pixelRatio = pixelRatio;\n        this.resize(this.width, this.height);\n    };\n    Object.defineProperty(HdpiCanvas.prototype, \"pixelated\", {\n        get: function () {\n            return this.element.style.imageRendering === 'pixelated';\n        },\n        set: function (value) {\n            this.element.style.imageRendering = value ? 'pixelated' : 'auto';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HdpiCanvas.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HdpiCanvas.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HdpiCanvas.prototype.resize = function (width, height) {\n        var _a = this, element = _a.element, context = _a.context, pixelRatio = _a.pixelRatio;\n        element.width = Math.round(width * pixelRatio);\n        element.height = Math.round(height * pixelRatio);\n        element.style.width = width + 'px';\n        element.style.height = height + 'px';\n        context.resetTransform();\n        this._width = width;\n        this._height = height;\n    };\n    Object.defineProperty(HdpiCanvas, \"textMeasuringContext\", {\n        get: function () {\n            if (this._textMeasuringContext) {\n                return this._textMeasuringContext;\n            }\n            var canvas = document.createElement('canvas');\n            return this._textMeasuringContext = canvas.getContext('2d');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HdpiCanvas, \"svgText\", {\n        get: function () {\n            if (this._svgText) {\n                return this._svgText;\n            }\n            var xmlns = 'http://www.w3.org/2000/svg';\n            var svg = document.createElementNS(xmlns, 'svg');\n            svg.setAttribute('width', '100');\n            svg.setAttribute('height', '100');\n            // Add a descriptive class name in case someone sees this SVG element\n            // in devtools and wonders about its purpose:\n            if (svg.classList) {\n                svg.classList.add('text-measuring-svg');\n            }\n            else {\n                svg.setAttribute('class', 'text-measuring-svg');\n            }\n            svg.style.position = 'absolute';\n            svg.style.top = '-1000px';\n            svg.style.visibility = 'hidden';\n            var svgText = document.createElementNS(xmlns, 'text');\n            svgText.setAttribute('x', '0');\n            svgText.setAttribute('y', '30');\n            svgText.setAttribute('text', 'black');\n            svg.appendChild(svgText);\n            document.body.appendChild(svg);\n            this._svgText = svgText;\n            return svgText;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HdpiCanvas, \"has\", {\n        get: function () {\n            if (this._has) {\n                return this._has;\n            }\n            return this._has = Object.freeze({\n                textMetrics: this.textMeasuringContext.measureText('test').actualBoundingBoxDescent !== undefined\n                    // Firefox implemented advanced TextMetrics object in v74:\n                    // https://bugzilla.mozilla.org/show_bug.cgi?id=1102584\n                    // but it's buggy, so we'll keed using the SVG for text measurement in Firefox for now.\n                    && !/Firefox\\/\\d+(.\\d)+/.test(window.navigator.userAgent),\n                getTransform: this.textMeasuringContext.getTransform !== undefined\n            });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HdpiCanvas.measureText = function (text, font, textBaseline, textAlign) {\n        var ctx = this.textMeasuringContext;\n        ctx.font = font;\n        ctx.textBaseline = textBaseline;\n        ctx.textAlign = textAlign;\n        return ctx.measureText(text);\n    };\n    /**\n     * Returns the width and height of the measured text.\n     * @param text The single-line text to measure.\n     * @param font The font shorthand string.\n     */\n    HdpiCanvas.getTextSize = function (text, font) {\n        if (this.has.textMetrics) {\n            var ctx = this.textMeasuringContext;\n            ctx.font = font;\n            var metrics = ctx.measureText(text);\n            return {\n                width: metrics.width,\n                height: metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent\n            };\n        }\n        else {\n            return this.measureSvgText(text, font);\n        }\n    };\n    HdpiCanvas.measureSvgText = function (text, font) {\n        var cache = this.textSizeCache;\n        var fontCache = cache[font];\n        // Note: consider not caching the size of numeric strings.\n        // For example: if (isNaN(+text)) { // skip\n        if (fontCache) {\n            var size_1 = fontCache[text];\n            if (size_1) {\n                return size_1;\n            }\n        }\n        else {\n            cache[font] = {};\n        }\n        var svgText = this.svgText;\n        svgText.style.font = font;\n        svgText.textContent = text;\n        // `getBBox` returns an instance of `SVGRect` with the same `width` and `height`\n        // measurements as `DOMRect` instance returned by the `getBoundingClientRect`.\n        // But the `SVGRect` instance has half the properties of the `DOMRect`,\n        // so we use the `getBBox` method.\n        var bbox = svgText.getBBox();\n        var size = {\n            width: bbox.width,\n            height: bbox.height\n        };\n        cache[font][text] = size;\n        return size;\n    };\n    HdpiCanvas.overrideScale = function (ctx, scale) {\n        var depth = 0;\n        var overrides = {\n            save: function () {\n                this.$save();\n                depth++;\n            },\n            restore: function () {\n                if (depth > 0) {\n                    this.$restore();\n                    depth--;\n                }\n            },\n            setTransform: function (a, b, c, d, e, f) {\n                this.$setTransform(a * scale, b * scale, c * scale, d * scale, e * scale, f * scale);\n            },\n            resetTransform: function () {\n                // As of Jan 8, 2019, `resetTransform` is still an \"experimental technology\",\n                // and doesn't work in IE11 and Edge 44.\n                this.$setTransform(scale, 0, 0, scale, 0, 0);\n                this.save();\n                depth = 0;\n                // The scale above will be impossible to restore,\n                // because we override the `ctx.restore` above and\n                // check `depth` there.\n            }\n        };\n        for (var name_1 in overrides) {\n            if (overrides.hasOwnProperty(name_1)) {\n                // Save native methods under prefixed names,\n                // if this hasn't been done by the previous overrides already.\n                if (!ctx['$' + name_1]) {\n                    ctx['$' + name_1] = ctx[name_1];\n                }\n                // Replace native methods with overrides,\n                // or previous overrides with the new ones.\n                ctx[name_1] = overrides[name_1];\n            }\n        }\n    };\n    HdpiCanvas.textSizeCache = {};\n    return HdpiCanvas;\n}());\nexport { HdpiCanvas };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Shape } from \"./shape\";\nimport { chainObjects } from \"../../util/object\";\nimport { BBox } from \"../bbox\";\nimport { HdpiCanvas } from \"../../canvas/hdpiCanvas\";\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._x = 0;\n        _this._y = 0;\n        _this.lineBreakRegex = /\\r?\\n/g;\n        _this.lines = [];\n        _this._text = '';\n        _this._dirtyFont = true;\n        _this._fontSize = 10;\n        _this._fontFamily = 'sans-serif';\n        _this._textAlign = Text.defaultStyles.textAlign;\n        _this._textBaseline = Text.defaultStyles.textBaseline;\n        _this._lineHeight = 14;\n        return _this;\n    }\n    Object.defineProperty(Text.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            if (this._x !== value) {\n                this._x = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            if (this._y !== value) {\n                this._y = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Text.prototype.splitText = function () {\n        this.lines = this._text.split(this.lineBreakRegex);\n    };\n    Object.defineProperty(Text.prototype, \"text\", {\n        get: function () {\n            return this._text;\n        },\n        set: function (value) {\n            var str = String(value); // `value` can be an object here\n            if (this._text !== str) {\n                this._text = str;\n                this.splitText();\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"font\", {\n        get: function () {\n            if (this.dirtyFont) {\n                this.dirtyFont = false;\n                this._font = [\n                    this.fontStyle || '',\n                    this.fontWeight || '',\n                    this.fontSize + 'px',\n                    this.fontFamily\n                ].join(' ').trim();\n            }\n            return this._font;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"dirtyFont\", {\n        get: function () {\n            return this._dirtyFont;\n        },\n        set: function (value) {\n            if (this._dirtyFont !== value) {\n                this._dirtyFont = value;\n                if (value) {\n                    this.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"fontStyle\", {\n        get: function () {\n            return this._fontStyle;\n        },\n        set: function (value) {\n            if (this._fontStyle !== value) {\n                this._fontStyle = value;\n                this.dirtyFont = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"fontWeight\", {\n        get: function () {\n            return this._fontWeight;\n        },\n        set: function (value) {\n            if (this._fontWeight !== value) {\n                this._fontWeight = value;\n                this.dirtyFont = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"fontSize\", {\n        get: function () {\n            return this._fontSize;\n        },\n        set: function (value) {\n            if (!isFinite(value)) {\n                value = 10;\n            }\n            if (this._fontSize !== value) {\n                this._fontSize = value;\n                this.dirtyFont = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"fontFamily\", {\n        get: function () {\n            return this._fontFamily;\n        },\n        set: function (value) {\n            if (this._fontFamily !== value) {\n                this._fontFamily = value;\n                this.dirtyFont = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"textAlign\", {\n        get: function () {\n            return this._textAlign;\n        },\n        set: function (value) {\n            if (this._textAlign !== value) {\n                this._textAlign = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"textBaseline\", {\n        get: function () {\n            return this._textBaseline;\n        },\n        set: function (value) {\n            if (this._textBaseline !== value) {\n                this._textBaseline = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"lineHeight\", {\n        get: function () {\n            return this._lineHeight;\n        },\n        set: function (value) {\n            // Multi-line text is complicated because:\n            // - Canvas does not support it natively, so we have to implement it manually\n            // - need to know the height of each line -> need to parse the font shorthand ->\n            //   generally impossible to do because font size may not be in pixels\n            // - so, need to measure the text instead, each line individually -> expensive\n            // - or make the user provide the line height manually for multi-line text\n            // - computeBBox should use the lineHeight for multi-line text but ignore it otherwise\n            // - textBaseline kind of loses its meaning for multi-line text\n            if (this._lineHeight !== value) {\n                this._lineHeight = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Text.prototype.computeBBox = function () {\n        return HdpiCanvas.has.textMetrics\n            ? this.getPreciseBBox()\n            : this.getApproximateBBox();\n    };\n    Text.prototype.getPreciseBBox = function () {\n        var metrics = HdpiCanvas.measureText(this.text, this.font, this.textBaseline, this.textAlign);\n        return new BBox(this.x - metrics.actualBoundingBoxLeft, this.y - metrics.actualBoundingBoxAscent, metrics.width, metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent);\n    };\n    Text.prototype.getApproximateBBox = function () {\n        var size = HdpiCanvas.getTextSize(this.text, this.font);\n        var _a = this, x = _a.x, y = _a.y;\n        switch (this.textAlign) {\n            case 'end':\n            case 'right':\n                x -= size.width;\n                break;\n            case 'center':\n                x -= size.width / 2;\n        }\n        switch (this.textBaseline) {\n            case 'alphabetic':\n                y -= size.height * 0.7;\n                break;\n            case 'middle':\n                y -= size.height * 0.45;\n                break;\n            case 'ideographic':\n                y -= size.height;\n                break;\n            case 'hanging':\n                y -= size.height * 0.2;\n                break;\n            case 'bottom':\n                y -= size.height;\n                break;\n        }\n        return new BBox(x, y, size.width, size.height);\n    };\n    Text.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        var bbox = this.computeBBox();\n        return bbox ? bbox.containsPoint(point.x, point.y) : false;\n    };\n    Text.prototype.isPointInStroke = function (x, y) {\n        return false;\n    };\n    Text.prototype.render = function (ctx) {\n        if (!this.lines.length) {\n            return;\n        }\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        // this.matrix.transformBBox(this.computeBBox!()).render(ctx); // debug\n        this.matrix.toContext(ctx);\n        var _a = this, fill = _a.fill, stroke = _a.stroke, strokeWidth = _a.strokeWidth;\n        ctx.font = this.font;\n        ctx.textAlign = this.textAlign;\n        ctx.textBaseline = this.textBaseline;\n        var pixelRatio = this.scene.canvas.pixelRatio || 1;\n        if (fill) {\n            ctx.fillStyle = fill;\n            ctx.globalAlpha = this.opacity * this.fillOpacity;\n            var _b = this, fillShadow = _b.fillShadow, text = _b.text, x = _b.x, y = _b.y;\n            if (fillShadow && fillShadow.enabled) {\n                ctx.shadowColor = fillShadow.color;\n                ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = fillShadow.blur * pixelRatio;\n            }\n            ctx.fillText(text, x, y);\n        }\n        if (stroke && strokeWidth) {\n            ctx.strokeStyle = stroke;\n            ctx.lineWidth = strokeWidth;\n            ctx.globalAlpha = this.opacity * this.strokeOpacity;\n            var _c = this, lineDash = _c.lineDash, lineDashOffset = _c.lineDashOffset, lineCap = _c.lineCap, lineJoin = _c.lineJoin, strokeShadow = _c.strokeShadow, text = _c.text, x = _c.x, y = _c.y;\n            if (lineDash) {\n                ctx.setLineDash(lineDash);\n            }\n            if (lineDashOffset) {\n                ctx.lineDashOffset = lineDashOffset;\n            }\n            if (lineCap) {\n                ctx.lineCap = lineCap;\n            }\n            if (lineJoin) {\n                ctx.lineJoin = lineJoin;\n            }\n            if (strokeShadow && strokeShadow.enabled) {\n                ctx.shadowColor = strokeShadow.color;\n                ctx.shadowOffsetX = strokeShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = strokeShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = strokeShadow.blur * pixelRatio;\n            }\n            ctx.strokeText(text, x, y);\n        }\n        this.dirty = false;\n    };\n    Text.className = 'Text';\n    Text.defaultStyles = chainObjects(Shape.defaultStyles, {\n        textAlign: 'start',\n        fontStyle: undefined,\n        fontWeight: undefined,\n        fontSize: 10,\n        fontFamily: 'sans-serif',\n        textBaseline: 'alphabetic'\n    });\n    return Text;\n}(Shape));\nexport { Text };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar Observable = /** @class */ (function () {\n    function Observable() {\n        // Note that these maps can't be specified generically, so they are kept untyped.\n        // Some methods in this class only need generics in their signatures, the generics inside the methods\n        // are just for clarity. The generics in signatures allow for static type checking of user provided\n        // listeners and for type inference, so that the users wouldn't have to specify the type of parameters\n        // of their inline lambdas.\n        this.allPropertyListeners = new Map(); // property name => property change listener => scopes\n        this.allEventListeners = new Map(); // event type => event listener => scopes\n    }\n    Observable.prototype.addPropertyListener = function (name, listener, scope) {\n        if (scope === void 0) { scope = this; }\n        var allPropertyListeners = this.allPropertyListeners;\n        var propertyListeners = allPropertyListeners.get(name);\n        if (!propertyListeners) {\n            propertyListeners = new Map();\n            allPropertyListeners.set(name, propertyListeners);\n        }\n        if (!propertyListeners.has(listener)) {\n            var scopes = new Set();\n            propertyListeners.set(listener, scopes);\n        }\n        propertyListeners.get(listener).add(scope);\n    };\n    Observable.prototype.removePropertyListener = function (name, listener, scope) {\n        if (scope === void 0) { scope = this; }\n        var allPropertyListeners = this.allPropertyListeners;\n        var propertyListeners = allPropertyListeners.get(name);\n        if (propertyListeners) {\n            if (listener) {\n                var scopes = propertyListeners.get(listener);\n                scopes.delete(scope);\n                if (!scopes.size) {\n                    propertyListeners.delete(listener);\n                }\n            }\n            else {\n                propertyListeners.clear();\n            }\n        }\n    };\n    Observable.prototype.notifyPropertyListeners = function (name, oldValue, value) {\n        var _this = this;\n        var allPropertyListeners = this.allPropertyListeners;\n        var propertyListeners = allPropertyListeners.get(name);\n        if (propertyListeners) {\n            propertyListeners.forEach(function (scopes, listener) {\n                scopes.forEach(function (scope) { return listener.call(scope, { type: name, source: _this, value: value, oldValue: oldValue }); });\n            });\n        }\n    };\n    Observable.prototype.addEventListener = function (type, listener, scope) {\n        if (scope === void 0) { scope = this; }\n        var allEventListeners = this.allEventListeners;\n        var eventListeners = allEventListeners.get(type);\n        if (!eventListeners) {\n            eventListeners = new Map();\n            allEventListeners.set(type, eventListeners);\n        }\n        if (!eventListeners.has(listener)) {\n            var scopes = new Set();\n            eventListeners.set(listener, scopes);\n        }\n        eventListeners.get(listener).add(scope);\n    };\n    Observable.prototype.removeEventListener = function (type, listener, scope) {\n        if (scope === void 0) { scope = this; }\n        var allEventListeners = this.allEventListeners;\n        var eventListeners = allEventListeners.get(type);\n        if (eventListeners) {\n            if (listener) {\n                var scopes = eventListeners.get(listener);\n                scopes.delete(scope);\n                if (!scopes.size) {\n                    eventListeners.delete(listener);\n                }\n            }\n            else {\n                eventListeners.clear();\n            }\n        }\n    };\n    Observable.prototype.notifyEventListeners = function (types) {\n        var _this = this;\n        var allEventListeners = this.allEventListeners;\n        types.forEach(function (type) {\n            var listeners = allEventListeners.get(type);\n            if (listeners) {\n                listeners.forEach(function (scopes, listener) {\n                    scopes.forEach(function (scope) { return listener.call(scope, { type: type, source: _this }); });\n                });\n            }\n        });\n    };\n    Observable.prototype.fireEvent = function (event) {\n        var _this = this;\n        var listeners = this.allEventListeners.get(event.type);\n        if (listeners) {\n            listeners.forEach(function (scopes, listener) {\n                scopes.forEach(function (scope) { return listener.call(scope, __assign(__assign({}, event), { source: _this })); });\n            });\n        }\n    };\n    Observable.privateKeyPrefix = '_';\n    return Observable;\n}());\nexport { Observable };\nexport function reactive() {\n    var events = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        events[_i] = arguments[_i];\n    }\n    return function (target, key) {\n        // `target` is either a constructor (static member) or prototype (instance member)\n        var privateKey = Observable.privateKeyPrefix + key;\n        var privateKeyEvents = privateKey + 'Events';\n        if (!target[key]) {\n            if (events) {\n                target[privateKeyEvents] = events;\n            }\n            Object.defineProperty(target, key, {\n                set: function (value) {\n                    var oldValue;\n                    oldValue = this[privateKey];\n                    if (oldValue !== value || (typeof value === 'object' && value !== null)) {\n                        this[privateKey] = value;\n                        this.notifyPropertyListeners(key, oldValue, value);\n                        var events_1 = this[privateKeyEvents];\n                        if (events_1) {\n                            this.notifyEventListeners(events_1);\n                        }\n                    }\n                },\n                get: function () {\n                    var value;\n                    value = this[privateKey];\n                    return value;\n                },\n                enumerable: true,\n                configurable: true\n            });\n        }\n    };\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Padding } from \"./util/padding\";\nimport { Text } from \"./scene/shape/text\";\nimport { PointerEvents } from \"./scene/node\";\nimport { Observable, reactive } from \"./util/observable\";\nvar Caption = /** @class */ (function (_super) {\n    __extends(Caption, _super);\n    function Caption() {\n        var _this = _super.call(this) || this;\n        _this.node = new Text();\n        _this.enabled = true;\n        _this.padding = new Padding(10);\n        var node = _this.node;\n        node.textAlign = 'center';\n        node.textBaseline = 'top';\n        node.pointerEvents = PointerEvents.None;\n        return _this;\n    }\n    Object.defineProperty(Caption.prototype, \"text\", {\n        get: function () {\n            return this.node.text;\n        },\n        set: function (value) {\n            if (this.node.text !== value) {\n                this.node.text = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Caption.prototype, \"fontStyle\", {\n        get: function () {\n            return this.node.fontStyle;\n        },\n        set: function (value) {\n            if (this.node.fontStyle !== value) {\n                this.node.fontStyle = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Caption.prototype, \"fontWeight\", {\n        get: function () {\n            return this.node.fontWeight;\n        },\n        set: function (value) {\n            if (this.node.fontWeight !== value) {\n                this.node.fontWeight = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Caption.prototype, \"fontSize\", {\n        get: function () {\n            return this.node.fontSize;\n        },\n        set: function (value) {\n            if (this.node.fontSize !== value) {\n                this.node.fontSize = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Caption.prototype, \"fontFamily\", {\n        get: function () {\n            return this.node.fontFamily;\n        },\n        set: function (value) {\n            if (this.node.fontFamily !== value) {\n                this.node.fontFamily = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Caption.prototype, \"color\", {\n        get: function () {\n            return this.node.fill;\n        },\n        set: function (value) {\n            if (this.node.fill !== value) {\n                this.node.fill = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    __decorate([\n        reactive('change')\n    ], Caption.prototype, \"enabled\", void 0);\n    __decorate([\n        reactive('change')\n    ], Caption.prototype, \"padding\", void 0);\n    return Caption;\n}(Observable));\nexport { Caption };\n","/**\n * Maps a discrete domain to a continuous numeric range.\n * See https://github.com/d3/d3-scale#band-scales for more info.\n */\nvar BandScale = /** @class */ (function () {\n    function BandScale() {\n        /**\n         * Maps datum to its index in the {@link domain} array.\n         * Used to check for duplicate datums (not allowed).\n         */\n        this.index = new Map();\n        /**\n         * The output range values for datum at each index.\n         */\n        this.ordinalRange = [];\n        /**\n         * Contains unique datums only. Since `{}` is used in place of `Map`\n         * for IE11 compatibility, the datums are converted `toString` before\n         * the uniqueness check.\n         */\n        this._domain = [];\n        this._range = [0, 1];\n        this._bandwidth = 1;\n        /**\n         * The ratio of the range that is reserved for space between bands.\n         */\n        this._paddingInner = 0;\n        /**\n         * The ratio of the range that is reserved for space before the first\n         * and after the last band.\n         */\n        this._paddingOuter = 0;\n        this._round = false;\n        /**\n         * How the leftover range is distributed.\n         * `0.5` - equal distribution of space before the first and after the last band,\n         * with bands effectively centered within the range.\n         */\n        this._align = 0.5;\n    }\n    Object.defineProperty(BandScale.prototype, \"domain\", {\n        get: function () {\n            return this._domain;\n        },\n        set: function (values) {\n            var domain = this._domain;\n            domain.length = 0;\n            this.index = new Map();\n            var index = this.index;\n            // In case one wants to have duplicate domain values, for example, two 'Italy' categories,\n            // one should use objects rather than strings for domain values like so:\n            // { toString: () => 'Italy' }\n            // { toString: () => 'Italy' }\n            values.forEach(function (value) {\n                if (index.get(value) === undefined) {\n                    index.set(value, domain.push(value) - 1);\n                }\n            });\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"range\", {\n        get: function () {\n            return this._range;\n        },\n        set: function (values) {\n            this._range[0] = values[0];\n            this._range[1] = values[1];\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BandScale.prototype.ticks = function () {\n        return this._domain;\n    };\n    BandScale.prototype.convert = function (d) {\n        var i = this.index.get(d);\n        if (i === undefined) {\n            return NaN;\n        }\n        var r = this.ordinalRange[i];\n        if (r === undefined) {\n            return NaN;\n        }\n        return r;\n    };\n    Object.defineProperty(BandScale.prototype, \"bandwidth\", {\n        get: function () {\n            return this._bandwidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"padding\", {\n        get: function () {\n            return this._paddingInner;\n        },\n        set: function (value) {\n            value = Math.max(0, Math.min(1, value));\n            this._paddingInner = value;\n            this._paddingOuter = value;\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"paddingInner\", {\n        get: function () {\n            return this._paddingInner;\n        },\n        set: function (value) {\n            this._paddingInner = Math.max(0, Math.min(1, value)); // [0, 1]\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"paddingOuter\", {\n        get: function () {\n            return this._paddingOuter;\n        },\n        set: function (value) {\n            this._paddingOuter = Math.max(0, Math.min(1, value)); // [0, 1]\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"round\", {\n        get: function () {\n            return this._round;\n        },\n        set: function (value) {\n            this._round = value;\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"align\", {\n        get: function () {\n            return this._align;\n        },\n        set: function (value) {\n            this._align = Math.max(0, Math.min(1, value)); // [0, 1]\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BandScale.prototype.rescale = function () {\n        var _a;\n        var n = this._domain.length;\n        if (!n) {\n            return;\n        }\n        var _b = this._range, a = _b[0], b = _b[1];\n        var reversed = b < a;\n        if (reversed) {\n            _a = [b, a], a = _a[0], b = _a[1];\n        }\n        var step = (b - a) / Math.max(1, n - this._paddingInner + this._paddingOuter * 2);\n        if (this._round) {\n            step = Math.floor(step);\n        }\n        a += (b - a - step * (n - this._paddingInner)) * this._align;\n        this._bandwidth = step * (1 - this._paddingInner);\n        if (this._round) {\n            a = Math.round(a);\n            this._bandwidth = Math.round(this._bandwidth);\n        }\n        var values = [];\n        for (var i = 0; i < n; i++) {\n            values.push(a + step * i);\n        }\n        this.ordinalRange = reversed ? values.reverse() : values;\n    };\n    return BandScale;\n}());\nexport { BandScale };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Node } from \"./node\";\nimport { BBox } from \"./bbox\";\nimport { Matrix } from \"./matrix\";\nvar Group = /** @class */ (function (_super) {\n    __extends(Group, _super);\n    function Group() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isContainerNode = true;\n        return _this;\n    }\n    // We consider a group to be boundless, thus any point belongs to it.\n    Group.prototype.containsPoint = function (x, y) {\n        return true;\n    };\n    Group.prototype.computeBBox = function () {\n        var left = Infinity;\n        var right = -Infinity;\n        var top = Infinity;\n        var bottom = -Infinity;\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        this.children.forEach(function (child) {\n            if (!child.visible) {\n                return;\n            }\n            var bbox = child.computeBBox();\n            if (!bbox) {\n                return;\n            }\n            if (!(child instanceof Group)) {\n                if (child.dirtyTransform) {\n                    child.computeTransformMatrix();\n                }\n                var matrix = Matrix.flyweight(child.matrix);\n                var parent_1 = child.parent;\n                while (parent_1) {\n                    matrix.preMultiplySelf(parent_1.matrix);\n                    parent_1 = parent_1.parent;\n                }\n                matrix.transformBBox(bbox, 0, bbox);\n            }\n            var x = bbox.x;\n            var y = bbox.y;\n            if (x < left) {\n                left = x;\n            }\n            if (y < top) {\n                top = y;\n            }\n            if (x + bbox.width > right) {\n                right = x + bbox.width;\n            }\n            if (y + bbox.height > bottom) {\n                bottom = y + bbox.height;\n            }\n        });\n        return new BBox(left, top, right - left, bottom - top);\n    };\n    Group.prototype.render = function (ctx) {\n        // A group can have `scaling`, `rotation`, `translation` properties\n        // that are applied to the canvas context before children are rendered,\n        // so all children can be transformed at once.\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        this.matrix.toContext(ctx);\n        var children = this.children;\n        var n = children.length;\n        for (var i = 0; i < n; i++) {\n            ctx.save();\n            var child = children[i];\n            if (child.visible) {\n                child.render(ctx);\n            }\n            ctx.restore();\n        }\n        // debug\n        // this.computeBBox().render(ctx, {\n        //     label: this.id,\n        //     resetTransform: true,\n        //     fillStyle: 'rgba(0, 0, 0, 0.5)'\n        // });\n    };\n    Group.className = 'Group';\n    return Group;\n}(Node));\nexport { Group };\n","import { Node } from \"./node\";\nvar EnterNode = /** @class */ (function () {\n    function EnterNode(parent, datum) {\n        this.next = null;\n        this.scene = parent.scene;\n        this.parent = parent;\n        this.datum = datum;\n    }\n    EnterNode.prototype.appendChild = function (node) {\n        // This doesn't work without the `strict: true` in the `tsconfig.json`,\n        // so we must have two `if` checks below, instead of this single one.\n        // if (this.next && !Node.isNode(this.next)) {\n        //     throw new Error(`${this.next} is not a Node.`);\n        // }\n        if (this.next === null) {\n            return this.parent.insertBefore(node, null);\n        }\n        if (!Node.isNode(this.next)) {\n            throw new Error(this.next + \" is not a Node.\");\n        }\n        return this.parent.insertBefore(node, this.next);\n    };\n    EnterNode.prototype.insertBefore = function (node, nextNode) {\n        return this.parent.insertBefore(node, nextNode);\n    };\n    return EnterNode;\n}());\nexport { EnterNode };\n/**\n * G - type of the selected node(s).\n * GDatum - type of the datum of the selected node(s).\n * P - type of the parent node(s).\n * PDatum - type of the datum of the parent node(s).\n */\nvar Selection = /** @class */ (function () {\n    function Selection(groups, parents) {\n        this.groups = groups;\n        this.parents = parents;\n    }\n    Selection.select = function (node) {\n        return new Selection([[typeof node === 'function' ? node() : node]], [undefined]);\n    };\n    Selection.selectAll = function (nodes) {\n        return new Selection([nodes == null ? [] : nodes], [undefined]);\n    };\n    /**\n     * Creates new nodes, appends them to the nodes of this selection and returns them\n     * as a new selection. The created nodes inherit the datums and the parents of the nodes\n     * they replace.\n     * @param Class The constructor function to use to create the new nodes.\n     */\n    Selection.prototype.append = function (Class) {\n        return this.select(function (node) {\n            return node.appendChild(new Class());\n        });\n    };\n    /**\n     * Same as the {@link append}, but accepts a custom creator function with the\n     * {@link NodeSelector} signature rather than a constructor function.\n     * @param creator\n     */\n    Selection.prototype.appendFn = function (creator) {\n        return this.select(function (node, data, index, group) {\n            return node.appendChild(creator(node, data, index, group));\n        });\n    };\n    /**\n     * Runs the given selector that returns a single node for every node in each group.\n     * The original nodes are then replaced by the nodes returned by the selector\n     * and returned as a new selection.\n     * The selected nodes inherit the datums and the parents of the original nodes.\n     */\n    Selection.prototype.select = function (selector) {\n        var groups = this.groups;\n        var numGroups = groups.length;\n        var subgroups = [];\n        for (var j = 0; j < numGroups; j++) {\n            var group = groups[j];\n            var groupSize = group.length;\n            var subgroup = subgroups[j] = new Array(groupSize);\n            for (var i = 0; i < groupSize; i++) {\n                var node = group[i];\n                if (node) {\n                    var subnode = selector(node, node.datum, i, group);\n                    if (subnode) {\n                        subnode.datum = node.datum;\n                    }\n                    subgroup[i] = subnode;\n                }\n                // else this can be a group of the `enter` selection,\n                // for example, with no nodes at the i-th position,\n                // only nodes at the end of the group\n            }\n        }\n        return new Selection(subgroups, this.parents);\n    };\n    /**\n     * Same as {@link select}, but uses the given {@param Class} (constructor) as a selector.\n     * @param Class The constructor function to use to find matching nodes.\n     */\n    Selection.prototype.selectByClass = function (Class) {\n        return this.select(function (node) {\n            if (Node.isNode(node)) {\n                var children = node.children;\n                var n = children.length;\n                for (var i = 0; i < n; i++) {\n                    var child = children[i];\n                    if (child instanceof Class) {\n                        return child;\n                    }\n                }\n            }\n        });\n    };\n    Selection.prototype.selectByTag = function (tag) {\n        return this.select(function (node) {\n            if (Node.isNode(node)) {\n                var children = node.children;\n                var n = children.length;\n                for (var i = 0; i < n; i++) {\n                    var child = children[i];\n                    if (child.tag === tag) {\n                        return child;\n                    }\n                }\n            }\n        });\n    };\n    Selection.prototype.selectAllByClass = function (Class) {\n        return this.selectAll(function (node) {\n            var nodes = [];\n            if (Node.isNode(node)) {\n                var children = node.children;\n                var n = children.length;\n                for (var i = 0; i < n; i++) {\n                    var child = children[i];\n                    if (child instanceof Class) {\n                        nodes.push(child);\n                    }\n                }\n            }\n            return nodes;\n        });\n    };\n    Selection.prototype.selectAllByTag = function (tag) {\n        return this.selectAll(function (node) {\n            var nodes = [];\n            if (Node.isNode(node)) {\n                var children = node.children;\n                var n = children.length;\n                for (var i = 0; i < n; i++) {\n                    var child = children[i];\n                    if (child.tag === tag) {\n                        nodes.push(child);\n                    }\n                }\n            }\n            return nodes;\n        });\n    };\n    Selection.prototype.selectNone = function () {\n        return [];\n    };\n    /**\n     * Runs the given selector that returns a group of nodes for every node in each group.\n     * The original nodes are then replaced by the groups of nodes returned by the selector\n     * and returned as a new selection. The original nodes become the parent nodes for each\n     * group in the new selection. The selected nodes do not inherit the datums of the original nodes.\n     * If called without any parameters, creates a new selection with an empty group for each\n     * node in this selection.\n     */\n    Selection.prototype.selectAll = function (selectorAll) {\n        if (!selectorAll) {\n            selectorAll = this.selectNone;\n        }\n        // Each subgroup is populated with the selector (run on each group node) results.\n        var subgroups = [];\n        // In the new selection that we return, subgroups become groups,\n        // and group nodes become parents.\n        var parents = [];\n        var groups = this.groups;\n        var groupCount = groups.length;\n        for (var j = 0; j < groupCount; j++) {\n            var group = groups[j];\n            var groupLength = group.length;\n            for (var i = 0; i < groupLength; i++) {\n                var node = group[i];\n                if (node) {\n                    subgroups.push(selectorAll(node, node.datum, i, group));\n                    parents.push(node);\n                }\n            }\n        }\n        return new Selection(subgroups, parents);\n    };\n    /**\n     * Runs the given callback for every node in this selection and returns this selection.\n     * @param cb\n     */\n    Selection.prototype.each = function (cb) {\n        var groups = this.groups;\n        var numGroups = groups.length;\n        for (var j = 0; j < numGroups; j++) {\n            var group = groups[j];\n            var groupSize = group.length;\n            for (var i = 0; i < groupSize; i++) {\n                var node = group[i];\n                if (node) {\n                    cb(node, node.datum, i, group);\n                }\n            }\n        }\n        return this;\n    };\n    Selection.prototype.remove = function () {\n        return this.each(function (node) {\n            if (Node.isNode(node)) {\n                var parent_1 = node.parent;\n                if (parent_1) {\n                    parent_1.removeChild(node);\n                }\n            }\n        });\n    };\n    Selection.prototype.merge = function (other) {\n        var groups0 = this.groups;\n        var groups1 = other.groups;\n        var m0 = groups0.length;\n        var m1 = groups1.length;\n        var m = Math.min(m0, m1);\n        var merges = new Array(m0);\n        var j = 0;\n        for (; j < m; j++) {\n            var group0 = groups0[j];\n            var group1 = groups1[j];\n            var n = group0.length;\n            var merge = merges[j] = new Array(n);\n            for (var i = 0; i < n; i++) {\n                var node = group0[i] || group1[i];\n                merge[i] = node || undefined;\n            }\n        }\n        for (; j < m0; j++) {\n            merges[j] = groups0[j];\n        }\n        return new Selection(merges, this.parents);\n    };\n    /**\n     * Return the first non-null element in this selection.\n     * If the selection is empty, returns null.\n     */\n    Selection.prototype.node = function () {\n        var groups = this.groups;\n        var numGroups = groups.length;\n        for (var j = 0; j < numGroups; j++) {\n            var group = groups[j];\n            var groupSize = group.length;\n            for (var i = 0; i < groupSize; i++) {\n                var node = group[i];\n                if (node) {\n                    return node;\n                }\n            }\n        }\n        return null;\n    };\n    Selection.prototype.attr = function (name, value) {\n        this.each(function (node) {\n            node[name] = value;\n        });\n        return this;\n    };\n    Selection.prototype.attrFn = function (name, value) {\n        this.each(function (node, datum, index, group) {\n            node[name] = value(node, datum, index, group);\n        });\n        return this;\n    };\n    /**\n     * Invokes the given function once, passing in this selection.\n     * Returns this selection. Facilitates method chaining.\n     * @param cb\n     */\n    Selection.prototype.call = function (cb) {\n        cb(this);\n        return this;\n    };\n    Object.defineProperty(Selection.prototype, \"size\", {\n        /**\n         * Returns the total number of nodes in this selection.\n         */\n        get: function () {\n            var size = 0;\n            this.each(function () { return size++; });\n            return size;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Selection.prototype, \"data\", {\n        /**\n         * Returns the array of data for the selected elements.\n         */\n        get: function () {\n            var data = [];\n            this.each(function (_, datum) { return data.push(datum); });\n            return data;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Selection.prototype, \"enter\", {\n        get: function () {\n            return new Selection(this.enterGroups ? this.enterGroups : [[]], this.parents);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Selection.prototype, \"exit\", {\n        get: function () {\n            return new Selection(this.exitGroups ? this.exitGroups : [[]], this.parents);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Binds the given value to each selected node and returns this selection\n     * with its {@link GDatum} type changed to the type of the given value.\n     * This method doesn't compute a join and doesn't affect indexes or the enter and exit selections.\n     * This method can also be used to clear bound data.\n     * @param value\n     */\n    Selection.prototype.setDatum = function (value) {\n        return this.each(function (node) {\n            node.datum = value;\n        });\n    };\n    Object.defineProperty(Selection.prototype, \"datum\", {\n        /**\n         * Returns the bound datum for the first non-null element in the selection.\n         * This is generally useful only if you know the selection contains exactly one element.\n         */\n        get: function () {\n            var node = this.node();\n            return node ? node.datum : null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Binds the specified array of values with the selected nodes, returning a new selection\n     * that represents the _update_ selection: the nodes successfully bound to the values.\n     * Also defines the {@link enter} and {@link exit} selections on the returned selection,\n     * which can be used to add or remove the nodes to correspond to the new data.\n     * The `values` is an array of values of a particular type, or a function that returns\n     * an array of values for each group.\n     * When values are assigned to the nodes, they are stored in the {@link Node.datum} property.\n     * @param values\n     * @param key\n     */\n    Selection.prototype.setData = function (values, key) {\n        if (typeof values !== 'function') {\n            var data_1 = values;\n            values = function () { return data_1; };\n        }\n        var groups = this.groups;\n        var parents = this.parents;\n        var numGroups = groups.length;\n        var updateGroups = new Array(numGroups);\n        var enterGroups = new Array(numGroups);\n        var exitGroups = new Array(numGroups);\n        for (var j = 0; j < numGroups; j++) {\n            var group = groups[j];\n            var parent_2 = parents[j];\n            if (!parent_2) {\n                throw new Error(\"Group #\" + j + \" has no parent: \" + group);\n            }\n            var groupSize = group.length;\n            var data = values(parent_2, parent_2.datum, j, parents);\n            var dataSize = data.length;\n            var enterGroup = enterGroups[j] = new Array(dataSize);\n            var updateGroup = updateGroups[j] = new Array(dataSize);\n            var exitGroup = exitGroups[j] = new Array(groupSize);\n            if (key) {\n                this.bindKey(parent_2, group, enterGroup, updateGroup, exitGroup, data, key);\n            }\n            else {\n                this.bindIndex(parent_2, group, enterGroup, updateGroup, exitGroup, data);\n            }\n            // Now connect the enter nodes to their following update node, such that\n            // appendChild can insert the materialized enter node before this node,\n            // rather than at the end of the parent node.\n            for (var i0 = 0, i1 = 0; i0 < dataSize; i0++) {\n                var previous = enterGroup[i0];\n                if (previous) {\n                    if (i0 >= i1) {\n                        i1 = i0 + 1;\n                    }\n                    var next = void 0;\n                    while (!(next = updateGroup[i1]) && i1 < dataSize) {\n                        i1++;\n                    }\n                    previous.next = next || null;\n                }\n            }\n        }\n        var result = new Selection(updateGroups, parents);\n        result.enterGroups = enterGroups;\n        result.exitGroups = exitGroups;\n        return result;\n    };\n    Selection.prototype.bindIndex = function (parent, group, enter, update, exit, data) {\n        var groupSize = group.length;\n        var dataSize = data.length;\n        var i = 0;\n        for (; i < dataSize; i++) {\n            var node = group[i];\n            if (node) {\n                node.datum = data[i];\n                update[i] = node;\n            }\n            else { // more datums than group nodes\n                enter[i] = new EnterNode(parent, data[i]);\n            }\n        }\n        // more group nodes than datums\n        for (; i < groupSize; i++) {\n            var node = group[i];\n            if (node) {\n                exit[i] = node;\n            }\n        }\n    };\n    Selection.prototype.bindKey = function (parent, group, enter, update, exit, data, key) {\n        var groupSize = group.length;\n        var dataSize = data.length;\n        var keyValues = new Array(groupSize);\n        var nodeByKeyValue = {};\n        // Compute the key for each node.\n        // If multiple nodes have the same key, the duplicates are added to exit.\n        for (var i = 0; i < groupSize; i++) {\n            var node = group[i];\n            if (node) {\n                var keyValue = keyValues[i] = Selection.keyPrefix + key(node, node.datum, i, group);\n                if (keyValue in nodeByKeyValue) {\n                    exit[i] = node;\n                }\n                else {\n                    nodeByKeyValue[keyValue] = node;\n                }\n            }\n        }\n        // Compute the key for each datum.\n        // If there is a node associated with this key, join and add it to update.\n        // If there is not (or the key is a duplicate), add it to enter.\n        for (var i = 0; i < dataSize; i++) {\n            var keyValue = Selection.keyPrefix + key(parent, data[i], i, data);\n            var node = nodeByKeyValue[keyValue];\n            if (node) {\n                update[i] = node;\n                node.datum = data[i];\n                nodeByKeyValue[keyValue] = undefined;\n            }\n            else {\n                enter[i] = new EnterNode(parent, data[i]);\n            }\n        }\n        // Add any remaining nodes that were not bound to data to exit.\n        for (var i = 0; i < groupSize; i++) {\n            var node = group[i];\n            if (node && (nodeByKeyValue[keyValues[i]] === node)) {\n                exit[i] = node;\n            }\n        }\n    };\n    Selection.keyPrefix = '$'; // Protect against keys like '__proto__'.\n    return Selection;\n}());\nexport { Selection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Shape } from \"./shape\";\nimport { chainObjects } from \"../../util/object\";\nimport { BBox } from \"../bbox\";\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        var _this = _super.call(this) || this;\n        _this._x1 = 0;\n        _this._y1 = 0;\n        _this._x2 = 0;\n        _this._y2 = 0;\n        _this.restoreOwnStyles();\n        return _this;\n    }\n    Object.defineProperty(Line.prototype, \"x1\", {\n        get: function () {\n            // TODO: Investigate getter performance further in the context\n            //       of the scene graph.\n            //       In isolated benchmarks using a getter has the same\n            //       performance as a direct property access in Firefox 64.\n            //       But in Chrome 71 the getter is 60% slower than direct access.\n            //       Direct read is 4.5+ times slower in Chrome than it is in Firefox.\n            //       Property access and direct read have the same performance\n            //       in Safari 12, which is 2+ times faster than Firefox at this.\n            // https://jsperf.com/es5-getters-setters-versus-getter-setter-methods/18\n            // This is a know Chrome issue. They say it's not a regression, since\n            // the behavior is observed since M60, but jsperf.com history shows the\n            // 10x slowdown happened between Chrome 48 and Chrome 57.\n            // https://bugs.chromium.org/p/chromium/issues/detail?id=908743\n            return this._x1;\n        },\n        set: function (value) {\n            if (this._x1 !== value) {\n                this._x1 = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Line.prototype, \"y1\", {\n        get: function () {\n            return this._y1;\n        },\n        set: function (value) {\n            if (this._y1 !== value) {\n                this._y1 = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Line.prototype, \"x2\", {\n        get: function () {\n            return this._x2;\n        },\n        set: function (value) {\n            if (this._x2 !== value) {\n                this._x2 = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Line.prototype, \"y2\", {\n        get: function () {\n            return this._y2;\n        },\n        set: function (value) {\n            if (this._y2 !== value) {\n                this._y2 = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Line.prototype.computeBBox = function () {\n        return new BBox(this.x1, this.y1, this.x2 - this.x1, this.y2 - this.y1);\n    };\n    Line.prototype.isPointInPath = function (x, y) {\n        return false;\n    };\n    Line.prototype.isPointInStroke = function (x, y) {\n        return false;\n    };\n    Line.prototype.render = function (ctx) {\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        this.matrix.toContext(ctx);\n        var x1 = this.x1;\n        var y1 = this.y1;\n        var x2 = this.x2;\n        var y2 = this.y2;\n        // Align to the pixel grid if the line is strictly vertical\n        // or horizontal (but not both, i.e. a dot).\n        if (x1 === x2) {\n            var x = Math.round(x1) + Math.floor(this.strokeWidth) % 2 / 2;\n            x1 = x;\n            x2 = x;\n        }\n        else if (y1 === y2) {\n            var y = Math.round(y1) + Math.floor(this.strokeWidth) % 2 / 2;\n            y1 = y;\n            y2 = y;\n        }\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        this.fillStroke(ctx);\n        this.dirty = false;\n    };\n    Line.className = 'Line';\n    Line.defaultStyles = chainObjects(Shape.defaultStyles, {\n        fill: undefined,\n        strokeWidth: 1\n    });\n    return Line;\n}(Shape));\nexport { Line };\n","var twoPi = Math.PI * 2;\n/**\n * Normalize the given angle to be in the [0, 2π) interval.\n * @param radians Angle in radians.\n */\nexport function normalizeAngle360(radians) {\n    radians %= twoPi;\n    radians += twoPi;\n    radians %= twoPi;\n    return radians;\n}\nexport function normalizeAngle360Inclusive(radians) {\n    radians %= twoPi;\n    radians += twoPi;\n    if (radians !== twoPi) {\n        radians %= twoPi;\n    }\n    return radians;\n}\n/**\n * Normalize the given angle to be in the [-π, π) interval.\n * @param radians Angle in radians.\n */\nexport function normalizeAngle180(radians) {\n    radians %= twoPi;\n    if (radians < -Math.PI) {\n        radians += twoPi;\n    }\n    else if (radians >= Math.PI) {\n        radians -= twoPi;\n    }\n    return radians;\n}\nexport function toRadians(degrees) {\n    return degrees / 180 * Math.PI;\n}\nexport function toDegrees(radians) {\n    return radians / Math.PI * 180;\n}\n","// @ts-ignore Suppress tsc error: Property 'sign' does not exist on type 'Math'\nvar sign = Math.sign ? Math.sign : function (x) {\n    x = +x;\n    if (x === 0 || isNaN(x)) {\n        return x;\n    }\n    return x > 0 ? 1 : -1;\n};\n/**\n * Finds the roots of a parametric linear equation in `t`,\n * where `t` lies in the interval of `[0,1]`.\n */\nexport function linearRoot(a, b) {\n    var t = -b / a;\n    return (a !== 0 && t >= 0 && t <= 1) ? [t] : [];\n}\n/**\n * Finds the roots of a parametric quadratic equation in `t`,\n * where `t` lies in the interval of `[0,1]`.\n */\nexport function quadraticRoots(a, b, c) {\n    if (a === 0) {\n        return linearRoot(b, c);\n    }\n    var D = b * b - 4 * a * c; // The polynomial's discriminant.\n    var roots = [];\n    if (D === 0) { // A single real root.\n        var t = -b / (2 * a);\n        if (t >= 0 && t <= 1) {\n            roots.push(t);\n        }\n    }\n    else if (D > 0) { // A pair of distinct real roots.\n        var rD = Math.sqrt(D);\n        var t1 = (-b - rD) / (2 * a);\n        var t2 = (-b + rD) / (2 * a);\n        if (t1 >= 0 && t1 <= 1) {\n            roots.push(t1);\n        }\n        if (t2 >= 0 && t2 <= 1) {\n            roots.push(t2);\n        }\n    }\n    // else -> Complex roots.\n    return roots;\n}\n/**\n * Finds the roots of a parametric cubic equation in `t`,\n * where `t` lies in the interval of `[0,1]`.\n * Returns an array of parametric intersection locations along the cubic,\n * excluding out-of-bounds intersections (before or after the end point\n * or in the imaginary plane).\n * An adaptation of http://www.particleincell.com/blog/2013/cubic-line-intersection/\n */\nexport function cubicRoots(a, b, c, d) {\n    if (a === 0) {\n        return quadraticRoots(b, c, d);\n    }\n    var A = b / a;\n    var B = c / a;\n    var C = d / a;\n    var Q = (3 * B - A * A) / 9;\n    var R = (9 * A * B - 27 * C - 2 * A * A * A) / 54;\n    var D = Q * Q * Q + R * R; // The polynomial's discriminant.\n    var third = 1 / 3;\n    var roots = [];\n    if (D >= 0) { // Complex or duplicate roots.\n        var rD = Math.sqrt(D);\n        var S = sign(R + rD) * Math.pow(Math.abs(R + rD), third);\n        var T = sign(R - rD) * Math.pow(Math.abs(R - rD), third);\n        var Im = Math.abs(Math.sqrt(3) * (S - T) / 2); // Complex part of the root pair.\n        var t = -third * A + (S + T); // A real root.\n        if (t >= 0 && t <= 1) {\n            roots.push(t);\n        }\n        if (Im === 0) {\n            var t_1 = -third * A - (S + T) / 2; // The real part of a complex root.\n            if (t_1 >= 0 && t_1 <= 1) {\n                roots.push(t_1);\n            }\n        }\n    }\n    else { // Distinct real roots.\n        var theta = Math.acos(R / Math.sqrt(-Q * Q * Q));\n        var thirdA = third * A;\n        var twoSqrtQ = 2 * Math.sqrt(-Q);\n        var t1 = twoSqrtQ * Math.cos(third * theta) - thirdA;\n        var t2 = twoSqrtQ * Math.cos(third * (theta + 2 * Math.PI)) - thirdA;\n        var t3 = twoSqrtQ * Math.cos(third * (theta + 4 * Math.PI)) - thirdA;\n        if (t1 >= 0 && t1 <= 1) {\n            roots.push(t1);\n        }\n        if (t2 >= 0 && t2 <= 1) {\n            roots.push(t2);\n        }\n        if (t3 >= 0 && t3 <= 1) {\n            roots.push(t3);\n        }\n    }\n    return roots;\n}\n","import { cubicRoots } from \"./polyRoots\";\n/**\n * Returns the intersection point for the given pair of line segments, or null,\n * if the segments are parallel or don't intersect.\n * Based on http://paulbourke.net/geometry/pointlineplane/\n */\nexport function segmentIntersection(ax1, ay1, ax2, ay2, bx1, by1, bx2, by2) {\n    var d = (ax2 - ax1) * (by2 - by1) - (ay2 - ay1) * (bx2 - bx1);\n    if (d === 0) { // The lines are parallel.\n        return null;\n    }\n    var ua = ((bx2 - bx1) * (ay1 - by1) - (ax1 - bx1) * (by2 - by1)) / d;\n    var ub = ((ax2 - ax1) * (ay1 - by1) - (ay2 - ay1) * (ax1 - bx1)) / d;\n    if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {\n        return {\n            x: ax1 + ua * (ax2 - ax1),\n            y: ay1 + ua * (ay2 - ay1)\n        };\n    }\n    return null; // The intersection point is outside either or both segments.\n}\n/**\n * Returns intersection points of the given cubic curve and the line segment.\n * Takes in x/y components of cubic control points and line segment start/end points\n * as parameters.\n */\nexport function cubicSegmentIntersections(px1, py1, px2, py2, px3, py3, px4, py4, x1, y1, x2, y2) {\n    var intersections = [];\n    // Find line equation coefficients.\n    var A = y1 - y2;\n    var B = x2 - x1;\n    var C = x1 * (y2 - y1) - y1 * (x2 - x1);\n    // Find cubic Bezier curve equation coefficients from control points.\n    var bx = bezierCoefficients(px1, px2, px3, px4);\n    var by = bezierCoefficients(py1, py2, py3, py4);\n    var a = A * bx[0] + B * by[0]; // t^3\n    var b = A * bx[1] + B * by[1]; // t^2\n    var c = A * bx[2] + B * by[2]; // t\n    var d = A * bx[3] + B * by[3] + C; // 1\n    var roots = cubicRoots(a, b, c, d);\n    // Verify that the roots are within bounds of the linear segment.\n    for (var i = 0; i < roots.length; i++) {\n        var t = roots[i];\n        var tt = t * t;\n        var ttt = t * tt;\n        // Find the cartesian plane coordinates for the parametric root `t`.\n        var x = bx[0] * ttt + bx[1] * tt + bx[2] * t + bx[3];\n        var y = by[0] * ttt + by[1] * tt + by[2] * t + by[3];\n        // The parametric cubic roots we found are intersection points\n        // with an infinite line, and so the x/y coordinates above are as well.\n        // Make sure the x/y is also within the bounds of the given segment.\n        var s = void 0;\n        if (x1 !== x2) {\n            s = (x - x1) / (x2 - x1);\n        }\n        else { // the line is vertical\n            s = (y - y1) / (y2 - y1);\n        }\n        if (s >= 0 && s <= 1) {\n            intersections.push({ x: x, y: y });\n        }\n    }\n    return intersections;\n}\n/**\n * Returns the given coordinates vector multiplied by the coefficient matrix\n * of the parametric cubic Bézier equation.\n */\nexport function bezierCoefficients(P1, P2, P3, P4) {\n    return [\n        -P1 + 3 * P2 - 3 * P3 + P4,\n        3 * P1 - 6 * P2 + 3 * P3,\n        -3 * P1 + 3 * P2,\n        P1 //                 | 1  0  0  0| |P4|\n    ];\n}\n","import { cubicSegmentIntersections, segmentIntersection } from \"./intersection\";\nvar Path2D = /** @class */ (function () {\n    function Path2D() {\n        // The methods of this class will likely be called many times per animation frame,\n        // and any allocation can trigger a GC cycle during animation, so we attempt\n        // to minimize the number of allocations.\n        this.commands = [];\n        this.params = [];\n        this._closedPath = false;\n    }\n    Path2D.prototype.moveTo = function (x, y) {\n        if (this.xy) {\n            this.xy[0] = x;\n            this.xy[1] = y;\n        }\n        else {\n            this.xy = [x, y];\n        }\n        this.commands.push('M');\n        this.params.push(x, y);\n    };\n    Path2D.prototype.lineTo = function (x, y) {\n        if (this.xy) {\n            this.commands.push('L');\n            this.params.push(x, y);\n            this.xy[0] = x;\n            this.xy[1] = y;\n        }\n        else {\n            this.moveTo(x, y);\n        }\n    };\n    Path2D.prototype.rect = function (x, y, width, height) {\n        this.moveTo(x, y);\n        this.lineTo(x + width, y);\n        this.lineTo(x + width, y + height);\n        this.lineTo(x, y + height);\n        this.closePath();\n    };\n    /**\n     * Adds an arc segment to the path definition.\n     * https://www.w3.org/TR/SVG11/paths.html#PathDataEllipticalArcCommands\n     * @param rx The major-axis radius.\n     * @param ry The minor-axis radius.\n     * @param rotation The x-axis rotation, expressed in radians.\n     * @param fA The large arc flag. `1` to use angle > π.\n     * @param fS The sweep flag. `1` for the arc that goes to `x`/`y` clockwise.\n     * @param x2 The x coordinate to arc to.\n     * @param y2 The y coordinate to arc to.\n     */\n    Path2D.prototype.arcTo = function (rx, ry, rotation, fA, fS, x2, y2) {\n        // Convert from endpoint to center parametrization:\n        // https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n        var xy = this.xy;\n        if (!xy) {\n            return;\n        }\n        if (rx < 0) {\n            rx = -rx;\n        }\n        if (ry < 0) {\n            ry = -ry;\n        }\n        var x1 = xy[0];\n        var y1 = xy[1];\n        var hdx = (x1 - x2) / 2;\n        var hdy = (y1 - y2) / 2;\n        var sinPhi = Math.sin(rotation);\n        var cosPhi = Math.cos(rotation);\n        var xp = cosPhi * hdx + sinPhi * hdy;\n        var yp = -sinPhi * hdx + cosPhi * hdy;\n        var ratX = xp / rx;\n        var ratY = yp / ry;\n        var lambda = ratX * ratX + ratY * ratY;\n        var cx = (x1 + x2) / 2;\n        var cy = (y1 + y2) / 2;\n        var cpx = 0;\n        var cpy = 0;\n        if (lambda >= 1) {\n            lambda = Math.sqrt(lambda);\n            rx *= lambda;\n            ry *= lambda;\n            // me gives lambda == cpx == cpy == 0;\n        }\n        else {\n            lambda = Math.sqrt(1 / lambda - 1);\n            if (fA === fS) {\n                lambda = -lambda;\n            }\n            cpx = lambda * rx * ratY;\n            cpy = -lambda * ry * ratX;\n            cx += cosPhi * cpx - sinPhi * cpy;\n            cy += sinPhi * cpx + cosPhi * cpy;\n        }\n        var theta1 = Math.atan2((yp - cpy) / ry, (xp - cpx) / rx);\n        var deltaTheta = Math.atan2((-yp - cpy) / ry, (-xp - cpx) / rx) - theta1;\n        // if (fS) {\n        //     if (deltaTheta <= 0) {\n        //         deltaTheta += Math.PI * 2;\n        //     }\n        // }\n        // else {\n        //     if (deltaTheta >= 0) {\n        //         deltaTheta -= Math.PI * 2;\n        //     }\n        // }\n        this.cubicArc(cx, cy, rx, ry, rotation, theta1, theta1 + deltaTheta, 1 - fS);\n    };\n    Path2D.prototype.arcToAlt = function (rx, ry, rotation, fA, fS, x2, y2) {\n        // Convert from endpoint to center parametrization. See:\n        // https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n        if (!this.xy) {\n            return;\n        }\n        if (rx < 0) {\n            rx = -rx;\n        }\n        if (ry < 0) {\n            ry = -ry;\n        }\n        var x1 = this.xy[0];\n        var y1 = this.xy[1];\n        var hdx = (x1 - x2) / 2;\n        var hdy = (y1 - y2) / 2;\n        var sinPhi = Math.sin(rotation);\n        var cosPhi = Math.cos(rotation);\n        var x1p = cosPhi * hdx + sinPhi * hdy;\n        var y1p = -sinPhi * hdx + cosPhi * hdy;\n        var rx_y1p = rx * rx * y1p * y1p;\n        var ry_x1p = ry * ry * x1p * x1p;\n        var root = Math.sqrt((rx * rx * ry * ry - rx_y1p - ry_x1p) / (rx_y1p + ry_x1p));\n        var rootSign = fA === fS ? 0 : 1;\n        var cxp = rootSign * root * rx * y1p / ry;\n        var cyp = -rootSign * root * ry * x1p / rx;\n        var cx = cosPhi * cxp - sinPhi * cyp + (x1 + x2) / 2;\n        var cy = sinPhi * cxp + cosPhi * cyp + (y1 + y2) / 2;\n        var theta1 = Math.acos((x1p - cxp) / rx / ((x1p - cxp) / rx));\n    };\n    /**\n     * Approximates an elliptical arc with up to four cubic Bézier curves.\n     * @param commands The string array to write SVG command letters to.\n     * @param params The number array to write SVG command parameters (cubic control points) to.\n     * @param cx The x-axis coordinate for the ellipse's center.\n     * @param cy The y-axis coordinate for the ellipse's center.\n     * @param rx The ellipse's major-axis radius.\n     * @param ry The ellipse's minor-axis radius.\n     * @param phi The rotation for this ellipse, expressed in radians.\n     * @param theta1 The starting angle, measured clockwise from the positive x-axis and expressed in radians.\n     * @param theta2 The ending angle, measured clockwise from the positive x-axis and expressed in radians.\n     * @param anticlockwise The arc control points are always placed clockwise from `theta1` to `theta2`,\n     * even when `theta1 > theta2`, unless this flag is set to `1`.\n     */\n    Path2D.cubicArc = function (commands, params, cx, cy, rx, ry, phi, theta1, theta2, anticlockwise) {\n        if (anticlockwise) {\n            var temp = theta1;\n            theta1 = theta2;\n            theta2 = temp;\n        }\n        var start = params.length;\n        // See https://pomax.github.io/bezierinfo/#circles_cubic\n        // Arc of unit circle (start angle = 0, end angle <= π/2) in cubic Bézier coordinates:\n        // S = [1, 0]\n        // C1 = [1, f]\n        // C2 = [cos(θ) + f * sin(θ), sin(θ) - f * cos(θ)]\n        // E = [cos(θ), sin(θ)]\n        // f = 4/3 * tan(θ/4)\n        var f90 = 0.5522847498307935; // f for θ = π/2 is 4/3 * (Math.sqrt(2) - 1)\n        var sinTheta1 = Math.sin(theta1);\n        var cosTheta1 = Math.cos(theta1);\n        var sinPhi = Math.sin(phi);\n        var cosPhi = Math.cos(phi);\n        var rightAngle = Math.PI / 2;\n        // Since we know how to draw an arc of a unit circle with a cubic Bézier,\n        // to draw an elliptical arc with arbitrary rotation and radii we:\n        // 1) rotate the Bézier coordinates that represent a circular arc by θ\n        // 2) scale the circular arc separately along the x/y axes, making it elliptical\n        // 3) rotate elliptical arc by φ\n        // |cos(φ) -sin(φ)| |sx  0| |cos(θ) -sin(θ)| -> |xx xy|\n        // |sin(φ)  cos(φ)| | 0 sy| |sin(θ)  cos(θ)| -> |yx yy|\n        var xx = cosPhi * cosTheta1 * rx - sinPhi * sinTheta1 * ry;\n        var yx = sinPhi * cosTheta1 * rx + cosPhi * sinTheta1 * ry;\n        var xy = -cosPhi * sinTheta1 * rx - sinPhi * cosTheta1 * ry;\n        var yy = -sinPhi * sinTheta1 * rx + cosPhi * cosTheta1 * ry;\n        // TODO: what if delta between θ1 and θ2 is greater than 2π?\n        // Always draw clockwise from θ1 to θ2.\n        theta2 -= theta1;\n        if (theta2 < 0) {\n            theta2 += Math.PI * 2;\n        }\n        // Multiplying each point [x, y] by:\n        // |xx xy cx| |x|\n        // |yx yy cy| |y|\n        // | 0  0  1| |1|\n        // TODO: This move command may be redundant, if we are already at this point.\n        // The coordinates of the point calculated here may differ ever so slightly\n        // because of precision error.\n        commands.push('M');\n        params.push(xx + cx, yx + cy);\n        while (theta2 >= rightAngle) {\n            theta2 -= rightAngle;\n            commands.push('C');\n            // Temp workaround for https://bugs.chromium.org/p/chromium/issues/detail?id=993330\n            // Revert this commit when fixed ^^.\n            var lastX = xy + cx;\n            params.push(xx + xy * f90 + cx, yx + yy * f90 + cy, xx * f90 + xy + cx, yx * f90 + yy + cy, Math.abs(lastX) < 1e-8 ? 0 : lastX, yy + cy);\n            // Prepend π/2 rotation matrix.\n            // |xx xy| | 0 1| -> | xy -xx|\n            // |yx yy| |-1 0| -> | yy -yx|\n            // [xx, yx, xy, yy] = [xy, yy, -xx, -yx];\n            // Compared to swapping with a temp variable, destructuring is:\n            // - 10% faster in Chrome 70\n            // - 99% slower in Firefox 63\n            // Temp variable solution is 45% faster in FF than Chrome.\n            // https://jsperf.com/multi-swap\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=1165569\n            var temp = xx;\n            xx = xy;\n            xy = -temp;\n            temp = yx;\n            yx = yy;\n            yy = -temp;\n        }\n        if (theta2) {\n            var f = 4 / 3 * Math.tan(theta2 / 4);\n            var sinPhi2 = Math.sin(theta2);\n            var cosPhi2 = Math.cos(theta2);\n            var C2x = cosPhi2 + f * sinPhi2;\n            var C2y = sinPhi2 - f * cosPhi2;\n            commands.push('C');\n            // Temp workaround for https://bugs.chromium.org/p/chromium/issues/detail?id=993330\n            // Revert this commit when fixed ^^.\n            var lastX = xx * cosPhi2 + xy * sinPhi2 + cx;\n            params.push(xx + xy * f + cx, yx + yy * f + cy, xx * C2x + xy * C2y + cx, yx * C2x + yy * C2y + cy, Math.abs(lastX) < 1e-8 ? 0 : lastX, yx * cosPhi2 + yy * sinPhi2 + cy);\n        }\n        if (anticlockwise) {\n            for (var i = start, j = params.length - 2; i < j; i += 2, j -= 2) {\n                var temp = params[i];\n                params[i] = params[j];\n                params[j] = temp;\n                temp = params[i + 1];\n                params[i + 1] = params[j + 1];\n                params[j + 1] = temp;\n            }\n        }\n    };\n    Path2D.prototype.cubicArc = function (cx, cy, rx, ry, phi, theta1, theta2, anticlockwise) {\n        var commands = this.commands;\n        var params = this.params;\n        var start = commands.length;\n        Path2D.cubicArc(commands, params, cx, cy, rx, ry, phi, theta1, theta2, anticlockwise);\n        var x = params[params.length - 2];\n        var y = params[params.length - 1];\n        if (this.xy) {\n            commands[start] = 'L';\n            this.xy[0] = x;\n            this.xy[1] = y;\n        }\n        else {\n            this.xy = [x, y];\n        }\n    };\n    /**\n     * Returns the `[x, y]` coordinates of the curve at `t`.\n     * @param points `(n + 1) * 2` control point coordinates for a Bézier curve of n-th order.\n     * @param t\n     */\n    Path2D.prototype.deCasteljau = function (points, t) {\n        var n = points.length;\n        if (n < 2 || n % 2 === 1) {\n            throw new Error('Fewer than two points or not an even count.');\n        }\n        else if (n === 2 || t === 0) {\n            return points.slice(0, 2);\n        }\n        else if (t === 1) {\n            return points.slice(-2);\n        }\n        else {\n            var newPoints = [];\n            var last = n - 2;\n            for (var i = 0; i < last; i += 2) {\n                newPoints.push((1 - t) * points[i] + t * points[i + 2], // x\n                (1 - t) * points[i + 1] + t * points[i + 3] // y\n                );\n            }\n            return this.deCasteljau(newPoints, t);\n        }\n    };\n    /**\n     * Approximates the given curve using `n` line segments.\n     * @param points `(n + 1) * 2` control point coordinates for a Bézier curve of n-th order.\n     * @param n\n     */\n    Path2D.prototype.approximateCurve = function (points, n) {\n        var xy = this.deCasteljau(points, 0);\n        this.moveTo(xy[0], xy[1]);\n        var step = 1 / n;\n        for (var t = step; t <= 1; t += step) {\n            var xy_1 = this.deCasteljau(points, t);\n            this.lineTo(xy_1[0], xy_1[1]);\n        }\n    };\n    /**\n     * Adds a quadratic curve segment to the path definition.\n     * Note: the given quadratic segment is converted and stored as a cubic one.\n     * @param cx x-component of the curve's control point\n     * @param cy y-component of the curve's control point\n     * @param x x-component of the end point\n     * @param y y-component of the end point\n     */\n    Path2D.prototype.quadraticCurveTo = function (cx, cy, x, y) {\n        if (!this.xy) {\n            this.moveTo(cx, cy);\n        }\n        // See https://pomax.github.io/bezierinfo/#reordering\n        this.cubicCurveTo((this.xy[0] + 2 * cx) / 3, (this.xy[1] + 2 * cy) / 3, // 1/3 start + 2/3 control\n        (2 * cx + x) / 3, (2 * cy + y) / 3, // 2/3 control + 1/3 end\n        x, y);\n    };\n    Path2D.prototype.cubicCurveTo = function (cx1, cy1, cx2, cy2, x, y) {\n        if (!this.xy) {\n            this.moveTo(cx1, cy1);\n        }\n        this.commands.push('C');\n        this.params.push(cx1, cy1, cx2, cy2, x, y);\n        this.xy[0] = x;\n        this.xy[1] = y;\n    };\n    Object.defineProperty(Path2D.prototype, \"closedPath\", {\n        get: function () {\n            return this._closedPath;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Path2D.prototype.closePath = function () {\n        if (this.xy) {\n            this.xy = undefined;\n            this.commands.push('Z');\n            this._closedPath = true;\n        }\n    };\n    Path2D.prototype.clear = function () {\n        this.commands.length = 0;\n        this.params.length = 0;\n        this.xy = undefined;\n        this._closedPath = false;\n    };\n    Path2D.prototype.isPointInPath = function (x, y) {\n        var commands = this.commands;\n        var params = this.params;\n        var cn = commands.length;\n        // Hit testing using ray casting method, where the ray's origin is some point\n        // outside the path. In this case, an offscreen point that is remote enough, so that\n        // even if the path itself is large and is partially offscreen, the ray's origin\n        // will likely be outside the path anyway. To test if the given point is inside the\n        // path or not, we cast a ray from the origin to the given point and check the number\n        // of intersections of this segment with the path. If the number of intersections is\n        // even, then the ray both entered and exited the path an equal number of times,\n        // therefore the point is outside the path, and inside the path, if the number of\n        // intersections is odd. Since the path is compound, we check if the ray segment\n        // intersects with each of the path's segments, which can be either a line segment\n        // (one or no intersection points) or a Bézier curve segment (up to 3 intersection\n        // points).\n        var ox = -10000;\n        var oy = -10000;\n        // the starting point of the  current path\n        var sx = NaN;\n        var sy = NaN;\n        // the previous point of the current path\n        var px = 0;\n        var py = 0;\n        var intersectionCount = 0;\n        for (var ci = 0, pi = 0; ci < cn; ci++) {\n            switch (commands[ci]) {\n                case 'M':\n                    if (!isNaN(sx)) {\n                        if (segmentIntersection(sx, sy, px, py, ox, oy, x, y)) {\n                            intersectionCount++;\n                        }\n                    }\n                    sx = px = params[pi++];\n                    sy = py = params[pi++];\n                    break;\n                case 'L':\n                    if (segmentIntersection(px, py, px = params[pi++], py = params[pi++], ox, oy, x, y)) {\n                        intersectionCount++;\n                    }\n                    break;\n                case 'C':\n                    intersectionCount += cubicSegmentIntersections(px, py, params[pi++], params[pi++], params[pi++], params[pi++], px = params[pi++], py = params[pi++], ox, oy, x, y).length;\n                    break;\n                case 'Z':\n                    if (!isNaN(sx)) {\n                        if (segmentIntersection(sx, sy, px, py, ox, oy, x, y)) {\n                            intersectionCount++;\n                        }\n                    }\n                    break;\n            }\n        }\n        return intersectionCount % 2 === 1;\n    };\n    Path2D.fromString = function (value) {\n        var path = new Path2D();\n        path.setFromString(value);\n        return path;\n    };\n    /**\n     * Split the SVG path at command letters,\n     * then extract the command letter and parameters from each substring.\n     * @param value\n     */\n    Path2D.parseSvgPath = function (value) {\n        return value.trim().split(Path2D.splitCommandsRe).map(function (part) {\n            var strParams = part.match(Path2D.matchParamsRe);\n            return {\n                command: part.substr(0, 1),\n                params: strParams ? strParams.map(parseFloat) : []\n            };\n        });\n    };\n    Path2D.prettifySvgPath = function (value) {\n        return Path2D.parseSvgPath(value).map(function (d) { return d.command + d.params.join(','); }).join('\\n');\n    };\n    /**\n     * See https://www.w3.org/TR/SVG11/paths.html\n     * @param value\n     */\n    Path2D.prototype.setFromString = function (value) {\n        var _this = this;\n        this.clear();\n        var parts = Path2D.parseSvgPath(value);\n        // Current point.\n        var x;\n        var y;\n        // Last control point. Used to calculate the reflection point\n        // for `S`, `s`, `T`, `t` commands.\n        var cpx;\n        var cpy;\n        var lastCommand;\n        function checkQuadraticCP() {\n            if (!lastCommand.match(Path2D.quadraticCommandRe)) {\n                cpx = x;\n                cpy = y;\n            }\n        }\n        function checkCubicCP() {\n            if (!lastCommand.match(Path2D.cubicCommandRe)) {\n                cpx = x;\n                cpy = y;\n            }\n        }\n        // But that will make compiler complain about x/y, cpx/cpy\n        // being used without being set first.\n        parts.forEach(function (part) {\n            var p = part.params;\n            var n = p.length;\n            var i = 0;\n            switch (part.command) {\n                case 'M':\n                    _this.moveTo(x = p[i++], y = p[i++]);\n                    while (i < n) {\n                        _this.lineTo(x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 'm':\n                    _this.moveTo(x += p[i++], y += p[i++]);\n                    while (i < n) {\n                        _this.lineTo(x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'L':\n                    while (i < n) {\n                        _this.lineTo(x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 'l':\n                    while (i < n) {\n                        _this.lineTo(x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'C':\n                    while (i < n) {\n                        _this.cubicCurveTo(p[i++], p[i++], cpx = p[i++], cpy = p[i++], x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 'c':\n                    while (i < n) {\n                        _this.cubicCurveTo(x + p[i++], y + p[i++], cpx = x + p[i++], cpy = y + p[i++], x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'S':\n                    checkCubicCP();\n                    while (i < n) {\n                        _this.cubicCurveTo(x + x - cpx, y + y - cpy, cpx = p[i++], cpy = p[i++], x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 's':\n                    checkCubicCP();\n                    while (i < n) {\n                        _this.cubicCurveTo(x + x - cpx, y + y - cpy, cpx = x + p[i++], cpy = y + p[i++], x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'Q':\n                    while (i < n) {\n                        _this.quadraticCurveTo(cpx = p[i++], cpy = p[i++], x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 'q':\n                    while (i < n) {\n                        _this.quadraticCurveTo(cpx = x + p[i++], cpy = y + p[i++], x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'T':\n                    checkQuadraticCP();\n                    while (i < n) {\n                        _this.quadraticCurveTo(cpx = x + x - cpx, cpy = y + y - cpy, x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 't':\n                    checkQuadraticCP();\n                    while (i < n) {\n                        _this.quadraticCurveTo(cpx = x + x - cpx, cpy = y + y - cpy, x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'A':\n                    while (i < n) {\n                        _this.arcTo(p[i++], p[i++], p[i++] * Math.PI / 180, p[i++], p[i++], x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 'a':\n                    while (i < n) {\n                        _this.arcTo(p[i++], p[i++], p[i++] * Math.PI / 180, p[i++], p[i++], x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'Z':\n                case 'z':\n                    _this.closePath();\n                    break;\n                case 'H':\n                    while (i < n) {\n                        _this.lineTo(x = p[i++], y);\n                    }\n                    break;\n                case 'h':\n                    while (i < n) {\n                        _this.lineTo(x += p[i++], y);\n                    }\n                    break;\n                case 'V':\n                    while (i < n) {\n                        _this.lineTo(x, y = p[i++]);\n                    }\n                    break;\n                case 'v':\n                    while (i < n) {\n                        _this.lineTo(x, y += p[i++]);\n                    }\n                    break;\n            }\n            lastCommand = part.command;\n        });\n    };\n    Path2D.prototype.toString = function () {\n        var c = this.commands;\n        var p = this.params;\n        var cn = c.length;\n        var out = [];\n        for (var ci = 0, pi = 0; ci < cn; ci++) {\n            switch (c[ci]) {\n                case 'M':\n                    out.push('M' + p[pi++] + ',' + p[pi++]);\n                    break;\n                case 'L':\n                    out.push('L' + p[pi++] + ',' + p[pi++]);\n                    break;\n                case 'C':\n                    out.push('C' + p[pi++] + ',' + p[pi++] + ' ' +\n                        p[pi++] + ',' + p[pi++] + ' ' +\n                        p[pi++] + ',' + p[pi++]);\n                    break;\n                case 'Z':\n                    out.push('Z');\n                    break;\n            }\n        }\n        return out.join('');\n    };\n    Path2D.prototype.toPrettyString = function () {\n        return Path2D.prettifySvgPath(this.toString());\n    };\n    Path2D.prototype.toSvg = function () {\n        return Path2D.xmlDeclaration + \"\\n<svg width=\\\"100%\\\" height=\\\"100%\\\" viewBox=\\\"0 0 50 50\\\" version=\\\"1.1\\\" xmlns=\\\"\" + Path2D.xmlns + \"\\\">\\n    <path d=\\\"\" + this.toString() + \"\\\" style=\\\"fill:none;stroke:#000;stroke-width:0.5;\\\"/>\\n</svg>\";\n    };\n    Path2D.prototype.toDebugSvg = function () {\n        var d = Path2D.prettifySvgPath(this.toString());\n        return Path2D.xmlDeclaration + \"\\n<svg width=\\\"100%\\\" height=\\\"100%\\\" viewBox=\\\"0 0 100 100\\\" version=\\\"1.1\\\" xmlns=\\\"\" + Path2D.xmlns + \"\\\">\\n    <path d=\\\"\" + d + \"\\\" style=\\\"fill:none;stroke:#000;stroke-width:0.5;\\\"/>\\n</svg>\";\n    };\n    /**\n     * Returns an array of sub-paths of this Path,\n     * where each sub-path is represented exclusively by cubic segments.\n     */\n    Path2D.prototype.toCubicPaths = function () {\n        // Each sub-path is an array of `(n * 3 + 1) * 2` numbers,\n        // where `n` is the number of segments.\n        var paths = [];\n        var params = this.params;\n        // current path\n        var path;\n        // the starting point of the  current path\n        var sx;\n        var sy;\n        // the previous point of the current path\n        var px;\n        var py;\n        var i = 0; // current parameter\n        this.commands.forEach(function (command) {\n            switch (command) {\n                case 'M':\n                    path = [\n                        sx = px = params[i++],\n                        sy = py = params[i++]\n                    ];\n                    paths.push(path);\n                    break;\n                case 'L':\n                    var x = params[i++];\n                    var y = params[i++];\n                    // Place control points along the line `a + (b - a) * t`\n                    // at t = 1/3 and 2/3:\n                    path.push((px + px + x) / 3, (py + py + y) / 3, (px + x + x) / 3, (py + y + y) / 3, px = x, py = y);\n                    break;\n                case 'C':\n                    path.push(params[i++], params[i++], params[i++], params[i++], px = params[i++], py = params[i++]);\n                    break;\n                case 'Z':\n                    path.push((px + px + sx) / 3, (py + py + sy) / 3, (px + sx + sx) / 3, (py + sy + sy) / 3, px = sx, py = sy);\n                    break;\n            }\n        });\n        return paths;\n    };\n    Path2D.cubicPathToString = function (path) {\n        var n = path.length;\n        if (!(n % 2 === 0 && (n / 2 - 1) / 2 >= 1)) {\n            throw new Error('Invalid path.');\n        }\n        return 'M' + path.slice(0, 2).join(',') + 'C' + path.slice(2).join(',');\n    };\n    Path2D.splitCommandsRe = /(?=[AaCcHhLlMmQqSsTtVvZz])/g;\n    Path2D.matchParamsRe = /-?[0-9]*\\.?\\d+/g;\n    Path2D.quadraticCommandRe = /[QqTt]/;\n    Path2D.cubicCommandRe = /[CcSs]/;\n    Path2D.xmlDeclaration = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n    Path2D.xmlns = 'http://www.w3.org/2000/svg';\n    return Path2D;\n}());\nexport { Path2D };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Shape } from \"./shape\";\nimport { Path2D } from \"../path2D\";\nvar Path = /** @class */ (function (_super) {\n    __extends(Path, _super);\n    function Path() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * Declare a path to retain for later rendering and hit testing\n         * using custom Path2D class. Think of it as a TypeScript version\n         * of the native Path2D (with some differences) that works in all browsers.\n         */\n        _this.path = new Path2D();\n        /**\n        * The path only has to be updated when certain attributes change.\n        * For example, if transform attributes (such as `translationX`)\n        * are changed, we don't have to update the path. The `dirtyPath` flag\n        * is how we keep track if the path has to be updated or not.\n        */\n        _this._dirtyPath = true;\n        /**\n         * Path definition in SVG path syntax:\n         * https://www.w3.org/TR/SVG11/paths.html#DAttribute\n         */\n        _this._svgPath = '';\n        return _this;\n    }\n    Object.defineProperty(Path.prototype, \"dirtyPath\", {\n        get: function () {\n            return this._dirtyPath;\n        },\n        set: function (value) {\n            if (this._dirtyPath !== value) {\n                this._dirtyPath = value;\n                if (value) {\n                    this.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Path.prototype, \"svgPath\", {\n        get: function () {\n            return this._svgPath;\n        },\n        set: function (value) {\n            if (this._svgPath !== value) {\n                this._svgPath = value;\n                this.path.setFromString(value);\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Path.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        return this.path.closedPath && this.path.isPointInPath(point.x, point.y);\n    };\n    Path.prototype.isPointInStroke = function (x, y) {\n        return false;\n    };\n    Path.prototype.updatePath = function () { };\n    Path.prototype.render = function (ctx) {\n        var scene = this.scene;\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        // if (scene.debug.renderBoundingBoxes) {\n        //     const bbox = this.computeBBox();\n        //     if (bbox) {\n        //         this.matrix.transformBBox(bbox).render(ctx);\n        //     }\n        // }\n        this.matrix.toContext(ctx);\n        if (this.dirtyPath) {\n            this.updatePath();\n            this.dirtyPath = false;\n        }\n        scene.appendPath(this.path);\n        this.fillStroke(ctx);\n        this.dirty = false;\n    };\n    Path.className = 'Path';\n    return Path;\n}(Shape));\nexport { Path };\n","export function isEqual(a, b, epsilon) {\n    if (epsilon === void 0) { epsilon = 1e-10; }\n    return Math.abs(a - b) < epsilon;\n}\n/**\n * `Number.toFixed(n)` always formats a number so that it has `n` digits after the decimal point.\n * For example, `Number(0.00003427).toFixed(2)` returns `0.00`.\n * That's not very helpful, because all the meaningful information is lost.\n * In this case we would want the formatted value to have at least two significant digits: `0.000034`,\n * not two fraction digits.\n * @param value\n * @param fractionOrSignificantDigits\n */\nexport function toFixed(value, fractionOrSignificantDigits) {\n    if (fractionOrSignificantDigits === void 0) { fractionOrSignificantDigits = 2; }\n    var power = Math.floor(Math.log(Math.abs(value)) / Math.LN10);\n    if (power >= 0 || !isFinite(power)) {\n        return value.toFixed(fractionOrSignificantDigits); // fraction digits\n    }\n    return value.toFixed(Math.abs(power) - 1 + fractionOrSignificantDigits); // significant digits\n}\nvar numberUnits = [\"\", \"K\", \"M\", \"B\", \"T\"];\nexport function log10(x) {\n    return Math.log(x) * Math.LOG10E;\n}\nexport function toReadableNumber(value, fractionDigits) {\n    if (fractionDigits === void 0) { fractionDigits = 2; }\n    // For example: toReadableNumber(10550000000) yields \"10.6B\"\n    var prefix = '';\n    if (value <= 0) {\n        value = -value;\n        prefix = '-';\n    }\n    var thousands = ~~(log10(value) / log10(1000)); // discard the floating point part\n    return prefix + (value / Math.pow(1000.0, thousands)).toFixed(fractionDigits) + numberUnits[thousands];\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Shape } from \"./shape\";\nimport { Path } from \"./path\";\nimport { BBox } from \"../bbox\";\nimport { normalizeAngle360 } from \"../../util/angle\";\nimport { chainObjects } from \"../../util/object\";\nimport { isEqual } from \"../../util/number\";\nexport var ArcType;\n(function (ArcType) {\n    ArcType[ArcType[\"Open\"] = 0] = \"Open\";\n    ArcType[ArcType[\"Chord\"] = 1] = \"Chord\";\n    ArcType[ArcType[\"Round\"] = 2] = \"Round\";\n})(ArcType || (ArcType = {}));\n/**\n * Elliptical arc node.\n */\nvar Arc = /** @class */ (function (_super) {\n    __extends(Arc, _super);\n    function Arc() {\n        var _this = _super.call(this) || this;\n        _this._centerX = 0;\n        _this._centerY = 0;\n        _this._radiusX = 10;\n        _this._radiusY = 10;\n        _this._startAngle = 0;\n        _this._endAngle = Math.PI * 2;\n        _this._counterClockwise = false;\n        /**\n         * The type of arc to render:\n         * - {@link ArcType.Open} - end points of the arc segment are not connected (default)\n         * - {@link ArcType.Chord} - end points of the arc segment are connected by a line segment\n         * - {@link ArcType.Round} - each of the end points of the arc segment are connected\n         *                           to the center of the arc\n         * Arcs with {@link ArcType.Open} do not support hit testing, even if they have their\n         * {@link Shape.fillStyle} set, because they are not closed paths. Hit testing support\n         * would require using two paths - one for rendering, another for hit testing - and there\n         * doesn't seem to be a compelling reason to do that, when one can just use {@link ArcType.Chord}\n         * to create a closed path.\n         */\n        _this._type = ArcType.Open;\n        _this.restoreOwnStyles();\n        return _this;\n    }\n    Object.defineProperty(Arc.prototype, \"centerX\", {\n        get: function () {\n            return this._centerX;\n        },\n        set: function (value) {\n            if (this._centerX !== value) {\n                this._centerX = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"centerY\", {\n        get: function () {\n            return this._centerY;\n        },\n        set: function (value) {\n            if (this._centerY !== value) {\n                this._centerY = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"radiusX\", {\n        get: function () {\n            return this._radiusX;\n        },\n        set: function (value) {\n            if (this._radiusX !== value) {\n                this._radiusX = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"radiusY\", {\n        get: function () {\n            return this._radiusY;\n        },\n        set: function (value) {\n            if (this._radiusY !== value) {\n                this._radiusY = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"startAngle\", {\n        get: function () {\n            return this._startAngle;\n        },\n        set: function (value) {\n            if (this._startAngle !== value) {\n                this._startAngle = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"endAngle\", {\n        get: function () {\n            return this._endAngle;\n        },\n        set: function (value) {\n            if (this._endAngle !== value) {\n                this._endAngle = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"fullPie\", {\n        get: function () {\n            return isEqual(normalizeAngle360(this.startAngle), normalizeAngle360(this.endAngle));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"counterClockwise\", {\n        get: function () {\n            return this._counterClockwise;\n        },\n        set: function (value) {\n            if (this._counterClockwise !== value) {\n                this._counterClockwise = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"type\", {\n        get: function () {\n            return this._type;\n        },\n        set: function (value) {\n            if (this._type !== value) {\n                this._type = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Arc.prototype.updatePath = function () {\n        var path = this.path;\n        path.clear(); // No need to recreate the Path, can simply clear the existing one.\n        // This is much faster than the native Path2D implementation even though this `cubicArc`\n        // method is pure TypeScript and actually produces the definition of an elliptical arc,\n        // where you can specify two radii and rotation, while Path2D's `arc` method simply produces\n        // a circular arc. Maybe it's due to the experimental nature of the Path2D class,\n        // maybe it's because we have to create a new instance of it on each render, who knows...\n        path.cubicArc(this.centerX, this.centerY, this.radiusX, this.radiusY, 0, this.startAngle, this.endAngle, this.counterClockwise ? 1 : 0);\n        if (this.type === ArcType.Chord) {\n            path.closePath();\n        }\n        else if (this.type === ArcType.Round && !this.fullPie) {\n            path.lineTo(this.centerX, this.centerY);\n            path.closePath();\n        }\n    };\n    Arc.prototype.computeBBox = function () {\n        // Only works with full arcs (circles) and untransformed ellipses.\n        return new BBox(this.centerX - this.radiusX, this.centerY - this.radiusY, this.radiusX * 2, this.radiusY * 2);\n    };\n    Arc.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        var bbox = this.computeBBox();\n        return this.type !== ArcType.Open\n            && bbox.containsPoint(point.x, point.y)\n            && this.path.isPointInPath(point.x, point.y);\n    };\n    Arc.className = 'Arc';\n    Arc.defaultStyles = chainObjects(Shape.defaultStyles, {\n        lineWidth: 1,\n        fillStyle: null\n    });\n    return Arc;\n}(Path));\nexport { Arc };\n","import { Group } from \"./scene/group\";\nimport { Selection } from \"./scene/selection\";\nimport { Line } from \"./scene/shape/line\";\nimport { normalizeAngle360, normalizeAngle360Inclusive, toRadians } from \"./util/angle\";\nimport { Text } from \"./scene/shape/text\";\nimport { Arc } from \"./scene/shape/arc\";\nimport { BBox } from \"./scene/bbox\";\nimport { Matrix } from \"./scene/matrix\";\n// import { Rect } from \"./scene/shape/rect\"; // debug (bbox)\nvar Tags;\n(function (Tags) {\n    Tags[Tags[\"Tick\"] = 0] = \"Tick\";\n    Tags[Tags[\"GridLine\"] = 1] = \"GridLine\";\n})(Tags || (Tags = {}));\nvar AxisTick = /** @class */ (function () {\n    function AxisTick() {\n        /**\n         * The line width to be used by axis ticks.\n         */\n        this.width = 1;\n        /**\n         * The line length to be used by axis ticks.\n         */\n        this.size = 6;\n        /**\n         * The color of the axis ticks.\n         * Use `undefined` rather than `rgba(0, 0, 0, 0)` to make the ticks invisible.\n         */\n        this.color = 'rgba(195, 195, 195, 1)';\n        /**\n         * A hint of how many ticks to use (the exact number of ticks might differ),\n         * a `TimeInterval` or a `CountableTimeInterval`.\n         * For example:\n         *\n         *     axis.tick.count = 5;\n         *     axis.tick.count = year;\n         *     axis.tick.count = month.every(6);\n         */\n        this.count = 10;\n    }\n    return AxisTick;\n}());\nexport { AxisTick };\nvar AxisLabel = /** @class */ (function () {\n    function AxisLabel() {\n        this.fontSize = 12;\n        this.fontFamily = 'Verdana, sans-serif';\n        /**\n         * The padding between the labels and the ticks.\n         */\n        this.padding = 5;\n        /**\n         * The color of the labels.\n         * Use `undefined` rather than `rgba(0, 0, 0, 0)` to make labels invisible.\n         */\n        this.color = 'rgba(87, 87, 87, 1)';\n        /**\n         * Custom label rotation in degrees.\n         * Labels are rendered perpendicular to the axis line by default.\n         * Or parallel to the axis line, if the {@link parallelLabels} is set to `true`.\n         * The value of this config is used as the angular offset/deflection\n         * from the default rotation.\n         */\n        this.rotation = 0;\n        /**\n         * By default labels and ticks are positioned to the left of the axis line.\n         * `true` positions the labels to the right of the axis line.\n         * However, if the axis is rotated, its easier to think in terms\n         * of this side or the opposite side, rather than left and right.\n         * We use the term `mirror` for conciseness, although it's not\n         * true mirroring - for example, when a label is rotated, so that\n         * it is inclined at the 45 degree angle, text flowing from north-west\n         * to south-east, ending at the tick to the left of the axis line,\n         * and then we set this config to `true`, the text will still be flowing\n         * from north-west to south-east, _starting_ at the tick to the right\n         * of the axis line.\n         */\n        this.mirrored = false;\n        /**\n         * Labels are rendered perpendicular to the axis line by default.\n         * Setting this config to `true` makes labels render parallel to the axis line\n         * and center aligns labels' text at the ticks.\n         */\n        this.parallel = false;\n    }\n    Object.defineProperty(AxisLabel.prototype, \"format\", {\n        get: function () {\n            return this._format;\n        },\n        set: function (value) {\n            // See `TimeLocaleObject` docs for the list of supported format directives.\n            if (this._format !== value) {\n                this._format = value;\n                if (this.onFormatChange) {\n                    this.onFormatChange(value);\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AxisLabel;\n}());\nexport { AxisLabel };\n/**\n * A general purpose linear axis with no notion of orientation.\n * The axis is always rendered vertically, with horizontal labels positioned to the left\n * of the axis line by default. The axis can be {@link rotation | rotated} by an arbitrary angle,\n * so that it can be used as a top, right, bottom, left, radial or any other kind\n * of linear axis.\n * The generic `D` parameter is the type of the domain of the axis' scale.\n * The output range of the axis' scale is always numeric (screen coordinates).\n */\nvar Axis = /** @class */ (function () {\n    function Axis(scale) {\n        this.lineNode = new Line();\n        this.group = new Group();\n        this.line = {\n            width: 1,\n            color: 'rgba(195, 195, 195, 1)'\n        };\n        this.tick = new AxisTick();\n        this.label = new AxisLabel();\n        this.translation = { x: 0, y: 0 };\n        this.rotation = 0; // axis rotation angle in degrees\n        this._visibleRange = [0, 1];\n        this._title = undefined;\n        /**\n         * The length of the grid. The grid is only visible in case of a non-zero value.\n         * In case {@link radialGrid} is `true`, the value is interpreted as an angle\n         * (in degrees).\n         */\n        this._gridLength = 0;\n        /**\n         * The array of styles to cycle through when rendering grid lines.\n         * For example, use two {@link GridStyle} objects for alternating styles.\n         * Contains only one {@link GridStyle} object by default, meaning all grid lines\n         * have the same style.\n         */\n        this.gridStyle = [{\n                stroke: 'rgba(219, 219, 219, 1)',\n                lineDash: [4, 2]\n            }];\n        /**\n         * `false` - render grid as lines of {@link gridLength} that extend the ticks\n         *           on the opposite side of the axis\n         * `true` - render grid as concentric circles that go through the ticks\n         */\n        this._radialGrid = false;\n        this.scale = scale;\n        this.requestedRange = scale.range.slice();\n        this.groupSelection = Selection.select(this.group).selectAll();\n        this.label.onFormatChange = this.onTickFormatChange.bind(this);\n        this.group.append(this.lineNode);\n        this.onTickFormatChange();\n        // this.group.append(this.bboxRect); // debug (bbox)\n    }\n    Axis.prototype.updateRange = function () {\n        var _a = this, rr = _a.requestedRange, vr = _a.visibleRange, scale = _a.scale;\n        var span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n        var shift = span * vr[0];\n        var start = rr[0] - shift;\n        scale.range = [start, start + span];\n    };\n    Object.defineProperty(Axis.prototype, \"range\", {\n        get: function () {\n            return this.requestedRange.slice();\n        },\n        set: function (value) {\n            this.requestedRange = value.slice();\n            this.updateRange();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Axis.prototype, \"visibleRange\", {\n        get: function () {\n            return this._visibleRange.slice();\n        },\n        set: function (value) {\n            if (value && value.length === 2) {\n                var min = value[0], max = value[1];\n                min = Math.max(0, min);\n                max = Math.min(1, max);\n                min = Math.min(min, max);\n                max = Math.max(min, max);\n                this._visibleRange = [min, max];\n                this.updateRange();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Axis.prototype, \"domain\", {\n        get: function () {\n            return this.scale.domain.slice();\n        },\n        set: function (value) {\n            this.scale.domain = value.slice();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Axis.prototype.onTickFormatChange = function (format) {\n        if (format) {\n            if (this.scale.tickFormat) {\n                this.tickFormatter = this.scale.tickFormat(10, format);\n            }\n        }\n        else {\n            if (this.scale.tickFormat) {\n                this.tickFormatter = this.scale.tickFormat(10, undefined);\n            }\n            else {\n                this.tickFormatter = undefined;\n            }\n        }\n    };\n    Object.defineProperty(Axis.prototype, \"title\", {\n        get: function () {\n            return this._title;\n        },\n        set: function (value) {\n            var oldTitle = this._title;\n            if (oldTitle !== value) {\n                if (oldTitle) {\n                    this.group.removeChild(oldTitle.node);\n                }\n                if (value) {\n                    value.node.rotation = -Math.PI / 2;\n                    this.group.appendChild(value.node);\n                }\n                this._title = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Axis.prototype, \"gridLength\", {\n        get: function () {\n            return this._gridLength;\n        },\n        set: function (value) {\n            // Was visible and now invisible, or was invisible and now visible.\n            if (this._gridLength && !value || !this._gridLength && value) {\n                this.groupSelection = this.groupSelection.remove().setData([]);\n            }\n            this._gridLength = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Axis.prototype, \"radialGrid\", {\n        get: function () {\n            return this._radialGrid;\n        },\n        set: function (value) {\n            if (this._radialGrid !== value) {\n                this._radialGrid = value;\n                this.groupSelection = this.groupSelection.remove().setData([]);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Creates/removes/updates the scene graph nodes that constitute the axis.\n     * Supposed to be called _manually_ after changing _any_ of the axis properties.\n     * This allows to bulk set axis properties before updating the nodes.\n     * The node changes made by this method are rendered on the next animation frame.\n     * We could schedule this method call automatically on the next animation frame\n     * when any of the axis properties change (the way we do when properties of scene graph's\n     * nodes change), but this will mean that we first wait for the next animation\n     * frame to make changes to the nodes of the axis, then wait for another animation\n     * frame to render those changes. It's nice to have everything update automatically,\n     * but this extra level of async indirection will not just introduce an unwanted delay,\n     * it will also make it harder to reason about the program.\n     */\n    Axis.prototype.update = function () {\n        var _this = this;\n        var _a = this, group = _a.group, scale = _a.scale, tick = _a.tick, label = _a.label, gridStyle = _a.gridStyle, requestedRange = _a.requestedRange;\n        var requestedRangeMin = Math.min(requestedRange[0], requestedRange[1]);\n        var requestedRangeMax = Math.max(requestedRange[0], requestedRange[1]);\n        var rotation = toRadians(this.rotation);\n        var parallelLabels = label.parallel;\n        var labelRotation = normalizeAngle360(toRadians(label.rotation));\n        group.translationX = this.translation.x;\n        group.translationY = this.translation.y;\n        group.rotation = rotation;\n        var halfBandwidth = (scale.bandwidth || 0) / 2;\n        // The side of the axis line to position the labels on.\n        // -1 = left (default)\n        //  1 = right\n        var sideFlag = label.mirrored ? 1 : -1;\n        // When labels are parallel to the axis line, the `parallelFlipFlag` is used to\n        // flip the labels to avoid upside-down text, when the axis is rotated\n        // such that it is in the right hemisphere, i.e. the angle of rotation\n        // is in the [0, π] interval.\n        // The rotation angle is normalized, so that we have an easier time checking\n        // if it's in the said interval. Since the axis is always rendered vertically\n        // and then rotated, zero rotation means 12 (not 3) o-clock.\n        // -1 = flip\n        //  1 = don't flip (default)\n        var parallelFlipRotation = normalizeAngle360(rotation);\n        var parallelFlipFlag = !labelRotation && parallelFlipRotation >= 0 && parallelFlipRotation <= Math.PI ? -1 : 1;\n        var regularFlipRotation = normalizeAngle360(rotation - Math.PI / 2);\n        // Flip if the axis rotation angle is in the top hemisphere.\n        var regularFlipFlag = !labelRotation && regularFlipRotation >= 0 && regularFlipRotation <= Math.PI ? -1 : 1;\n        var alignFlag = labelRotation >= 0 && labelRotation <= Math.PI ? -1 : 1;\n        var ticks = scale.ticks(this.tick.count);\n        var update = this.groupSelection.setData(ticks);\n        update.exit.remove();\n        var enter = update.enter.append(Group);\n        // Line auto-snaps to pixel grid if vertical or horizontal.\n        enter.append(Line).each(function (node) { return node.tag = Tags.Tick; });\n        if (this.gridLength) {\n            if (this.radialGrid) {\n                enter.append(Arc).each(function (node) { return node.tag = Tags.GridLine; });\n            }\n            else {\n                enter.append(Line).each(function (node) { return node.tag = Tags.GridLine; });\n            }\n        }\n        enter.append(Text);\n        var groupSelection = update.merge(enter);\n        groupSelection\n            .attrFn('translationY', function (_, datum) {\n            return Math.round(scale.convert(datum) + halfBandwidth);\n        })\n            .attrFn('visible', function (node) {\n            return node.translationY >= requestedRangeMin && node.translationY <= requestedRangeMax;\n        });\n        groupSelection.selectByTag(Tags.Tick)\n            .each(function (line) {\n            line.strokeWidth = tick.width;\n            line.stroke = tick.color;\n        })\n            .attr('x1', sideFlag * tick.size)\n            .attr('x2', 0)\n            .attr('y1', 0)\n            .attr('y2', 0);\n        if (this.gridLength && gridStyle.length) {\n            var styleCount_1 = gridStyle.length;\n            var gridLines = void 0;\n            if (this.radialGrid) {\n                var angularGridLength_1 = normalizeAngle360Inclusive(toRadians(this.gridLength));\n                gridLines = groupSelection.selectByTag(Tags.GridLine)\n                    .each(function (arc, datum) {\n                    var radius = Math.round(scale.convert(datum) + halfBandwidth);\n                    arc.centerX = 0;\n                    arc.centerY = scale.range[0] - radius;\n                    arc.endAngle = angularGridLength_1;\n                    arc.radiusX = radius;\n                    arc.radiusY = radius;\n                });\n            }\n            else {\n                gridLines = groupSelection.selectByTag(Tags.GridLine)\n                    .each(function (line) {\n                    line.x1 = 0;\n                    line.x2 = -sideFlag * _this.gridLength;\n                    line.y1 = 0;\n                    line.y2 = 0;\n                    line.visible = Math.abs(line.parent.translationY - scale.range[0]) > 1;\n                });\n            }\n            gridLines.each(function (gridLine, _, index) {\n                var style = gridStyle[index % styleCount_1];\n                gridLine.stroke = style.stroke;\n                gridLine.strokeWidth = tick.width;\n                gridLine.lineDash = style.lineDash;\n                gridLine.fill = undefined;\n            });\n        }\n        var tickFormatter = this.tickFormatter;\n        // `ticks instanceof NumericTicks` doesn't work here, so we feature detect.\n        var fractionDigits = ticks.fractionDigits >= 0 ? ticks.fractionDigits : 0;\n        var labelSelection = groupSelection.selectByClass(Text)\n            .each(function (node, datum, index) {\n            node.fontStyle = label.fontStyle;\n            node.fontWeight = label.fontWeight;\n            node.fontSize = label.fontSize;\n            node.fontFamily = label.fontFamily;\n            node.fill = label.color;\n            node.textBaseline = parallelLabels && !labelRotation\n                ? (sideFlag * parallelFlipFlag === -1 ? 'hanging' : 'bottom')\n                : 'middle';\n            node.text = label.formatter\n                ? label.formatter({\n                    value: fractionDigits >= 0 ? datum : String(datum),\n                    index: index,\n                    fractionDigits: fractionDigits,\n                    formatter: tickFormatter\n                })\n                : fractionDigits\n                    // the `datum` is a floating point number\n                    ? datum.toFixed(fractionDigits)\n                    // the `datum` is an integer, a string or an object\n                    : tickFormatter\n                        ? tickFormatter(datum)\n                        : String(datum);\n            node.textAlign = parallelLabels\n                ? labelRotation ? (sideFlag * alignFlag === -1 ? 'end' : 'start') : 'center'\n                : sideFlag * regularFlipFlag === -1 ? 'end' : 'start';\n        });\n        var labelX = sideFlag * (tick.size + label.padding);\n        var autoRotation = parallelLabels\n            ? parallelFlipFlag * Math.PI / 2\n            : (regularFlipFlag === -1 ? Math.PI : 0);\n        labelSelection.each(function (label) {\n            label.x = labelX;\n            label.rotationCenterX = labelX;\n            label.rotation = autoRotation + labelRotation;\n        });\n        this.groupSelection = groupSelection;\n        // Render axis line.\n        var lineNode = this.lineNode;\n        lineNode.x1 = 0;\n        lineNode.x2 = 0;\n        lineNode.y1 = requestedRange[0];\n        lineNode.y2 = requestedRange[1];\n        lineNode.strokeWidth = this.line.width;\n        lineNode.stroke = this.line.color;\n        lineNode.visible = ticks.length > 0;\n        var title = this.title;\n        var titleVisible = false;\n        if (title && title.enabled) {\n            titleVisible = true;\n            var padding = title.padding.bottom;\n            var titleNode = title.node;\n            var bbox = this.computeBBox({ excludeTitle: true });\n            var titleRotationFlag = sideFlag === -1 && parallelFlipRotation > Math.PI && parallelFlipRotation < Math.PI * 2 ? -1 : 1;\n            titleNode.rotation = titleRotationFlag * sideFlag * Math.PI / 2;\n            titleNode.x = titleRotationFlag * sideFlag * (lineNode.y1 + lineNode.y2) / 2;\n            titleNode.x = titleRotationFlag * sideFlag * (requestedRange[0] + requestedRange[1]) / 2;\n            if (sideFlag === -1) {\n                titleNode.y = titleRotationFlag * (-padding - bbox.width + Math.max(bbox.x + bbox.width, 0));\n            }\n            else {\n                titleNode.y = -padding - bbox.width - Math.min(bbox.x, 0);\n            }\n            // title.text = `Axis Title: ${sideFlag} ${toDegrees(parallelFlipRotation).toFixed(0)} ${titleRotationFlag}`;\n            titleNode.textBaseline = titleRotationFlag === 1 ? 'bottom' : 'top';\n        }\n        if (title) {\n            title.node.visible = titleVisible;\n        }\n        // debug (bbox)\n        // const bbox = this.computeBBox();\n        // const bboxRect = this.bboxRect;\n        // bboxRect.x = bbox.x;\n        // bboxRect.y = bbox.y;\n        // bboxRect.width = bbox.width;\n        // bboxRect.height = bbox.height;\n    };\n    Axis.prototype.computeBBox = function (options) {\n        var _a = this, title = _a.title, lineNode = _a.lineNode;\n        var labels = this.groupSelection.selectByClass(Text);\n        var left = Infinity;\n        var right = -Infinity;\n        var top = Infinity;\n        var bottom = -Infinity;\n        labels.each(function (label) {\n            // The label itself is rotated, but not translated, the group that\n            // contains it is. So to capture the group transform in the label bbox\n            // calculation we combine the transform matrices of the label and the group.\n            // Depending on the timing of the `axis.computeBBox()` method call, we may\n            // not have the group's and the label's transform matrices updated yet (because\n            // the transform matrix is not recalculated whenever a node's transform attributes\n            // change, instead it's marked for recalculation on the next frame by setting\n            // the node's `dirtyTransform` flag to `true`), so we force them to update\n            // right here by calling `computeTransformMatrix`.\n            label.computeTransformMatrix();\n            var matrix = Matrix.flyweight(label.matrix);\n            var group = label.parent;\n            group.computeTransformMatrix();\n            matrix.preMultiplySelf(group.matrix);\n            var labelBBox = label.computeBBox();\n            if (labelBBox) {\n                var bbox = matrix.transformBBox(labelBBox);\n                left = Math.min(left, bbox.x);\n                right = Math.max(right, bbox.x + bbox.width);\n                top = Math.min(top, bbox.y);\n                bottom = Math.max(bottom, bbox.y + bbox.height);\n            }\n        });\n        if (title && title.enabled && (!options || !options.excludeTitle)) {\n            var label = title.node;\n            label.computeTransformMatrix();\n            var matrix = Matrix.flyweight(label.matrix);\n            var labelBBox = label.computeBBox();\n            if (labelBBox) {\n                var bbox = matrix.transformBBox(labelBBox);\n                left = Math.min(left, bbox.x);\n                right = Math.max(right, bbox.x + bbox.width);\n                top = Math.min(top, bbox.y);\n                bottom = Math.max(bottom, bbox.y + bbox.height);\n            }\n        }\n        left = Math.min(left, 0);\n        right = Math.max(right, 0);\n        top = Math.min(top, lineNode.y1, lineNode.y2);\n        bottom = Math.max(bottom, lineNode.y1, lineNode.y2);\n        return new BBox(left, top, right - left, bottom - top);\n    };\n    return Axis;\n}());\nexport { Axis };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Axis } from \"../axis\";\nexport var ChartAxisDirection;\n(function (ChartAxisDirection) {\n    ChartAxisDirection[\"X\"] = \"x\";\n    ChartAxisDirection[\"Y\"] = \"y\"; // means 'radius' in polar charts\n})(ChartAxisDirection || (ChartAxisDirection = {}));\nexport function flipChartAxisDirection(direction) {\n    if (direction === ChartAxisDirection.X) {\n        return ChartAxisDirection.Y;\n    }\n    else {\n        return ChartAxisDirection.X;\n    }\n}\nexport var ChartAxisPosition;\n(function (ChartAxisPosition) {\n    ChartAxisPosition[\"Top\"] = \"top\";\n    ChartAxisPosition[\"Right\"] = \"right\";\n    ChartAxisPosition[\"Bottom\"] = \"bottom\";\n    ChartAxisPosition[\"Left\"] = \"left\";\n    ChartAxisPosition[\"Angle\"] = \"angle\";\n    ChartAxisPosition[\"Radius\"] = \"radius\";\n})(ChartAxisPosition || (ChartAxisPosition = {}));\nvar ChartAxis = /** @class */ (function (_super) {\n    __extends(ChartAxis, _super);\n    function ChartAxis() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.keys = [];\n        _this.boundSeries = [];\n        return _this;\n    }\n    Object.defineProperty(ChartAxis.prototype, \"type\", {\n        get: function () {\n            return this.constructor.type || '';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartAxis.prototype, \"position\", {\n        get: function () {\n            return this._position;\n        },\n        set: function (value) {\n            if (this._position !== value) {\n                this._position = value;\n                switch (value) {\n                    case ChartAxisPosition.Top:\n                        this.direction = ChartAxisDirection.X;\n                        this.rotation = -90;\n                        this.label.mirrored = true;\n                        this.label.parallel = true;\n                        break;\n                    case ChartAxisPosition.Right:\n                        this.direction = ChartAxisDirection.Y;\n                        this.rotation = 0;\n                        this.label.mirrored = true;\n                        this.label.parallel = false;\n                        break;\n                    case ChartAxisPosition.Bottom:\n                        this.direction = ChartAxisDirection.X;\n                        this.rotation = -90;\n                        this.label.mirrored = false;\n                        this.label.parallel = true;\n                        break;\n                    case ChartAxisPosition.Left:\n                        this.direction = ChartAxisDirection.Y;\n                        this.rotation = 0;\n                        this.label.mirrored = false;\n                        this.label.parallel = false;\n                        break;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ChartAxis;\n}(Axis));\nexport { ChartAxis };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { BandScale } from \"../../scale/bandScale\";\nimport { ChartAxis } from \"../chartAxis\";\nvar CategoryAxis = /** @class */ (function (_super) {\n    __extends(CategoryAxis, _super);\n    function CategoryAxis() {\n        var _this = this;\n        var scale = new BandScale();\n        scale.paddingInner = 0.2;\n        scale.paddingOuter = 0.3;\n        _this = _super.call(this, scale) || this;\n        return _this;\n    }\n    CategoryAxis.className = 'CategoryAxis';\n    CategoryAxis.type = 'category';\n    return CategoryAxis;\n}(ChartAxis));\nexport { CategoryAxis };\n","// Custom `Array.find` implementation for legacy browsers.\nexport function find(arr, predicate) {\n    for (var i = 0, ln = arr.length; i < ln; i++) {\n        var value = arr[i];\n        if (predicate(value, i, arr)) {\n            return value;\n        }\n    }\n}\n/**\n * Returns the minimum and maximum value in the given iterable using natural order.\n * If the iterable contains no comparable values, returns `undefined`.\n * @param values\n */\nexport function extent(values) {\n    var n = values.length;\n    var i = -1;\n    var value;\n    var min;\n    var max;\n    while (++i < n) { // Find the first comparable finite value.\n        if ((value = values[i]) != null && value >= value) {\n            min = max = value;\n            while (++i < n) { // Compare the remaining values.\n                if ((value = values[i]) != null) {\n                    if (min > value) {\n                        min = value;\n                    }\n                    if (max < value) {\n                        max = value;\n                    }\n                }\n            }\n        }\n    }\n    return typeof min === 'undefined' || typeof max === 'undefined' ? undefined : [min, max];\n}\nexport function finiteExtent(values) {\n    var n = values.length;\n    var i = -1;\n    var value;\n    var min;\n    var max;\n    while (++i < n) { // Find the first comparable finite value.\n        if ((value = values[i]) != null && value >= value && isFinite(value)) {\n            min = max = value;\n            while (++i < n) { // Compare the remaining values.\n                if ((value = values[i]) != null && isFinite(value)) {\n                    if (min > value) {\n                        min = value;\n                    }\n                    if (max < value) {\n                        max = value;\n                    }\n                }\n            }\n        }\n    }\n    return min === undefined || max === undefined ? undefined : [min, max];\n}\n/**\n * This method will only return `undefined` if there's not a single valid finite number present\n * in the given array of values. Date values will be converted to timestamps.\n * @param values\n */\nexport function numericExtent(values) {\n    var calculatedExtent = finiteExtent(values);\n    if (typeof calculatedExtent === 'undefined') {\n        return;\n    }\n    var a = calculatedExtent[0], b = calculatedExtent[1];\n    var min = a instanceof Date ? a.getTime() : a;\n    var max = b instanceof Date ? b.getTime() : b;\n    if (typeof min === 'number' && isFinite(min) && typeof max === 'number' && isFinite(max)) {\n        return [min, max];\n    }\n}\n/**\n * finds the min and max using a process appropriate for stacked values. Ie,\n * summing up the positive and negative numbers, and returning the totals of each\n */\nexport function findMinMax(values) {\n    var min = 0;\n    var max = 0;\n    for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n        var value = values_1[_i];\n        if (value < 0) {\n            min += value;\n        }\n        else {\n            max += value;\n        }\n    }\n    return { min: min, max: max };\n}\nexport function findLargestMinMax(totals) {\n    var min = 0;\n    var max = 0;\n    for (var _i = 0, totals_1 = totals; _i < totals_1.length; _i++) {\n        var total = totals_1[_i];\n        if (total.min < min) {\n            min = total.min;\n        }\n        if (total.max > max) {\n            max = total.max;\n        }\n    }\n    return { min: min, max: max };\n}\n","import { find } from \"../util/array\";\n/**\n * The tree layout is calculated in abstract x/y coordinates, where the root is at (0, 0)\n * and the tree grows downward from the root.\n */\nvar TreeNode = /** @class */ (function () {\n    function TreeNode(label, parent, number) {\n        if (label === void 0) { label = ''; }\n        if (number === void 0) { number = 0; }\n        this.x = 0;\n        this.y = 0;\n        this.subtreeLeft = NaN;\n        this.subtreeRight = NaN;\n        this.screenX = 0;\n        this.screenY = 0;\n        this.children = [];\n        this.leafCount = 0;\n        this.prelim = 0;\n        this.mod = 0;\n        this.ancestor = this;\n        this.change = 0;\n        this.shift = 0;\n        this.label = label;\n        // screenX and screenY are meant to be recomputed from (layout) x and y\n        // when the tree is resized (without performing another layout)\n        this.parent = parent;\n        this.depth = parent ? parent.depth + 1 : 0;\n        this.number = number;\n    }\n    TreeNode.prototype.getLeftSibling = function () {\n        return this.number > 0 && this.parent ? this.parent.children[this.number - 1] : undefined;\n    };\n    TreeNode.prototype.getLeftmostSibling = function () {\n        return this.number > 0 && this.parent ? this.parent.children[0] : undefined;\n    };\n    // traverse the left contour of a subtree, return the successor of v on this contour\n    TreeNode.prototype.nextLeft = function () {\n        return this.children ? this.children[0] : this.thread;\n    };\n    // traverse the right contour of a subtree, return the successor of v on this contour\n    TreeNode.prototype.nextRight = function () {\n        return this.children ? this.children[this.children.length - 1] : this.thread;\n    };\n    TreeNode.prototype.getSiblings = function () {\n        var _this = this;\n        return this.parent ? this.parent.children.filter(function (_, i) { return i !== _this.number; }) : [];\n    };\n    return TreeNode;\n}());\n/**\n * Converts an array of ticks, where each tick has an array of labels, to a label tree.\n * If `pad` is `true`, will ensure that every branch matches the depth of the tree by\n * creating empty labels.\n */\nexport function ticksToTree(ticks, pad) {\n    if (pad === void 0) { pad = true; }\n    var root = new TreeNode();\n    var depth = 0;\n    if (pad) {\n        ticks.forEach(function (tick) { return depth = Math.max(depth, tick.labels.length); });\n    }\n    ticks.forEach(function (tick) {\n        if (pad) {\n            while (tick.labels.length < depth) {\n                tick.labels.unshift('');\n            }\n        }\n        insertTick(root, tick);\n    });\n    return root;\n}\nfunction insertTick(root, tick) {\n    var pathParts = tick.labels.slice().reverse(); // path elements from root to leaf label\n    var lastPartIndex = pathParts.length - 1;\n    pathParts.forEach(function (pathPart, partIndex) {\n        var children = root.children;\n        var existingNode = find(children, function (child) { return child.label === pathPart; });\n        var isNotLeaf = partIndex !== lastPartIndex;\n        if (existingNode && isNotLeaf) { // the isNotLeaf check is to allow duplicate leafs\n            root = existingNode;\n        }\n        else {\n            var node = new TreeNode(pathPart, root);\n            node.number = children.length;\n            children.push(node);\n            if (isNotLeaf) {\n                root = node;\n            }\n        }\n    });\n}\n// Shift the subtree.\nfunction moveSubtree(wm, wp, shift) {\n    var subtrees = wp.number - wm.number;\n    var ratio = shift / subtrees;\n    wp.change -= ratio;\n    wp.shift += shift;\n    wm.change += ratio;\n    wp.prelim += shift;\n    wp.mod += shift;\n}\nfunction ancestor(vim, v, defaultAncestor) {\n    return v.getSiblings().indexOf(vim.ancestor) >= 0 ? vim.ancestor : defaultAncestor;\n}\n// Spaces out the children.\nfunction executeShifts(v) {\n    var children = v.children;\n    if (children) {\n        var shift = 0;\n        var change = 0;\n        for (var i = children.length - 1; i >= 0; i--) {\n            var w = children[i];\n            w.prelim += shift;\n            w.mod += shift;\n            change += w.change;\n            shift += w.shift + change;\n        }\n    }\n}\n// Moves current subtree with v as the root if some nodes are conflicting in space.\nfunction apportion(v, defaultAncestor, distance) {\n    var w = v.getLeftSibling();\n    if (w) {\n        var vop = v;\n        var vip = v;\n        var vim = w;\n        var vom = vip.getLeftmostSibling();\n        var sip = vip.mod;\n        var sop = vop.mod;\n        var sim = vim.mod;\n        var som = vom.mod;\n        while (vim.nextRight() && vip.nextLeft()) {\n            vim = vim.nextRight();\n            vip = vip.nextLeft();\n            vom = vom.nextLeft();\n            vop = vop.nextRight();\n            vop.ancestor = v;\n            var shift = (vim.prelim + sim) - (vip.prelim + sip) + distance;\n            if (shift > 0) {\n                moveSubtree(ancestor(vim, v, defaultAncestor), v, shift);\n                sip += shift;\n                sop += shift;\n            }\n            sim += vim.mod;\n            sip += vip.mod;\n            som += vom.mod;\n            sop += vop.mod;\n        }\n        if (vim.nextRight() && !vop.nextRight()) {\n            vop.thread = vim.nextRight();\n            vop.mod += sim - sop;\n        }\n        else {\n            if (vip.nextLeft() && !vom.nextLeft()) {\n                vom.thread = vip.nextLeft();\n                vom.mod += sip - som;\n            }\n            defaultAncestor = v;\n        }\n    }\n    return defaultAncestor;\n}\n// Compute the preliminary x-coordinate of node and its children (recursively).\nfunction firstWalk(node, distance) {\n    var children = node.children;\n    if (children.length) {\n        var defaultAncestor_1 = children[0];\n        children.forEach(function (child) {\n            firstWalk(child, distance);\n            defaultAncestor_1 = apportion(child, defaultAncestor_1, distance);\n        });\n        executeShifts(node);\n        var midpoint = (children[0].prelim + children[children.length - 1].prelim) / 2;\n        var leftSibling = node.getLeftSibling();\n        if (leftSibling) {\n            node.prelim = leftSibling.prelim + distance;\n            node.mod = node.prelim - midpoint;\n        }\n        else {\n            node.prelim = midpoint;\n        }\n    }\n    else {\n        var leftSibling = node.getLeftSibling();\n        node.prelim = leftSibling ? leftSibling.prelim + distance : 0;\n    }\n}\nvar Dimensions = /** @class */ (function () {\n    function Dimensions() {\n        this.top = Infinity;\n        this.right = -Infinity;\n        this.bottom = -Infinity;\n        this.left = Infinity;\n    }\n    Dimensions.prototype.update = function (node, xy) {\n        var _a = xy(node), x = _a.x, y = _a.y;\n        if (x > this.right) {\n            this.right = x;\n        }\n        if (x < this.left) {\n            this.left = x;\n        }\n        if (y > this.bottom) {\n            this.bottom = y;\n        }\n        if (y < this.top) {\n            this.top = y;\n        }\n    };\n    return Dimensions;\n}());\nfunction secondWalk(v, m, layout) {\n    v.x = v.prelim + m;\n    v.y = v.depth;\n    layout.update(v);\n    v.children.forEach(function (w) { return secondWalk(w, m + v.mod, layout); });\n}\n// After the second walk the parent nodes are positioned at the center of their immediate children.\n// If we want the parent nodes to be positioned at the center of the subtree for which they are roots,\n// we need a third walk to adjust the positions.\nfunction thirdWalk(v) {\n    var children = v.children;\n    var leafCount = 0;\n    children.forEach(function (w) {\n        thirdWalk(w);\n        if (w.children.length) {\n            leafCount += w.leafCount;\n        }\n        else {\n            leafCount++;\n        }\n    });\n    v.leafCount = leafCount;\n    if (children.length) {\n        v.subtreeLeft = children[0].subtreeLeft;\n        v.subtreeRight = children[v.children.length - 1].subtreeRight;\n        v.x = (v.subtreeLeft + v.subtreeRight) / 2;\n    }\n    else {\n        v.subtreeLeft = v.x;\n        v.subtreeRight = v.x;\n    }\n}\nexport function treeLayout(root) {\n    var layout = new TreeLayout;\n    firstWalk(root, 1);\n    secondWalk(root, -root.prelim, layout);\n    thirdWalk(root);\n    return layout;\n}\nvar TreeLayout = /** @class */ (function () {\n    function TreeLayout() {\n        this.dimensions = new Dimensions;\n        this.leafCount = 0;\n        this.nodes = [];\n        // One might want to process leaf nodes separately from the rest of the tree.\n        // For example, position labels corresponding to leafs vertically, rather than horizontally.\n        this.leafNodes = [];\n        this.nonLeafNodes = [];\n        this.depth = 0;\n    }\n    TreeLayout.prototype.update = function (node) {\n        this.dimensions.update(node, function (node) { return ({ x: node.x, y: node.y }); });\n        if (!node.children.length) {\n            this.leafCount++;\n            this.leafNodes.push(node);\n        }\n        else {\n            this.nonLeafNodes.push(node);\n        }\n        if (node.depth > this.depth) {\n            this.depth = node.depth;\n        }\n        this.nodes.push(node);\n    };\n    TreeLayout.prototype.resize = function (width, height, shiftX, shiftY, flipX) {\n        if (shiftX === void 0) { shiftX = 0; }\n        if (shiftY === void 0) { shiftY = 0; }\n        if (flipX === void 0) { flipX = false; }\n        var xSteps = this.leafCount - 1;\n        var ySteps = this.depth;\n        var dimensions = this.dimensions;\n        var scalingX = 1;\n        var scalingY = 1;\n        if (width > 0 && xSteps) {\n            var existingSpacingX = (dimensions.right - dimensions.left) / xSteps;\n            var desiredSpacingX = width / xSteps;\n            scalingX = desiredSpacingX / existingSpacingX;\n            if (flipX) {\n                scalingX = -scalingX;\n            }\n        }\n        if (height > 0 && ySteps) {\n            var existingSpacingY = (dimensions.bottom - dimensions.top) / ySteps;\n            var desiredSpacingY = height / ySteps;\n            scalingY = desiredSpacingY / existingSpacingY;\n        }\n        var screenDimensions = new Dimensions();\n        this.nodes.forEach(function (node) {\n            node.screenX = node.x * scalingX;\n            node.screenY = node.y * scalingY;\n            screenDimensions.update(node, function (node) { return ({ x: node.screenX, y: node.screenY }); });\n        });\n        // Normalize so that root top and leftmost leaf left start at zero.\n        var offsetX = -screenDimensions.left;\n        var offsetY = -screenDimensions.top;\n        this.nodes.forEach(function (node) {\n            node.screenX += offsetX + shiftX;\n            node.screenY += offsetY + shiftY;\n        });\n    };\n    return TreeLayout;\n}());\nexport { TreeLayout };\nfunction logTree(root, formatter) {\n    root.children.forEach(function (child) { return logTree(child, formatter); });\n    if (formatter) {\n        console.log(formatter(root));\n    }\n    else {\n        console.log(root);\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Group } from \"../../scene/group\";\nimport { Selection } from \"../../scene/selection\";\nimport { Line } from \"../../scene/shape/line\";\nimport { normalizeAngle360, toRadians } from \"../../util/angle\";\nimport { Text } from \"../../scene/shape/text\";\nimport { BBox } from \"../../scene/bbox\";\nimport { Matrix } from \"../../scene/matrix\";\n// import { Rect } from \"../../scene/shape/rect\"; debug (bbox)\nimport { BandScale } from \"../../scale/bandScale\";\nimport { ticksToTree, treeLayout } from \"../../layout/tree\";\nimport { AxisLabel } from \"../../axis\";\nimport { ChartAxis } from \"../chartAxis\";\nimport { createId } from \"../../util/id\";\nvar GroupedCategoryAxisLabel = /** @class */ (function (_super) {\n    __extends(GroupedCategoryAxisLabel, _super);\n    function GroupedCategoryAxisLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.grid = false;\n        return _this;\n    }\n    return GroupedCategoryAxisLabel;\n}(AxisLabel));\n/**\n * A general purpose linear axis with no notion of orientation.\n * The axis is always rendered vertically, with horizontal labels positioned to the left\n * of the axis line by default. The axis can be {@link rotation | rotated} by an arbitrary angle,\n * so that it can be used as a top, right, bottom, left, radial or any other kind\n * of linear axis.\n * The generic `D` parameter is the type of the domain of the axis' scale.\n * The output range of the axis' scale is always numeric (screen coordinates).\n */\nvar GroupedCategoryAxis = /** @class */ (function (_super) {\n    __extends(GroupedCategoryAxis, _super);\n    function GroupedCategoryAxis() {\n        var _this = _super.call(this, new BandScale()) || this;\n        _this.id = createId(_this);\n        _this.tickScale = new BandScale();\n        _this.group = new Group();\n        _this.longestSeparatorLength = 0;\n        _this.translation = {\n            x: 0,\n            y: 0\n        };\n        /**\n         * Axis rotation angle in degrees.\n         */\n        _this.rotation = 0;\n        _this.line = {\n            width: 1,\n            color: 'rgba(195, 195, 195, 1)'\n        };\n        // readonly tick = new AxisTick();\n        _this.label = new GroupedCategoryAxisLabel();\n        /**\n         * The color of the labels.\n         * Use `undefined` rather than `rgba(0, 0, 0, 0)` to make labels invisible.\n         */\n        _this.labelColor = 'rgba(87, 87, 87, 1)';\n        var _a = _this, group = _a.group, scale = _a.scale, tickScale = _a.tickScale;\n        scale.paddingOuter = 0.1;\n        scale.paddingInner = scale.paddingOuter * 2;\n        _this.requestedRange = scale.range.slice();\n        tickScale.paddingInner = 1;\n        tickScale.paddingOuter = 0;\n        _this.gridLineSelection = Selection.select(group).selectAll();\n        _this.axisLineSelection = Selection.select(group).selectAll();\n        _this.separatorSelection = Selection.select(group).selectAll();\n        _this.labelSelection = Selection.select(group).selectAll();\n        return _this;\n        // this.group.append(this.bboxRect); // debug (bbox)\n    }\n    Object.defineProperty(GroupedCategoryAxis.prototype, \"domain\", {\n        get: function () {\n            return this.scale.domain;\n        },\n        set: function (value) {\n            this.scale.domain = value;\n            var tickTree = ticksToTree(value);\n            this.tickTreeLayout = treeLayout(tickTree);\n            var domain = value.slice();\n            domain.push('');\n            this.tickScale.domain = domain;\n            this.resizeTickTree();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GroupedCategoryAxis.prototype, \"range\", {\n        get: function () {\n            return this.requestedRange.slice();\n        },\n        set: function (value) {\n            this.requestedRange = value.slice();\n            this.updateRange();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    GroupedCategoryAxis.prototype.updateRange = function () {\n        var _a = this, rr = _a.requestedRange, vr = _a.visibleRange, scale = _a.scale;\n        var span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n        var shift = span * vr[0];\n        var start = rr[0] - shift;\n        this.tickScale.range = scale.range = [start, start + span];\n        this.resizeTickTree();\n    };\n    GroupedCategoryAxis.prototype.resizeTickTree = function () {\n        var s = this.scale;\n        var range = s.domain.length ? [s.convert(s.domain[0]), s.convert(s.domain[s.domain.length - 1])] : s.range;\n        var layout = this.tickTreeLayout;\n        var lineHeight = this.lineHeight;\n        if (layout) {\n            layout.resize(Math.abs(range[1] - range[0]), layout.depth * lineHeight, (Math.min(range[0], range[1]) || 0) + (s.bandwidth || 0) / 2, -layout.depth * lineHeight, (range[1] - range[0]) < 0);\n        }\n    };\n    Object.defineProperty(GroupedCategoryAxis.prototype, \"lineHeight\", {\n        get: function () {\n            return this.label.fontSize * 1.5;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GroupedCategoryAxis.prototype, \"gridLength\", {\n        get: function () {\n            return this._gridLength;\n        },\n        /**\n         * The length of the grid. The grid is only visible in case of a non-zero value.\n         */\n        set: function (value) {\n            // Was visible and now invisible, or was invisible and now visible.\n            if (this._gridLength && !value || !this._gridLength && value) {\n                this.gridLineSelection = this.gridLineSelection.remove().setData([]);\n                this.labelSelection = this.labelSelection.remove().setData([]);\n            }\n            this._gridLength = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Creates/removes/updates the scene graph nodes that constitute the axis.\n     * Supposed to be called _manually_ after changing _any_ of the axis properties.\n     * This allows to bulk set axis properties before updating the nodes.\n     * The node changes made by this method are rendered on the next animation frame.\n     * We could schedule this method call automatically on the next animation frame\n     * when any of the axis properties change (the way we do when properties of scene graph's\n     * nodes change), but this will mean that we first wait for the next animation\n     * frame to make changes to the nodes of the axis, then wait for another animation\n     * frame to render those changes. It's nice to have everything update automatically,\n     * but this extra level of async indirection will not just introduce an unwanted delay,\n     * it will also make it harder to reason about the program.\n     */\n    GroupedCategoryAxis.prototype.update = function () {\n        var _this = this;\n        var _a = this, group = _a.group, scale = _a.scale, label = _a.label, tickScale = _a.tickScale, requestedRange = _a.requestedRange;\n        var rangeStart = scale.range[0];\n        var rangeEnd = scale.range[1];\n        var rangeLength = Math.abs(rangeEnd - rangeStart);\n        var bandwidth = (rangeLength / scale.domain.length) || 0;\n        var parallelLabels = label.parallel;\n        var rotation = toRadians(this.rotation);\n        var isHorizontal = Math.abs(Math.cos(rotation)) < 1e-8;\n        var labelRotation = normalizeAngle360(toRadians(this.label.rotation));\n        group.translationX = this.translation.x;\n        group.translationY = this.translation.y;\n        group.rotation = rotation;\n        var title = this.title;\n        // The Text `node` of the Caption is not used to render the title of the grouped category axis.\n        // The phantom root of the tree layout is used instead.\n        if (title) {\n            title.node.visible = false;\n        }\n        var lineHeight = this.lineHeight;\n        // Render ticks and labels.\n        var tickTreeLayout = this.tickTreeLayout;\n        var labels = scale.ticks();\n        var treeLabels = tickTreeLayout ? tickTreeLayout.nodes : [];\n        var isLabelTree = tickTreeLayout ? tickTreeLayout.depth > 1 : false;\n        var ticks = tickScale.ticks();\n        // The side of the axis line to position the labels on.\n        // -1 = left (default)\n        //  1 = right\n        var sideFlag = label.mirrored ? 1 : -1;\n        // When labels are parallel to the axis line, the `parallelFlipFlag` is used to\n        // flip the labels to avoid upside-down text, when the axis is rotated\n        // such that it is in the right hemisphere, i.e. the angle of rotation\n        // is in the [0, π] interval.\n        // The rotation angle is normalized, so that we have an easier time checking\n        // if it's in the said interval. Since the axis is always rendered vertically\n        // and then rotated, zero rotation means 12 (not 3) o-clock.\n        // -1 = flip\n        //  1 = don't flip (default)\n        var parallelFlipRotation = normalizeAngle360(rotation);\n        var parallelFlipFlag = (!labelRotation && parallelFlipRotation >= 0 && parallelFlipRotation <= Math.PI) ? -1 : 1;\n        var regularFlipRotation = normalizeAngle360(rotation - Math.PI / 2);\n        // Flip if the axis rotation angle is in the top hemisphere.\n        var regularFlipFlag = (!labelRotation && regularFlipRotation >= 0 && regularFlipRotation <= Math.PI) ? -1 : 1;\n        var updateGridLines = this.gridLineSelection.setData(this.gridLength ? ticks : []);\n        updateGridLines.exit.remove();\n        var enterGridLines = updateGridLines.enter.append(Line);\n        var gridLineSelection = updateGridLines.merge(enterGridLines);\n        var updateLabels = this.labelSelection.setData(treeLabels);\n        updateLabels.exit.remove();\n        var enterLabels = updateLabels.enter.append(Text);\n        var labelSelection = updateLabels.merge(enterLabels);\n        var labelFormatter = label.formatter;\n        var maxLeafLabelWidth = 0;\n        labelSelection\n            .each(function (node, datum, index) {\n            node.fontStyle = label.fontStyle;\n            node.fontWeight = label.fontWeight;\n            node.fontSize = label.fontSize;\n            node.fontFamily = label.fontFamily;\n            node.fill = label.color;\n            node.textBaseline = parallelFlipFlag === -1 ? 'bottom' : 'hanging';\n            // label.textBaseline = parallelLabels && !labelRotation\n            //     ? (sideFlag * parallelFlipFlag === -1 ? 'hanging' : 'bottom')\n            //     : 'middle';\n            node.textAlign = 'center';\n            node.translationX = datum.screenY - label.fontSize * 0.25;\n            node.translationY = datum.screenX;\n            if (title && index === 0) { // use the phantom root as the axis title\n                node.text = title.text;\n                node.fontSize = title.fontSize;\n                node.fontStyle = title.fontStyle;\n                node.fontWeight = title.fontWeight;\n                node.fontFamily = title.fontFamily;\n                node.textBaseline = 'hanging';\n                node.visible = labels.length > 0;\n            }\n            else {\n                node.text = labelFormatter\n                    ? labelFormatter({\n                        value: String(datum.label),\n                        index: index\n                    })\n                    : String(datum.label);\n                node.visible =\n                    datum.screenX >= requestedRange[0] &&\n                        datum.screenX <= requestedRange[1];\n            }\n            var bbox = node.computeBBox();\n            if (bbox && bbox.width > maxLeafLabelWidth) {\n                maxLeafLabelWidth = bbox.width;\n            }\n        });\n        var labelX = sideFlag * label.padding;\n        var autoRotation = parallelLabels\n            ? parallelFlipFlag * Math.PI / 2\n            : (regularFlipFlag === -1 ? Math.PI : 0);\n        var labelGrid = this.label.grid;\n        var separatorData = [];\n        labelSelection.each(function (label, datum, index) {\n            label.x = labelX;\n            label.rotationCenterX = labelX;\n            if (!datum.children.length) {\n                label.rotation = labelRotation;\n                label.textAlign = 'end';\n                label.textBaseline = 'middle';\n            }\n            else {\n                label.translationX -= maxLeafLabelWidth - lineHeight + _this.label.padding;\n                if (isHorizontal) {\n                    label.rotation = autoRotation;\n                }\n                else {\n                    label.rotation = -Math.PI / 2;\n                }\n            }\n            // Calculate positions of label separators for all nodes except the root.\n            // Each separator is placed to the top of the current label.\n            if (datum.parent && isLabelTree) {\n                var y = !datum.children.length\n                    ? datum.screenX - bandwidth / 2\n                    : datum.screenX - datum.leafCount * bandwidth / 2;\n                if (!datum.children.length) {\n                    if ((datum.number !== datum.children.length - 1) || labelGrid) {\n                        separatorData.push({\n                            y: y,\n                            x1: 0,\n                            x2: -maxLeafLabelWidth - _this.label.padding * 2,\n                            toString: function () { return String(index); }\n                        });\n                    }\n                }\n                else {\n                    var x = -maxLeafLabelWidth - _this.label.padding * 2 + datum.screenY;\n                    separatorData.push({\n                        y: y,\n                        x1: x + lineHeight,\n                        x2: x,\n                        toString: function () { return String(index); }\n                    });\n                }\n            }\n        });\n        // Calculate the position of the long separator on the far bottom of the axis.\n        var minX = 0;\n        separatorData.forEach(function (d) { return minX = Math.min(minX, d.x2); });\n        this.longestSeparatorLength = Math.abs(minX);\n        separatorData.push({\n            y: Math.max(rangeStart, rangeEnd),\n            x1: 0,\n            x2: minX,\n            toString: function () { return String(separatorData.length); }\n        });\n        var updateSeparators = this.separatorSelection.setData(separatorData);\n        updateSeparators.exit.remove();\n        var enterSeparators = updateSeparators.enter.append(Line);\n        var separatorSelection = updateSeparators.merge(enterSeparators);\n        this.separatorSelection = separatorSelection;\n        var epsilon = 0.0000001;\n        separatorSelection.each(function (line, datum, i) {\n            line.x1 = datum.x1;\n            line.x2 = datum.x2;\n            line.y1 = datum.y;\n            line.y2 = datum.y;\n            line.visible = datum.y >= requestedRange[0] - epsilon && datum.y <= requestedRange[1] + epsilon;\n            line.stroke = _this.tick.color;\n            line.fill = undefined;\n            line.strokeWidth = 1;\n        });\n        this.gridLineSelection = gridLineSelection;\n        this.labelSelection = labelSelection;\n        // Render axis lines.\n        var lineCount = tickTreeLayout ? tickTreeLayout.depth + 1 : 1;\n        var lines = [];\n        for (var i = 0; i < lineCount; i++) {\n            lines.push(i);\n        }\n        var updateAxisLines = this.axisLineSelection.setData(lines);\n        updateAxisLines.exit.remove();\n        var enterAxisLines = updateAxisLines.enter.append(Line);\n        var axisLineSelection = updateAxisLines.merge(enterAxisLines);\n        this.axisLineSelection = axisLineSelection;\n        axisLineSelection.each(function (line, _, index) {\n            var x = index > 0 ? -maxLeafLabelWidth - _this.label.padding * 2 - (index - 1) * lineHeight : 0;\n            line.x1 = x;\n            line.x2 = x;\n            line.y1 = requestedRange[0];\n            line.y2 = requestedRange[1];\n            line.strokeWidth = _this.line.width;\n            line.stroke = _this.line.color;\n            line.visible = labels.length > 0 && (index === 0 || (labelGrid && isLabelTree));\n        });\n        if (this.gridLength) {\n            var styles_1 = this.gridStyle;\n            var styleCount_1 = styles_1.length;\n            gridLineSelection\n                .each(function (line, datum, index) {\n                var y = Math.round(tickScale.convert(datum));\n                line.x1 = 0;\n                line.x2 = -sideFlag * _this.gridLength;\n                line.y1 = y;\n                line.y2 = y;\n                line.visible = y >= requestedRange[0] && y <= requestedRange[1] &&\n                    Math.abs(line.parent.translationY - rangeStart) > 1;\n                var style = styles_1[index % styleCount_1];\n                line.stroke = style.stroke;\n                line.strokeWidth = _this.tick.width;\n                line.lineDash = style.lineDash;\n                line.fill = undefined;\n            });\n        }\n        // debug (bbox)\n        // const bbox = this.computeBBox();\n        // const bboxRect = this.bboxRect;\n        // bboxRect.x = bbox.x;\n        // bboxRect.y = bbox.y;\n        // bboxRect.width = bbox.width;\n        // bboxRect.height = bbox.height;\n    };\n    GroupedCategoryAxis.prototype.computeBBox = function (options) {\n        var includeTitle = !options || !options.excludeTitle;\n        var left = Infinity;\n        var right = -Infinity;\n        var top = Infinity;\n        var bottom = -Infinity;\n        this.labelSelection.each(function (label, _, index) {\n            // The label itself is rotated, but not translated, the group that\n            // contains it is. So to capture the group transform in the label bbox\n            // calculation we combine the transform matrices of the label and the group.\n            // Depending on the timing of the `axis.computeBBox()` method call, we may\n            // not have the group's and the label's transform matrices updated yet (because\n            // the transform matrix is not recalculated whenever a node's transform attributes\n            // change, instead it's marked for recalculation on the next frame by setting\n            // the node's `dirtyTransform` flag to `true`), so we force them to update\n            // right here by calling `computeTransformMatrix`.\n            if (index > 0 || includeTitle) { // first node is the root (title)\n                label.computeTransformMatrix();\n                var matrix = Matrix.flyweight(label.matrix);\n                var labelBBox = label.computeBBox();\n                if (labelBBox) {\n                    var bbox = matrix.transformBBox(labelBBox);\n                    left = Math.min(left, bbox.x);\n                    right = Math.max(right, bbox.x + bbox.width);\n                    top = Math.min(top, bbox.y);\n                    bottom = Math.max(bottom, bbox.y + bbox.height);\n                }\n            }\n        });\n        return new BBox(left, top, Math.max(right - left, this.longestSeparatorLength), bottom - top);\n    };\n    // debug (bbox)\n    // private bboxRect = (() => {\n    //     const rect = new Rect();\n    //     rect.fill = undefined;\n    //     rect.stroke = 'red';\n    //     rect.strokeWidth = 1;\n    //     rect.strokeOpacity = 0.7;\n    //     return rect;\n    // })();\n    GroupedCategoryAxis.className = 'GroupedCategoryAxis';\n    GroupedCategoryAxis.type = 'groupedCategory';\n    return GroupedCategoryAxis;\n}(ChartAxis));\nexport { GroupedCategoryAxis };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Path } from \"./path\";\nimport { Shape } from \"./shape\";\nimport { BBox } from \"../bbox\";\nexport var RectSizing;\n(function (RectSizing) {\n    RectSizing[RectSizing[\"Content\"] = 0] = \"Content\";\n    RectSizing[RectSizing[\"Border\"] = 1] = \"Border\";\n})(RectSizing || (RectSizing = {}));\nvar Rect = /** @class */ (function (_super) {\n    __extends(Rect, _super);\n    function Rect() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._x = 0;\n        _this._y = 0;\n        _this._width = 10;\n        _this._height = 10;\n        _this._radius = 0;\n        /**\n         * If `true`, the rect is aligned to the pixel grid for crisp looking lines.\n         * Animated rects may not look nice with this option enabled, for example\n         * when a rect is translated by a sub-pixel value on each frame.\n         */\n        _this._crisp = false;\n        _this.effectiveStrokeWidth = Shape.defaultStyles.strokeWidth;\n        /**\n         * Similar to https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing\n         */\n        _this._sizing = RectSizing.Content;\n        return _this;\n    }\n    Object.defineProperty(Rect.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            if (this._x !== value) {\n                this._x = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            if (this._y !== value) {\n                this._y = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        set: function (value) {\n            if (this._width !== value) {\n                this._width = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        set: function (value) {\n            if (this._height !== value) {\n                this._height = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"radius\", {\n        get: function () {\n            return this._radius;\n        },\n        set: function (value) {\n            if (this._radius !== value) {\n                this._radius = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"crisp\", {\n        get: function () {\n            return this._crisp;\n        },\n        set: function (value) {\n            if (this._crisp !== value) {\n                this._crisp = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"strokeWidth\", {\n        get: function () {\n            return this._strokeWidth;\n        },\n        set: function (value) {\n            if (this._strokeWidth !== value) {\n                this._strokeWidth = value;\n                // Normally, when the `lineWidth` changes, we only need to repaint the rect\n                // without updating the path. If the `isCrisp` is set to `true` however,\n                // we need to update the path to make sure the new stroke aligns to\n                // the pixel grid. This is the reason we override the `lineWidth` setter\n                // and getter here.\n                if (this.crisp || this.sizing === RectSizing.Border) {\n                    this.dirtyPath = true;\n                }\n                else {\n                    this.effectiveStrokeWidth = value;\n                    this.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"sizing\", {\n        get: function () {\n            return this._sizing;\n        },\n        set: function (value) {\n            if (this._sizing !== value) {\n                this._sizing = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Rect.prototype.updatePath = function () {\n        var borderSizing = this.sizing === RectSizing.Border;\n        var path = this.path;\n        path.clear();\n        var x = this.x;\n        var y = this.y;\n        var width = this.width;\n        var height = this.height;\n        var strokeWidth;\n        if (borderSizing) {\n            var halfWidth = width / 2;\n            var halfHeight = height / 2;\n            strokeWidth = Math.min(this.strokeWidth, halfWidth, halfHeight);\n            x = Math.min(x + strokeWidth / 2, x + halfWidth);\n            y = Math.min(y + strokeWidth / 2, y + halfHeight);\n            width = Math.max(width - strokeWidth, 0);\n            height = Math.max(height - strokeWidth, 0);\n        }\n        else {\n            strokeWidth = this.strokeWidth;\n        }\n        this.effectiveStrokeWidth = strokeWidth;\n        if (this.crisp && !borderSizing) {\n            var _a = this, a = _a.alignment, al = _a.align;\n            path.rect(al(a, x), al(a, y), al(a, x, width), al(a, y, height));\n        }\n        else {\n            path.rect(x, y, width, height);\n        }\n    };\n    Rect.prototype.computeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        return new BBox(x, y, width, height);\n    };\n    Rect.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        var bbox = this.computeBBox();\n        return bbox.containsPoint(point.x, point.y);\n    };\n    Rect.prototype.isPointInStroke = function (x, y) {\n        return false;\n    };\n    Rect.prototype.fillStroke = function (ctx) {\n        var pixelRatio = this.scene.canvas.pixelRatio || 1;\n        if (this.fill) {\n            ctx.fillStyle = this.fill;\n            ctx.globalAlpha = this.opacity * this.fillOpacity;\n            // The canvas context scaling (depends on the device's pixel ratio)\n            // has no effect on shadows, so we have to account for the pixel ratio\n            // manually here.\n            var fillShadow = this.fillShadow;\n            if (fillShadow && fillShadow.enabled) {\n                ctx.shadowColor = fillShadow.color;\n                ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = fillShadow.blur * pixelRatio;\n            }\n            ctx.fill();\n        }\n        ctx.shadowColor = 'rgba(0, 0, 0, 0)';\n        if (this.stroke && this.effectiveStrokeWidth) {\n            ctx.strokeStyle = this.stroke;\n            ctx.globalAlpha = this.opacity * this.strokeOpacity;\n            ctx.lineWidth = this.effectiveStrokeWidth;\n            if (this.lineDash) {\n                ctx.setLineDash(this.lineDash);\n            }\n            if (this.lineDashOffset) {\n                ctx.lineDashOffset = this.lineDashOffset;\n            }\n            if (this.lineCap) {\n                ctx.lineCap = this.lineCap;\n            }\n            if (this.lineJoin) {\n                ctx.lineJoin = this.lineJoin;\n            }\n            var strokeShadow = this.strokeShadow;\n            if (strokeShadow && strokeShadow.enabled) {\n                ctx.shadowColor = strokeShadow.color;\n                ctx.shadowOffsetX = strokeShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = strokeShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = strokeShadow.blur * pixelRatio;\n            }\n            ctx.stroke();\n        }\n    };\n    Rect.className = 'Rect';\n    return Rect;\n}(Path));\nexport { Rect };\n","import { HdpiCanvas } from \"../canvas/hdpiCanvas\";\nimport { createId } from \"../util/id\";\nvar Scene = /** @class */ (function () {\n    // As a rule of thumb, constructors with no parameters are preferred.\n    // A few exceptions are:\n    // - we absolutely need to know something at construction time (document)\n    // - knowing something at construction time meaningfully improves performance (width, height)\n    function Scene(document, width, height) {\n        var _this = this;\n        if (document === void 0) { document = window.document; }\n        this.id = createId(this);\n        this._dirty = false;\n        this.animationFrameId = 0;\n        this._root = null;\n        this.debug = {\n            renderFrameIndex: false,\n            renderBoundingBoxes: false\n        };\n        this._frameIndex = 0;\n        this.render = function () {\n            var _a;\n            var _b = _this, ctx = _b.ctx, root = _b.root, pendingSize = _b.pendingSize;\n            _this.animationFrameId = 0;\n            if (pendingSize) {\n                (_a = _this.canvas).resize.apply(_a, pendingSize);\n                _this.pendingSize = undefined;\n            }\n            if (root && !root.visible) {\n                _this.dirty = false;\n                return;\n            }\n            // start with a blank canvas, clear previous drawing\n            ctx.clearRect(0, 0, _this.width, _this.height);\n            if (root) {\n                ctx.save();\n                if (root.visible) {\n                    root.render(ctx);\n                }\n                ctx.restore();\n            }\n            _this._frameIndex++;\n            if (_this.debug.renderFrameIndex) {\n                ctx.fillStyle = 'white';\n                ctx.fillRect(0, 0, 40, 15);\n                ctx.fillStyle = 'black';\n                ctx.fillText(_this.frameIndex.toString(), 2, 10);\n            }\n            _this.dirty = false;\n        };\n        this.canvas = new HdpiCanvas(document, width, height);\n        this.ctx = this.canvas.context;\n    }\n    Object.defineProperty(Scene.prototype, \"container\", {\n        get: function () {\n            return this.canvas.container;\n        },\n        set: function (value) {\n            this.canvas.container = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.prototype.download = function (fileName) {\n        this.canvas.download(fileName);\n    };\n    Scene.prototype.getDataURL = function (type) {\n        return this.canvas.getDataURL(type);\n    };\n    Object.defineProperty(Scene.prototype, \"width\", {\n        get: function () {\n            return this.pendingSize ? this.pendingSize[0] : this.canvas.width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Scene.prototype, \"height\", {\n        get: function () {\n            return this.pendingSize ? this.pendingSize[1] : this.canvas.height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.prototype.resize = function (width, height) {\n        width = Math.round(width);\n        height = Math.round(height);\n        if (width === this.width && height === this.height) {\n            return;\n        }\n        this.pendingSize = [width, height];\n        this.dirty = true;\n    };\n    Object.defineProperty(Scene.prototype, \"dirty\", {\n        get: function () {\n            return this._dirty;\n        },\n        set: function (dirty) {\n            if (dirty && !this._dirty) {\n                this.animationFrameId = requestAnimationFrame(this.render);\n            }\n            this._dirty = dirty;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.prototype.cancelRender = function () {\n        if (this.animationFrameId) {\n            cancelAnimationFrame(this.animationFrameId);\n            this.animationFrameId = 0;\n            this._dirty = false;\n        }\n    };\n    Object.defineProperty(Scene.prototype, \"root\", {\n        get: function () {\n            return this._root;\n        },\n        set: function (node) {\n            if (node === this._root) {\n                return;\n            }\n            if (this._root) {\n                this._root._setScene(undefined);\n            }\n            this._root = node;\n            if (node) {\n                // If `node` is the root node of another scene ...\n                if (node.parent === null && node.scene && node.scene !== this) {\n                    node.scene.root = null;\n                }\n                node._setScene(this);\n            }\n            this.dirty = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.prototype.appendPath = function (path) {\n        var ctx = this.ctx;\n        var commands = path.commands;\n        var params = path.params;\n        var n = commands.length;\n        var j = 0;\n        ctx.beginPath();\n        for (var i = 0; i < n; i++) {\n            switch (commands[i]) {\n                case 'M':\n                    ctx.moveTo(params[j++], params[j++]);\n                    break;\n                case 'L':\n                    ctx.lineTo(params[j++], params[j++]);\n                    break;\n                case 'C':\n                    ctx.bezierCurveTo(params[j++], params[j++], params[j++], params[j++], params[j++], params[j++]);\n                    break;\n                case 'Z':\n                    ctx.closePath();\n                    break;\n            }\n        }\n    };\n    Object.defineProperty(Scene.prototype, \"frameIndex\", {\n        get: function () {\n            return this._frameIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.className = 'Scene';\n    return Scene;\n}());\nexport { Scene };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Path } from \"../../scene/shape/path\";\nimport { BBox } from \"../../scene/bbox\";\nvar Marker = /** @class */ (function (_super) {\n    __extends(Marker, _super);\n    function Marker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._x = 0;\n        _this._y = 0;\n        _this._size = 12;\n        return _this;\n    }\n    Object.defineProperty(Marker.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            if (this._x !== value) {\n                this._x = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Marker.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            if (this._y !== value) {\n                this._y = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Marker.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        set: function (value) {\n            if (this._size !== value) {\n                this._size = Math.abs(value);\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Marker.prototype.computeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, size = _a.size;\n        var half = size / 2;\n        return new BBox(x - half, y - half, size, size);\n    };\n    return Marker;\n}(Path));\nexport { Marker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Square = /** @class */ (function (_super) {\n    __extends(Square, _super);\n    function Square() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Square.prototype.updatePath = function () {\n        var _a = this, path = _a.path, x = _a.x, y = _a.y;\n        var hs = this.size / 2;\n        var _b = this, a = _b.alignment, al = _b.align;\n        path.clear();\n        path.moveTo(al(a, x - hs), al(a, y - hs));\n        path.lineTo(al(a, x + hs), al(a, y - hs));\n        path.lineTo(al(a, x + hs), al(a, y + hs));\n        path.lineTo(al(a, x - hs), al(a, y + hs));\n        path.closePath();\n    };\n    Square.className = 'Square';\n    return Square;\n}(Marker));\nexport { Square };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Group } from \"../scene/group\";\nimport { Text } from \"../scene/shape/text\";\nimport { Square } from \"./marker/square\";\nimport { HdpiCanvas } from \"../canvas/hdpiCanvas\";\nvar MarkerLabel = /** @class */ (function (_super) {\n    __extends(MarkerLabel, _super);\n    function MarkerLabel() {\n        var _this = _super.call(this) || this;\n        _this.label = new Text();\n        _this._marker = new Square();\n        _this._markerSize = 15;\n        _this._spacing = 8;\n        var label = _this.label;\n        label.textBaseline = 'middle';\n        label.fontSize = 12;\n        label.fontFamily = 'Verdana, sans-serif';\n        label.fill = 'black';\n        // For better looking vertical alignment of labels to markers.\n        label.y = HdpiCanvas.has.textMetrics ? 1 : 0;\n        _this.append([_this.marker, label]);\n        _this.update();\n        return _this;\n    }\n    Object.defineProperty(MarkerLabel.prototype, \"text\", {\n        get: function () {\n            return this.label.text;\n        },\n        set: function (value) {\n            this.label.text = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"fontStyle\", {\n        get: function () {\n            return this.label.fontStyle;\n        },\n        set: function (value) {\n            this.label.fontStyle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"fontWeight\", {\n        get: function () {\n            return this.label.fontWeight;\n        },\n        set: function (value) {\n            this.label.fontWeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"fontSize\", {\n        get: function () {\n            return this.label.fontSize;\n        },\n        set: function (value) {\n            this.label.fontSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"fontFamily\", {\n        get: function () {\n            return this.label.fontFamily;\n        },\n        set: function (value) {\n            this.label.fontFamily = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"color\", {\n        get: function () {\n            return this.label.fill;\n        },\n        set: function (value) {\n            this.label.fill = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"marker\", {\n        get: function () {\n            return this._marker;\n        },\n        set: function (value) {\n            if (this._marker !== value) {\n                this.removeChild(this._marker);\n                this._marker = value;\n                this.appendChild(value);\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerSize\", {\n        get: function () {\n            return this._markerSize;\n        },\n        set: function (value) {\n            if (this._markerSize !== value) {\n                this._markerSize = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerFill\", {\n        get: function () {\n            return this.marker.fill;\n        },\n        set: function (value) {\n            this.marker.fill = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerStroke\", {\n        get: function () {\n            return this.marker.stroke;\n        },\n        set: function (value) {\n            this.marker.stroke = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerStrokeWidth\", {\n        get: function () {\n            return this.marker.strokeWidth;\n        },\n        set: function (value) {\n            this.marker.strokeWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerFillOpacity\", {\n        get: function () {\n            return this.marker.fillOpacity;\n        },\n        set: function (value) {\n            this.marker.fillOpacity = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerStrokeOpacity\", {\n        get: function () {\n            return this.marker.strokeOpacity;\n        },\n        set: function (value) {\n            this.marker.strokeOpacity = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"opacity\", {\n        get: function () {\n            return this.marker.opacity;\n        },\n        set: function (value) {\n            this.marker.opacity = value;\n            this.label.opacity = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"spacing\", {\n        get: function () {\n            return this._spacing;\n        },\n        set: function (value) {\n            if (this._spacing !== value) {\n                this._spacing = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MarkerLabel.prototype.update = function () {\n        var marker = this.marker;\n        var markerSize = this.markerSize;\n        marker.size = markerSize;\n        this.label.x = markerSize / 2 + this.spacing;\n    };\n    MarkerLabel.className = 'MarkerLabel';\n    return MarkerLabel;\n}(Group));\nexport { MarkerLabel };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Circle.prototype.updatePath = function () {\n        var _a = this, x = _a.x, y = _a.y, path = _a.path, size = _a.size;\n        var r = size / 2;\n        path.clear();\n        path.cubicArc(x, y, r, r, 0, 0, Math.PI * 2, 0);\n        path.closePath();\n    };\n    Circle.className = 'Circle';\n    return Circle;\n}(Marker));\nexport { Circle };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Cross = /** @class */ (function (_super) {\n    __extends(Cross, _super);\n    function Cross() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Cross.prototype.updatePath = function () {\n        var _a = this, x = _a.x, y = _a.y;\n        var _b = this, path = _b.path, size = _b.size;\n        var s = size / 4.2;\n        path.clear();\n        path.moveTo(x -= s, y);\n        path.lineTo(x -= s, y -= s);\n        path.lineTo(x += s, y -= s);\n        path.lineTo(x += s, y += s);\n        path.lineTo(x += s, y -= s);\n        path.lineTo(x += s, y += s);\n        path.lineTo(x -= s, y += s);\n        path.lineTo(x += s, y += s);\n        path.lineTo(x -= s, y += s);\n        path.lineTo(x -= s, y -= s);\n        path.lineTo(x -= s, y += s);\n        path.lineTo(x -= s, y -= s);\n        path.closePath();\n    };\n    Cross.className = 'Cross';\n    return Cross;\n}(Marker));\nexport { Cross };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Diamond = /** @class */ (function (_super) {\n    __extends(Diamond, _super);\n    function Diamond() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Diamond.prototype.updatePath = function () {\n        var _a = this, x = _a.x, y = _a.y;\n        var _b = this, path = _b.path, size = _b.size;\n        var s = size / 2;\n        path.clear();\n        path.moveTo(x, y -= s);\n        path.lineTo(x += s, y += s);\n        path.lineTo(x -= s, y += s);\n        path.lineTo(x -= s, y -= s);\n        path.lineTo(x += s, y -= s);\n        path.closePath();\n    };\n    Diamond.className = 'Diamond';\n    return Diamond;\n}(Marker));\nexport { Diamond };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Heart = /** @class */ (function (_super) {\n    __extends(Heart, _super);\n    function Heart() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Heart.prototype.rad = function (degree) {\n        return degree / 180 * Math.PI;\n    };\n    Heart.prototype.updatePath = function () {\n        var _a = this, x = _a.x, path = _a.path, size = _a.size, rad = _a.rad;\n        var r = size / 4;\n        var y = this.y + r / 2;\n        path.clear();\n        path.cubicArc(x - r, y - r, r, r, 0, rad(130), rad(330), 0);\n        path.cubicArc(x + r, y - r, r, r, 0, rad(220), rad(50), 0);\n        path.lineTo(x, y + r);\n        path.closePath();\n    };\n    Heart.className = 'Heart';\n    return Heart;\n}(Marker));\nexport { Heart };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Plus = /** @class */ (function (_super) {\n    __extends(Plus, _super);\n    function Plus() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Plus.prototype.updatePath = function () {\n        var _a = this, x = _a.x, y = _a.y;\n        var _b = this, path = _b.path, size = _b.size;\n        var s = size / 3;\n        var hs = s / 2;\n        path.clear();\n        path.moveTo(x -= hs, y -= hs);\n        path.lineTo(x, y -= s);\n        path.lineTo(x += s, y);\n        path.lineTo(x, y += s);\n        path.lineTo(x += s, y);\n        path.lineTo(x, y += s);\n        path.lineTo(x -= s, y);\n        path.lineTo(x, y += s);\n        path.lineTo(x -= s, y);\n        path.lineTo(x, y -= s);\n        path.lineTo(x -= s, y);\n        path.lineTo(x, y -= s);\n        path.closePath();\n    };\n    Plus.className = 'Plus';\n    return Plus;\n}(Marker));\nexport { Plus };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Triangle = /** @class */ (function (_super) {\n    __extends(Triangle, _super);\n    function Triangle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Triangle.prototype.updatePath = function () {\n        var _a = this, x = _a.x, y = _a.y;\n        var _b = this, path = _b.path, size = _b.size;\n        var s = size * 1.1;\n        path.clear();\n        path.moveTo(x, y -= s * 0.48);\n        path.lineTo(x += s * 0.5, y += s * 0.87);\n        path.lineTo(x -= s, y);\n        path.closePath();\n    };\n    Triangle.className = 'Triangle';\n    return Triangle;\n}(Marker));\nexport { Triangle };\n","import { Square } from \"./square\";\nimport { Circle } from \"./circle\";\nimport { Cross } from \"./cross\";\nimport { Diamond } from \"./diamond\";\nimport { Heart } from \"./heart\";\nimport { Plus } from \"./plus\";\nimport { Triangle } from \"./triangle\";\n// This function is in its own file because putting it into SeriesMarker makes the Legend\n// suddenly aware of the series (it's an agnostic component), and putting it into Marker\n// introduces circular dependencies.\nexport function getMarker(shape) {\n    if (shape === void 0) { shape = Square; }\n    if (typeof shape === 'string') {\n        switch (shape) {\n            case 'circle':\n                return Circle;\n            case 'cross':\n                return Cross;\n            case 'diamond':\n                return Diamond;\n            case 'heart':\n                return Heart;\n            case 'plus':\n                return Plus;\n            case 'triangle':\n                return Triangle;\n            default:\n                return Square;\n        }\n    }\n    if (typeof shape === 'function') {\n        return shape;\n    }\n    return Square;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from \"../scene/group\";\nimport { Selection } from \"../scene/selection\";\nimport { MarkerLabel } from \"./markerLabel\";\nimport { reactive, Observable } from \"../util/observable\";\nimport { getMarker } from \"./marker/util\";\nimport { createId } from \"../util/id\";\nexport var LegendOrientation;\n(function (LegendOrientation) {\n    LegendOrientation[LegendOrientation[\"Vertical\"] = 0] = \"Vertical\";\n    LegendOrientation[LegendOrientation[\"Horizontal\"] = 1] = \"Horizontal\";\n})(LegendOrientation || (LegendOrientation = {}));\nexport var LegendPosition;\n(function (LegendPosition) {\n    LegendPosition[\"Top\"] = \"top\";\n    LegendPosition[\"Right\"] = \"right\";\n    LegendPosition[\"Bottom\"] = \"bottom\";\n    LegendPosition[\"Left\"] = \"left\";\n})(LegendPosition || (LegendPosition = {}));\nvar Legend = /** @class */ (function (_super) {\n    __extends(Legend, _super);\n    function Legend() {\n        var _this = _super.call(this) || this;\n        _this.id = createId(_this);\n        _this.group = new Group();\n        _this.itemSelection = Selection.select(_this.group).selectAll();\n        _this.oldSize = [0, 0];\n        _this.data = [];\n        _this.enabled = true;\n        _this.orientation = LegendOrientation.Vertical;\n        _this.position = LegendPosition.Right;\n        /**\n         * Spacing between the legend and the edge of the chart's element.\n         */\n        _this.spacing = 20;\n        /**\n         * The legend uses grid layout for its items, occupying as few columns as possible when positioned to left or right,\n         * and as few rows as possible when positioned to top or bottom. This config specifies the amount of horizontal\n         * spacing between legend items.\n         */\n        _this.layoutHorizontalSpacing = 16;\n        /**\n         * The legend uses grid layout for its items, occupying as few columns as possible when positioned to left or right,\n         * and as few rows as possible when positioned to top or bottom. This config specifies the amount of vertical\n         * spacing between legend items.\n         */\n        _this.layoutVerticalSpacing = 8;\n        /**\n         * Spacing between the marker and the label within each legend item.\n         */\n        _this.itemSpacing = 8;\n        _this.markerSize = 15;\n        _this.strokeWidth = 1;\n        _this.color = 'black';\n        _this.fontSize = 12;\n        _this.fontFamily = 'Verdana, sans-serif';\n        _this._size = [0, 0];\n        _this.addPropertyListener('data', _this.onDataChange);\n        _this.addPropertyListener('enabled', _this.onEnabledChange);\n        _this.addPropertyListener('position', _this.onPositionChange);\n        _this.addPropertyListener('markerShape', _this.onMarkerShapeChange);\n        _this.addEventListener('change', _this.update);\n        return _this;\n    }\n    Object.defineProperty(Legend.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Legend.prototype.onDataChange = function (event) {\n        this.group.visible = event.value.length > 0 && this.enabled;\n    };\n    Legend.prototype.onEnabledChange = function (event) {\n        this.group.visible = event.value && this.data.length > 0;\n    };\n    Legend.prototype.onPositionChange = function (event) {\n        switch (event.value) {\n            case 'right':\n            case 'left':\n                this.orientation = LegendOrientation.Vertical;\n                break;\n            case 'bottom':\n            case 'top':\n                this.orientation = LegendOrientation.Horizontal;\n                break;\n        }\n    };\n    Legend.prototype.onMarkerShapeChange = function () {\n        this.itemSelection = this.itemSelection.setData([]);\n        this.itemSelection.exit.remove();\n    };\n    /**\n     * The method is given the desired size of the legend, which only serves as a hint.\n     * The vertically oriented legend will take as much horizontal space as needed, but will\n     * respect the height constraints, and the horizontal legend will take as much vertical\n     * space as needed in an attempt not to exceed the given width.\n     * After the layout is done, the {@link size} will contain the actual size of the legend.\n     * If the actual size is not the same as the previous actual size, the legend will fire\n     * the 'layoutChange' event to communicate that another layout is needed, and the above\n     * process should be repeated.\n     * @param width\n     * @param height\n     */\n    Legend.prototype.performLayout = function (width, height) {\n        var _this = this;\n        var _a = this, markerShape = _a.markerShape, layoutHorizontalSpacing = _a.layoutHorizontalSpacing, layoutVerticalSpacing = _a.layoutVerticalSpacing;\n        var updateSelection = this.itemSelection.setData(this.data, function (_, datum) {\n            var MarkerShape = getMarker(markerShape || datum.marker.shape);\n            return datum.id + '-' + datum.itemId + '-' + MarkerShape.name;\n        });\n        updateSelection.exit.remove();\n        var enterSelection = updateSelection.enter.append(MarkerLabel).each(function (node, datum) {\n            var MarkerShape = getMarker(markerShape || datum.marker.shape);\n            node.marker = new MarkerShape();\n        });\n        var itemSelection = this.itemSelection = updateSelection.merge(enterSelection);\n        var itemCount = itemSelection.size;\n        // Update properties that affect the size of the legend items and measure them.\n        var bboxes = [];\n        itemSelection.each(function (markerLabel, datum) {\n            // TODO: measure only when one of these properties or data change (in a separate routine)\n            markerLabel.markerSize = _this.markerSize;\n            markerLabel.fontStyle = _this.fontStyle;\n            markerLabel.fontWeight = _this.fontWeight;\n            markerLabel.fontSize = _this.fontSize;\n            markerLabel.fontFamily = _this.fontFamily;\n            markerLabel.text = datum.label.text;\n            markerLabel.spacing = _this.itemSpacing;\n            bboxes.push(markerLabel.computeBBox());\n        });\n        var itemHeight = bboxes.length && bboxes[0].height;\n        var rowCount = 0;\n        var columnWidth = 0;\n        var paddedItemsWidth = 0;\n        var paddedItemsHeight = 0;\n        switch (this.orientation) {\n            case LegendOrientation.Horizontal:\n                if (!(isFinite(width) && width > 0)) {\n                    return false;\n                }\n                rowCount = 0;\n                var columnCount = 0;\n                // Split legend items into columns until the width is suitable.\n                do {\n                    var itemsWidth = 0;\n                    columnCount = 0;\n                    columnWidth = 0;\n                    rowCount++;\n                    var i = 0;\n                    while (i < itemCount) {\n                        var bbox = bboxes[i];\n                        if (bbox.width > columnWidth) {\n                            columnWidth = bbox.width;\n                        }\n                        i++;\n                        if (i % rowCount === 0) {\n                            itemsWidth += columnWidth;\n                            columnWidth = 0;\n                            columnCount++;\n                        }\n                    }\n                    if (i % rowCount !== 0) {\n                        itemsWidth += columnWidth;\n                        columnCount++;\n                    }\n                    paddedItemsWidth = itemsWidth + (columnCount - 1) * layoutHorizontalSpacing;\n                } while (paddedItemsWidth > width && columnCount > 1);\n                paddedItemsHeight = itemHeight * rowCount + (rowCount - 1) * layoutVerticalSpacing;\n                break;\n            case LegendOrientation.Vertical:\n                if (!(isFinite(height) && height > 0)) {\n                    return false;\n                }\n                rowCount = itemCount * 2;\n                // Split legend items into columns until the height is suitable.\n                do {\n                    rowCount = (rowCount >> 1) + (rowCount % 2);\n                    columnWidth = 0;\n                    var itemsWidth = 0;\n                    var itemsHeight = 0;\n                    var columnCount_1 = 0;\n                    var i = 0;\n                    while (i < itemCount) {\n                        var bbox = bboxes[i];\n                        if (!columnCount_1) {\n                            itemsHeight += bbox.height;\n                        }\n                        if (bbox.width > columnWidth) {\n                            columnWidth = bbox.width;\n                        }\n                        i++;\n                        if (i % rowCount === 0) {\n                            itemsWidth += columnWidth;\n                            columnWidth = 0;\n                            columnCount_1++;\n                        }\n                    }\n                    if (i % rowCount !== 0) {\n                        itemsWidth += columnWidth;\n                        columnCount_1++;\n                    }\n                    paddedItemsWidth = itemsWidth + (columnCount_1 - 1) * layoutHorizontalSpacing;\n                    paddedItemsHeight = itemsHeight + (rowCount - 1) * layoutVerticalSpacing;\n                } while (paddedItemsHeight > height && rowCount > 1);\n                break;\n        }\n        // Top-left corner of the first legend item.\n        var startX = (width - paddedItemsWidth) / 2;\n        var startY = (height - paddedItemsHeight) / 2;\n        var x = 0;\n        var y = 0;\n        columnWidth = 0;\n        // Position legend items using the layout computed above.\n        itemSelection.each(function (markerLabel, datum, i) {\n            // Round off for pixel grid alignment to work properly.\n            markerLabel.translationX = Math.floor(startX + x);\n            markerLabel.translationY = Math.floor(startY + y);\n            var bbox = bboxes[i];\n            if (bbox.width > columnWidth) {\n                columnWidth = bbox.width;\n            }\n            if ((i + 1) % rowCount === 0) {\n                x += columnWidth + layoutHorizontalSpacing;\n                y = 0;\n                columnWidth = 0;\n            }\n            else {\n                y += bbox.height + layoutVerticalSpacing;\n            }\n        });\n        // Update legend item properties that don't affect the layout.\n        this.update();\n        var size = this._size;\n        var oldSize = this.oldSize;\n        size[0] = paddedItemsWidth;\n        size[1] = paddedItemsHeight;\n        if (size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n            oldSize[0] = size[0];\n            oldSize[1] = size[1];\n        }\n    };\n    Legend.prototype.update = function () {\n        var _this = this;\n        this.itemSelection.each(function (markerLabel, datum) {\n            var marker = datum.marker;\n            markerLabel.markerFill = marker.fill;\n            markerLabel.markerStroke = marker.stroke;\n            markerLabel.markerStrokeWidth = _this.strokeWidth;\n            markerLabel.markerFillOpacity = marker.fillOpacity;\n            markerLabel.markerStrokeOpacity = marker.strokeOpacity;\n            markerLabel.opacity = datum.enabled ? 1 : 0.5;\n            markerLabel.color = _this.color;\n        });\n    };\n    Legend.prototype.getDatumForPoint = function (x, y) {\n        var node = this.group.pickNode(x, y);\n        if (node && node.parent) {\n            return node.parent.datum;\n        }\n    };\n    Legend.className = 'Legend';\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"data\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"enabled\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"orientation\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"position\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"spacing\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"layoutHorizontalSpacing\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"layoutVerticalSpacing\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"itemSpacing\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"markerShape\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"markerSize\", void 0);\n    __decorate([\n        reactive('change')\n    ], Legend.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        reactive('change')\n    ], Legend.prototype, \"color\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"fontStyle\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"fontWeight\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"fontSize\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"fontFamily\", void 0);\n    return Legend;\n}(Observable));\nexport { Legend };\n","var SizeMonitor = /** @class */ (function () {\n    function SizeMonitor() {\n    }\n    SizeMonitor.init = function () {\n        var _this = this;\n        var NativeResizeObserver = window.ResizeObserver;\n        if (NativeResizeObserver) {\n            this.resizeObserver = new NativeResizeObserver(function (entries) {\n                for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                    var entry = entries_1[_i];\n                    var _a = entry.contentRect, width = _a.width, height = _a.height;\n                    _this.checkSize(_this.elements.get(entry.target), entry.target, width, height);\n                }\n            });\n        }\n        else { // polyfill (more reliable even in browsers that support ResizeObserver)\n            var step = function () {\n                _this.elements.forEach(function (entry, element) {\n                    var width = element.clientWidth ? element.clientWidth : 0;\n                    var height = element.clientHeight ? element.clientHeight : 0;\n                    _this.checkSize(entry, element, width, height);\n                });\n            };\n            window.setInterval(step, 100);\n        }\n        this.ready = true;\n    };\n    SizeMonitor.checkSize = function (entry, element, width, height) {\n        if (entry) {\n            if (!entry.size || width !== entry.size.width || height !== entry.size.height) {\n                entry.size = { width: width, height: height };\n                entry.cb(entry.size, element);\n            }\n        }\n    };\n    // Only a single callback is supported.\n    SizeMonitor.observe = function (element, cb) {\n        if (!this.ready) {\n            this.init();\n        }\n        this.unobserve(element);\n        if (this.resizeObserver) {\n            this.resizeObserver.observe(element);\n        }\n        this.elements.set(element, { cb: cb });\n    };\n    SizeMonitor.unobserve = function (element) {\n        if (this.resizeObserver) {\n            this.resizeObserver.unobserve(element);\n        }\n        this.elements.delete(element);\n    };\n    SizeMonitor.elements = new Map();\n    SizeMonitor.requestAnimationFrameId = 0;\n    SizeMonitor.ready = false;\n    return SizeMonitor;\n}());\nexport { SizeMonitor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from \"../../scene/group\";\nimport { Observable, reactive } from \"../../util/observable\";\nimport { ChartAxisDirection } from \"../chartAxis\";\nimport { createId } from \"../../util/id\";\nvar Series = /** @class */ (function (_super) {\n    __extends(Series, _super);\n    function Series() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.id = createId(_this);\n        /**\n         * The group node that contains all the nodes used to render this series.\n         */\n        _this.group = new Group();\n        _this.directions = [ChartAxisDirection.X, ChartAxisDirection.Y];\n        _this.tooltipEnabled = true;\n        _this.data = undefined;\n        _this.visible = true;\n        _this.showInLegend = true;\n        _this.scheduleLayout = function () {\n            _this.fireEvent({ type: 'layoutChange' });\n        };\n        _this.scheduleData = function () {\n            _this.fireEvent({ type: 'dataChange' });\n        };\n        return _this;\n    }\n    Object.defineProperty(Series.prototype, \"type\", {\n        get: function () {\n            return this.constructor.type || '';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Returns the actual keys used (to fetch the values from `data` items) for the given direction.\n     */\n    Series.prototype.getKeys = function (direction) {\n        var _this = this;\n        var directionKeys = this.directionKeys;\n        var keys = directionKeys && directionKeys[direction];\n        var values = [];\n        if (keys) {\n            keys.forEach(function (key) {\n                var value = _this[key];\n                if (value) {\n                    if (Array.isArray(value)) {\n                        values.push.apply(values, value);\n                    }\n                    else {\n                        values.push(value);\n                    }\n                }\n            });\n        }\n        return values;\n    };\n    // Returns node data associated with the rendered portion of the series' data.\n    Series.prototype.getNodeData = function () {\n        return [];\n    };\n    Series.prototype.fireNodeClickEvent = function (datum) { };\n    Series.prototype.toggleSeriesItem = function (itemId, enabled) {\n        this.visible = enabled;\n    };\n    // Each series is expected to have its own logic to efficiently update its nodes\n    // on hightlight changes.\n    Series.prototype.onHighlightChange = function () { };\n    Series.prototype.fixNumericExtent = function (extent, type) {\n        if (!extent) {\n            // if (type) {\n            //     console.warn(`The ${type}-domain could not be found (no valid values), using the default of [0, 1].`);\n            // }\n            return [0, 1];\n        }\n        var min = extent[0], max = extent[1];\n        if (min === max) {\n            min -= 1;\n            max += 1;\n            // if (type) {\n            //     console.warn(`The ${type}-domain has zero length and has been automatically expanded`\n            //         + ` by 1 in each direction (from the single valid ${type}-value: ${min}).`);\n            // }\n        }\n        if (!isFinite(min) || !isFinite(max)) {\n            min = 0;\n            max = 1;\n            // if (type) {\n            //     console.warn(`The ${type}-domain has infinite length, using the default of [0, 1].`);\n            // }\n        }\n        return [min, max];\n    };\n    __decorate([\n        reactive('dataChange')\n    ], Series.prototype, \"data\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], Series.prototype, \"visible\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Series.prototype, \"showInLegend\", void 0);\n    return Series;\n}(Observable));\nexport { Series };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Observable, reactive } from \"../../util/observable\";\nimport { Circle } from \"../marker/circle\";\nvar SeriesMarker = /** @class */ (function (_super) {\n    __extends(SeriesMarker, _super);\n    function SeriesMarker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.enabled = true;\n        /**\n         * One of the predefined marker names, or a marker constructor function (for user-defined markers).\n         * A series will create one marker instance per data point.\n         */\n        _this.shape = Circle;\n        _this.size = 8;\n        /**\n         * In case a series has the `sizeKey` set, the `sizeKey` values along with the `minSize/size` configs\n         * will be used to determine the size of the marker. All values will be mapped to a marker size\n         * within the `[minSize, size]` range, where the largest values will correspond to the `size`\n         * and the lowest to the `minSize`.\n         */\n        _this.minSize = 8;\n        _this.strokeWidth = 1;\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"enabled\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"shape\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"size\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"minSize\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"fill\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"stroke\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"strokeWidth\", void 0);\n    return SeriesMarker;\n}(Observable));\nexport { SeriesMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from \"../series\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { SeriesMarker } from \"../seriesMarker\";\nvar CartesianSeries = /** @class */ (function (_super) {\n    __extends(CartesianSeries, _super);\n    function CartesianSeries() {\n        var _a;\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.directionKeys = (_a = {},\n            _a[ChartAxisDirection.X] = ['xKey'],\n            _a[ChartAxisDirection.Y] = ['yKey'],\n            _a);\n        return _this;\n    }\n    return CartesianSeries;\n}(Series));\nexport { CartesianSeries };\nvar CartesianSeriesMarker = /** @class */ (function (_super) {\n    __extends(CartesianSeriesMarker, _super);\n    function CartesianSeriesMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return CartesianSeriesMarker;\n}(SeriesMarker));\nexport { CartesianSeriesMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Scene } from \"../scene/scene\";\nimport { Group } from \"../scene/group\";\nimport { Padding } from \"../util/padding\";\nimport { Shape } from \"../scene/shape/shape\";\nimport { Rect } from \"../scene/shape/rect\";\nimport { Legend } from \"./legend\";\nimport { find } from \"../util/array\";\nimport { SizeMonitor } from \"../util/sizeMonitor\";\nimport { Observable, reactive } from \"../util/observable\";\nimport { CartesianSeries } from \"./series/cartesian/cartesianSeries\";\nimport { createId } from \"../util/id\";\nvar defaultTooltipCss = \"\\n.ag-chart-tooltip {\\n    display: none;\\n    position: absolute;\\n    user-select: none;\\n    pointer-events: none;\\n    white-space: nowrap;\\n    z-index: 99999;\\n    font: 12px Verdana, sans-serif;\\n    color: black;\\n    background: rgb(244, 244, 244);\\n    border-radius: 5px;\\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\\n}\\n\\n.ag-chart-tooltip-visible {\\n    display: table;\\n}\\n\\n.ag-chart-tooltip-title {\\n    font-weight: bold;\\n    padding: 7px;\\n    border-top-left-radius: 5px;\\n    border-top-right-radius: 5px;\\n    color: white;\\n    background-color: #888888;\\n    border-top-left-radius: 5px;\\n    border-top-right-radius: 5px;\\n}\\n\\n.ag-chart-tooltip-content {\\n    padding: 7px;\\n    line-height: 1.7em;\\n    border-bottom-left-radius: 5px;\\n    border-bottom-right-radius: 5px;\\n}\\n\\n.ag-chart-tooltip-arrow::before {\\n    content: \\\"\\\";\\n\\n    position: absolute;\\n    top: 100%;\\n    left: 50%;\\n    transform: translateX(-50%);\\n\\n    border: 6px solid #989898;\\n\\n    border-left-color: transparent;\\n    border-right-color: transparent;\\n    border-top-color: #989898;\\n    border-bottom-color: transparent;\\n\\n    width: 0;\\n    height: 0;\\n\\n    margin: 0 auto;\\n}\\n\\n.ag-chart-tooltip-arrow::after {\\n    content: \\\"\\\";\\n\\n    position: absolute;\\n    top: 100%;\\n    left: 50%;\\n    transform: translateX(-50%);\\n\\n    border: 5px solid black;\\n\\n    border-left-color: transparent;\\n    border-right-color: transparent;\\n    border-top-color: rgb(244, 244, 244);\\n    border-bottom-color: transparent;\\n\\n    width: 0;\\n    height: 0;\\n\\n    margin: 0 auto;\\n}\\n\";\nvar Chart = /** @class */ (function (_super) {\n    __extends(Chart, _super);\n    function Chart(document) {\n        if (document === void 0) { document = window.document; }\n        var _this = _super.call(this) || this;\n        _this.id = createId(_this);\n        _this.background = new Rect();\n        _this.legend = new Legend();\n        _this.legendAutoPadding = new Padding();\n        _this.captionAutoPadding = 0; // top padding only\n        _this._container = undefined;\n        _this._data = [];\n        _this._autoSize = false;\n        _this.padding = new Padding(20);\n        _this._axes = [];\n        _this._series = [];\n        _this._axesChanged = false;\n        _this._seriesChanged = false;\n        _this.layoutCallbackId = 0;\n        _this._performLayout = function () {\n            _this.layoutCallbackId = 0;\n            _this.background.width = _this.width;\n            _this.background.height = _this.height;\n            _this.performLayout();\n            if (!_this.layoutPending) {\n                _this.fireEvent({ type: 'layoutDone' });\n            }\n        };\n        _this.dataCallbackId = 0;\n        _this._onMouseDown = _this.onMouseDown.bind(_this);\n        _this._onMouseUp = _this.onMouseUp.bind(_this);\n        _this._onMouseMove = _this.onMouseMove.bind(_this);\n        _this._onMouseOut = _this.onMouseOut.bind(_this);\n        _this._onClick = _this.onClick.bind(_this);\n        _this._tooltipClass = Chart.defaultTooltipClass;\n        /**\n         * If `true`, the tooltip will be shown for the marker closest to the mouse cursor.\n         * Only has effect on series with markers.\n         */\n        _this.tooltipTracking = true;\n        var root = new Group();\n        var background = _this.background;\n        background.fill = 'white';\n        root.appendChild(background);\n        var element = _this._element = document.createElement('div');\n        element.style.boxSizing = 'border-box';\n        element.style.overflow = 'hidden';\n        element.style.height = '100%';\n        var scene = new Scene(document);\n        _this.scene = scene;\n        scene.root = root;\n        scene.container = element;\n        _this.autoSize = true;\n        var legend = _this.legend;\n        legend.addEventListener('layoutChange', _this.onLayoutChange, _this);\n        legend.addPropertyListener('position', _this.onLegendPositionChange, _this);\n        _this.tooltipElement = document.createElement('div');\n        _this.tooltipClass = '';\n        document.body.appendChild(_this.tooltipElement);\n        if (Chart.tooltipDocuments.indexOf(document) < 0) {\n            var styleElement = document.createElement('style');\n            styleElement.innerHTML = defaultTooltipCss;\n            // Make sure the default tooltip style goes before other styles so it can be overridden.\n            document.head.insertBefore(styleElement, document.head.querySelector('style'));\n            Chart.tooltipDocuments.push(document);\n        }\n        _this.setupDomListeners(scene.canvas.element);\n        _this.addPropertyListener('title', _this.onCaptionChange);\n        _this.addPropertyListener('subtitle', _this.onCaptionChange);\n        _this.addEventListener('layoutChange', function () { return _this.layoutPending = true; });\n        return _this;\n    }\n    Object.defineProperty(Chart.prototype, \"container\", {\n        get: function () {\n            return this._container;\n        },\n        set: function (value) {\n            if (this._container !== value) {\n                var parentNode = this.element.parentNode;\n                if (parentNode != null) {\n                    parentNode.removeChild(this.element);\n                }\n                if (value) {\n                    value.appendChild(this.element);\n                }\n                this._container = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"data\", {\n        get: function () {\n            return this._data;\n        },\n        set: function (data) {\n            this._data = data;\n            this.series.forEach(function (series) { return series.data = data; });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"width\", {\n        get: function () {\n            return this.scene.width;\n        },\n        set: function (value) {\n            this.autoSize = false;\n            if (this.width !== value) {\n                this.scene.resize(value, this.height);\n                this.fireEvent({ type: 'layoutChange' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"height\", {\n        get: function () {\n            return this.scene.height;\n        },\n        set: function (value) {\n            this.autoSize = false;\n            if (this.height !== value) {\n                this.scene.resize(this.width, value);\n                this.fireEvent({ type: 'layoutChange' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"autoSize\", {\n        get: function () {\n            return this._autoSize;\n        },\n        set: function (value) {\n            if (this._autoSize !== value) {\n                this._autoSize = value;\n                if (value) {\n                    var chart_1 = this; // capture `this` for IE11\n                    SizeMonitor.observe(this.element, function (size) {\n                        if (size.width !== chart_1.width || size.height !== chart_1.height) {\n                            chart_1.scene.resize(size.width, size.height);\n                            chart_1.fireEvent({ type: 'layoutChange' });\n                        }\n                    });\n                    this.element.style.display = 'block';\n                }\n                else {\n                    SizeMonitor.unobserve(this.element);\n                    this.element.style.display = 'inline-block';\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.download = function (fileName) {\n        this.scene.download(fileName);\n    };\n    Chart.prototype.destroy = function () {\n        var tooltipParent = this.tooltipElement.parentNode;\n        if (tooltipParent) {\n            tooltipParent.removeChild(this.tooltipElement);\n        }\n        SizeMonitor.unobserve(this.element);\n        this.container = undefined;\n        this.cleanupDomListeners(this.scene.canvas.element);\n        this.scene.container = undefined;\n    };\n    Chart.prototype.onLayoutChange = function () {\n        this.layoutPending = true;\n    };\n    Chart.prototype.onLegendPositionChange = function () {\n        this.legendAutoPadding.clear();\n        this.layoutPending = true;\n    };\n    Chart.prototype.onCaptionChange = function (event) {\n        var value = event.value, oldValue = event.oldValue;\n        if (oldValue) {\n            oldValue.removeEventListener('change', this.onLayoutChange, this);\n            this.scene.root.removeChild(oldValue.node);\n        }\n        if (value) {\n            value.addEventListener('change', this.onLayoutChange, this);\n            this.scene.root.appendChild(value.node);\n        }\n    };\n    Object.defineProperty(Chart.prototype, \"element\", {\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"axes\", {\n        get: function () {\n            return this._axes;\n        },\n        set: function (values) {\n            var _this = this;\n            this._axes.forEach(function (axis) { return _this.detachAxis(axis); });\n            // make linked axes go after the regular ones (simulates stable sort by `linkedTo` property)\n            this._axes = values.filter(function (a) { return !a.linkedTo; }).concat(values.filter(function (a) { return a.linkedTo; }));\n            this._axes.forEach(function (axis) { return _this.attachAxis(axis); });\n            this.axesChanged = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.attachAxis = function (axis) {\n        this.scene.root.insertBefore(axis.group, this.seriesRoot);\n    };\n    Chart.prototype.detachAxis = function (axis) {\n        this.scene.root.removeChild(axis.group);\n    };\n    Object.defineProperty(Chart.prototype, \"series\", {\n        get: function () {\n            return this._series;\n        },\n        set: function (values) {\n            var _this = this;\n            this.removeAllSeries();\n            values.forEach(function (series) { return _this.addSeries(series); });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.scheduleLayout = function () {\n        this.layoutPending = true;\n    };\n    Chart.prototype.scheduleData = function () {\n        // To prevent the chart from thinking the cursor is over the same node\n        // after a change to data (the nodes are reused on data changes).\n        this.dehighlightDatum();\n        this.dataPending = true;\n    };\n    Chart.prototype.addSeries = function (series, before) {\n        var _a = this, allSeries = _a.series, seriesRoot = _a.seriesRoot;\n        var canAdd = allSeries.indexOf(series) < 0;\n        if (canAdd) {\n            var beforeIndex = before ? allSeries.indexOf(before) : -1;\n            if (beforeIndex >= 0) {\n                allSeries.splice(beforeIndex, 0, series);\n                seriesRoot.insertBefore(series.group, before.group);\n            }\n            else {\n                allSeries.push(series);\n                seriesRoot.append(series.group);\n            }\n            this.initSeries(series);\n            this.seriesChanged = true;\n            this.axesChanged = true;\n            return true;\n        }\n        return false;\n    };\n    Chart.prototype.initSeries = function (series) {\n        series.chart = this;\n        if (!series.data) {\n            series.data = this.data;\n        }\n        series.addEventListener('layoutChange', this.scheduleLayout, this);\n        series.addEventListener('dataChange', this.scheduleData, this);\n        series.addEventListener('legendChange', this.updateLegend, this);\n        series.addEventListener('nodeClick', this.onSeriesNodeClick, this);\n    };\n    Chart.prototype.freeSeries = function (series) {\n        series.chart = undefined;\n        series.removeEventListener('layoutChange', this.scheduleLayout, this);\n        series.removeEventListener('dataChange', this.scheduleData, this);\n        series.removeEventListener('legendChange', this.updateLegend, this);\n        series.removeEventListener('nodeClick', this.onSeriesNodeClick, this);\n    };\n    Chart.prototype.addSeriesAfter = function (series, after) {\n        var _a = this, allSeries = _a.series, seriesRoot = _a.seriesRoot;\n        var canAdd = allSeries.indexOf(series) < 0;\n        if (canAdd) {\n            var afterIndex = after ? this.series.indexOf(after) : -1;\n            if (afterIndex >= 0) {\n                if (afterIndex + 1 < allSeries.length) {\n                    seriesRoot.insertBefore(series.group, allSeries[afterIndex + 1].group);\n                }\n                else {\n                    seriesRoot.append(series.group);\n                }\n                this.initSeries(series);\n                allSeries.splice(afterIndex + 1, 0, series);\n            }\n            else {\n                if (allSeries.length > 0) {\n                    seriesRoot.insertBefore(series.group, allSeries[0].group);\n                }\n                else {\n                    seriesRoot.append(series.group);\n                }\n                this.initSeries(series);\n                allSeries.unshift(series);\n            }\n            this.seriesChanged = true;\n            this.axesChanged = true;\n        }\n        return false;\n    };\n    Chart.prototype.removeSeries = function (series) {\n        var index = this.series.indexOf(series);\n        if (index >= 0) {\n            this.series.splice(index, 1);\n            this.freeSeries(series);\n            this.seriesRoot.removeChild(series.group);\n            this.seriesChanged = true;\n            return true;\n        }\n        return false;\n    };\n    Chart.prototype.removeAllSeries = function () {\n        var _this = this;\n        this.series.forEach(function (series) {\n            _this.freeSeries(series);\n            _this.seriesRoot.removeChild(series.group);\n        });\n        this._series = []; // using `_series` instead of `series` to prevent infinite recursion\n        this.seriesChanged = true;\n    };\n    Chart.prototype.assignSeriesToAxes = function () {\n        var _this = this;\n        this.axes.forEach(function (axis) {\n            var axisName = axis.direction + 'Axis';\n            var boundSeries = [];\n            _this.series.forEach(function (series) {\n                if (series[axisName] === axis) {\n                    boundSeries.push(series);\n                }\n            });\n            axis.boundSeries = boundSeries;\n        });\n        this.seriesChanged = false;\n    };\n    Chart.prototype.assignAxesToSeries = function (force) {\n        var _this = this;\n        if (force === void 0) { force = false; }\n        // This method has to run before `assignSeriesToAxes`.\n        var directionToAxesMap = {};\n        this.axes.forEach(function (axis) {\n            var direction = axis.direction;\n            var directionAxes = directionToAxesMap[direction] || (directionToAxesMap[direction] = []);\n            directionAxes.push(axis);\n        });\n        this.series.forEach(function (series) {\n            series.directions.forEach(function (direction) {\n                var axisName = direction + 'Axis';\n                if (!series[axisName] || force) {\n                    var directionAxes = directionToAxesMap[direction];\n                    if (directionAxes) {\n                        var axis = _this.findMatchingAxis(directionAxes, series.getKeys(direction));\n                        if (axis) {\n                            series[axisName] = axis;\n                        }\n                    }\n                }\n            });\n            if (series instanceof CartesianSeries) {\n                if (!series.xAxis) {\n                    console.warn(\"Could not find a matching xAxis for the \" + series.id + \" series.\");\n                    return;\n                }\n                if (!series.yAxis) {\n                    console.warn(\"Could not find a matching yAxis for the \" + series.id + \" series.\");\n                    return;\n                }\n            }\n        });\n        this.axesChanged = false;\n    };\n    Chart.prototype.findMatchingAxis = function (directionAxes, directionKeys) {\n        for (var i = 0; i < directionAxes.length; i++) {\n            var axis = directionAxes[i];\n            var axisKeys = axis.keys;\n            if (!axisKeys.length) {\n                return axis;\n            }\n            else if (directionKeys) {\n                for (var j = 0; j < directionKeys.length; j++) {\n                    if (axisKeys.indexOf(directionKeys[j]) >= 0) {\n                        return axis;\n                    }\n                }\n            }\n        }\n    };\n    Object.defineProperty(Chart.prototype, \"axesChanged\", {\n        get: function () {\n            return this._axesChanged;\n        },\n        set: function (value) {\n            this._axesChanged = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"seriesChanged\", {\n        get: function () {\n            return this._seriesChanged;\n        },\n        set: function (value) {\n            this._seriesChanged = value;\n            if (value) {\n                this.dataPending = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"layoutPending\", {\n        /**\n         * Only `true` while we are waiting for the layout to start.\n         * This will be `false` if the layout has already started and is ongoing.\n         */\n        get: function () {\n            return !!this.layoutCallbackId;\n        },\n        set: function (value) {\n            if (value) {\n                if (!(this.layoutCallbackId || this.dataPending)) {\n                    this.layoutCallbackId = requestAnimationFrame(this._performLayout);\n                }\n            }\n            else if (this.layoutCallbackId) {\n                cancelAnimationFrame(this.layoutCallbackId);\n                this.layoutCallbackId = 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"dataPending\", {\n        get: function () {\n            return !!this.dataCallbackId;\n        },\n        set: function (value) {\n            var _this = this;\n            if (this.dataCallbackId) {\n                clearTimeout(this.dataCallbackId);\n                this.dataCallbackId = 0;\n            }\n            if (value) {\n                this.dataCallbackId = window.setTimeout(function () {\n                    _this.dataPending = false;\n                    _this.processData();\n                }, 0);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.processData = function () {\n        this.layoutPending = false;\n        if (this.axesChanged) {\n            this.assignAxesToSeries(true);\n            this.assignSeriesToAxes();\n        }\n        if (this.seriesChanged) {\n            this.assignSeriesToAxes();\n        }\n        this.series.filter(function (s) { return s.visible; }).forEach(function (series) { return series.processData(); });\n        this.updateLegend();\n        this.layoutPending = true;\n    };\n    Chart.prototype.updateLegend = function () {\n        var legendData = [];\n        this.series.filter(function (s) { return s.showInLegend; }).forEach(function (series) { return series.listSeriesItems(legendData); });\n        this.legend.data = legendData;\n    };\n    Chart.prototype.positionCaptions = function () {\n        var _a = this, title = _a.title, subtitle = _a.subtitle;\n        var titleVisible = false;\n        var subtitleVisible = false;\n        var spacing = 10;\n        var paddingTop = spacing;\n        if (title && title.enabled) {\n            title.node.x = this.width / 2;\n            title.node.y = paddingTop;\n            titleVisible = true;\n            var titleBBox = title.node.computeBBox(); // make sure to set node's x/y, then computeBBox\n            if (titleBBox) {\n                paddingTop = titleBBox.y + titleBBox.height;\n            }\n            if (subtitle && subtitle.enabled) {\n                subtitle.node.x = this.width / 2;\n                subtitle.node.y = paddingTop + spacing;\n                subtitleVisible = true;\n                var subtitleBBox = subtitle.node.computeBBox();\n                if (subtitleBBox) {\n                    paddingTop = subtitleBBox.y + subtitleBBox.height;\n                }\n            }\n        }\n        if (title) {\n            title.node.visible = titleVisible;\n        }\n        if (subtitle) {\n            subtitle.node.visible = subtitleVisible;\n        }\n        this.captionAutoPadding = Math.floor(paddingTop);\n    };\n    Chart.prototype.positionLegend = function () {\n        if (!this.legend.enabled || !this.legend.data.length) {\n            return;\n        }\n        var _a = this, legend = _a.legend, captionAutoPadding = _a.captionAutoPadding, legendAutoPadding = _a.legendAutoPadding;\n        var width = this.width;\n        var height = this.height - captionAutoPadding;\n        var legendGroup = legend.group;\n        var legendSpacing = legend.spacing;\n        var translationX = 0;\n        var translationY = 0;\n        var legendBBox;\n        switch (legend.position) {\n            case 'bottom':\n                legend.performLayout(width - legendSpacing * 2, 0);\n                legendBBox = legendGroup.computeBBox();\n                translationX = (width - legendBBox.width) / 2 - legendBBox.x;\n                translationY = captionAutoPadding + height - legendBBox.height - legendBBox.y - legendSpacing;\n                legendAutoPadding.bottom = legendBBox.height;\n                break;\n            case 'top':\n                legend.performLayout(width - legendSpacing * 2, 0);\n                legendBBox = legendGroup.computeBBox();\n                translationX = (width - legendBBox.width) / 2 - legendBBox.x;\n                translationY = captionAutoPadding + legendSpacing - legendBBox.y;\n                legendAutoPadding.top = legendBBox.height;\n                break;\n            case 'left':\n                legend.performLayout(0, height - legendSpacing * 2);\n                legendBBox = legendGroup.computeBBox();\n                translationX = legendSpacing - legendBBox.x;\n                translationY = captionAutoPadding + (height - legendBBox.height) / 2 - legendBBox.y;\n                legendAutoPadding.left = legendBBox.width;\n                break;\n            default: // case 'right':\n                legend.performLayout(0, height - legendSpacing * 2);\n                legendBBox = legendGroup.computeBBox();\n                translationX = width - legendBBox.width - legendBBox.x - legendSpacing;\n                translationY = captionAutoPadding + (height - legendBBox.height) / 2 - legendBBox.y;\n                legendAutoPadding.right = legendBBox.width;\n                break;\n        }\n        // Round off for pixel grid alignment to work properly.\n        legendGroup.translationX = Math.floor(translationX + legendGroup.translationX);\n        legendGroup.translationY = Math.floor(translationY + legendGroup.translationY);\n    };\n    Chart.prototype.setupDomListeners = function (chartElement) {\n        chartElement.addEventListener('mousedown', this._onMouseDown);\n        chartElement.addEventListener('mousemove', this._onMouseMove);\n        chartElement.addEventListener('mouseup', this._onMouseUp);\n        chartElement.addEventListener('mouseout', this._onMouseOut);\n        chartElement.addEventListener('click', this._onClick);\n    };\n    Chart.prototype.cleanupDomListeners = function (chartElement) {\n        chartElement.removeEventListener('mousedown', this._onMouseDown);\n        chartElement.removeEventListener('mousemove', this._onMouseMove);\n        chartElement.removeEventListener('mouseup', this._onMouseUp);\n        chartElement.removeEventListener('mouseout', this._onMouseOut);\n        chartElement.removeEventListener('click', this._onClick);\n    };\n    // x/y are local canvas coordinates in CSS pixels, not actual pixels\n    Chart.prototype.pickSeriesNode = function (x, y) {\n        if (!this.seriesRect || !this.seriesRect.containsPoint(x, y)) {\n            return undefined;\n        }\n        var allSeries = this.series;\n        var node = undefined;\n        for (var i = allSeries.length - 1; i >= 0; i--) {\n            var series = allSeries[i];\n            node = series.group.pickNode(x, y);\n            if (node) {\n                return {\n                    series: series,\n                    node: node\n                };\n            }\n        }\n    };\n    // Provided x/y are in canvas coordinates.\n    Chart.prototype.pickClosestSeriesNodeDatum = function (x, y) {\n        if (!this.seriesRect || !this.seriesRect.containsPoint(x, y)) {\n            return undefined;\n        }\n        var allSeries = this.series;\n        function getDistance(p1, p2) {\n            return Math.sqrt(Math.pow((p1.x - p2.x), 2) + Math.pow((p1.y - p2.y), 2));\n        }\n        var minDistance = Infinity;\n        var closestDatum;\n        var _loop_1 = function (i) {\n            var series = allSeries[i];\n            if (!series.visible) {\n                return \"continue\";\n            }\n            var hitPoint = series.group.transformPoint(x, y);\n            series.getNodeData().forEach(function (datum) {\n                if (!datum.point) {\n                    return;\n                }\n                var distance = getDistance(hitPoint, datum.point);\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    closestDatum = datum;\n                }\n            });\n        };\n        for (var i = allSeries.length - 1; i >= 0; i--) {\n            _loop_1(i);\n        }\n        if (closestDatum) {\n            return closestDatum;\n        }\n    };\n    Chart.prototype.onMouseMove = function (event) {\n        var _a = this, lastPick = _a.lastPick, tooltipTracking = _a.tooltipTracking;\n        var pick = this.pickSeriesNode(event.offsetX, event.offsetY);\n        var nodeDatum;\n        if (pick && pick.node instanceof Shape) {\n            var node = pick.node;\n            nodeDatum = node.datum;\n            if (lastPick && lastPick.datum === nodeDatum) {\n                lastPick.node = node;\n            }\n            // Marker nodes will have the `point` info in their datums.\n            // Highlight if not a marker node or, if not in the tracking mode, highlight markers too.\n            if ((!node.datum.point || !tooltipTracking)) {\n                if (!lastPick // cursor moved from empty space to a node\n                    || lastPick.node !== node) { // cursor moved from one node to another\n                    this.onSeriesDatumPick(event, node.datum, node);\n                }\n                else if (pick.series.tooltipEnabled) { // cursor moved within the same node\n                    this.showTooltip(event);\n                }\n                // A non-marker node (takes precedence over marker nodes) was highlighted.\n                // Or we are not in the tracking mode.\n                // Either way, we are done at this point.\n                return;\n            }\n        }\n        var hideTooltip = false;\n        // In tracking mode a tooltip is shown for the closest rendered datum.\n        // This makes it easier to show tooltips when markers are small and/or plentiful\n        // and also gives the ability to show tooltips even when the series were configured\n        // to not render markers.\n        if (tooltipTracking) {\n            var closestDatum = this.pickClosestSeriesNodeDatum(event.offsetX, event.offsetY);\n            if (closestDatum && closestDatum.point) {\n                var _b = closestDatum.point, x = _b.x, y = _b.y;\n                var canvas = this.scene.canvas;\n                var point = closestDatum.series.group.inverseTransformPoint(x, y);\n                var canvasRect = canvas.element.getBoundingClientRect();\n                this.onSeriesDatumPick({\n                    pageX: Math.round(canvasRect.left + window.pageXOffset + point.x),\n                    pageY: Math.round(canvasRect.top + window.pageYOffset + point.y)\n                }, closestDatum, nodeDatum === closestDatum ? pick.node : undefined);\n            }\n            else {\n                hideTooltip = true;\n            }\n        }\n        if (lastPick && (hideTooltip || !tooltipTracking)) {\n            // cursor moved from a non-marker node to empty space\n            this.dehighlightDatum();\n            this.hideTooltip();\n            this.lastPick = undefined;\n        }\n    };\n    Chart.prototype.onMouseDown = function (event) { };\n    Chart.prototype.onMouseUp = function (event) { };\n    Chart.prototype.onMouseOut = function (event) {\n        this.toggleTooltip(false);\n    };\n    Chart.prototype.onClick = function (event) {\n        this.checkSeriesNodeClick();\n        this.checkLegendClick(event);\n    };\n    Chart.prototype.checkSeriesNodeClick = function () {\n        var lastPick = this.lastPick;\n        if (lastPick && lastPick.node) {\n            var datum = this.lastPick.datum;\n            datum.series.fireNodeClickEvent(datum);\n        }\n    };\n    Chart.prototype.onSeriesNodeClick = function (event) {\n        this.fireEvent(__assign(__assign({}, event), { type: 'seriesNodeClick' }));\n    };\n    Chart.prototype.checkLegendClick = function (event) {\n        var datum = this.legend.getDatumForPoint(event.offsetX, event.offsetY);\n        if (datum) {\n            var id_1 = datum.id, itemId = datum.itemId, enabled = datum.enabled;\n            var series = find(this.series, function (series) { return series.id === id_1; });\n            if (series) {\n                series.toggleSeriesItem(itemId, !enabled);\n                if (enabled) {\n                    this.hideTooltip();\n                }\n            }\n        }\n    };\n    Chart.prototype.onSeriesDatumPick = function (meta, datum, node) {\n        if (this.lastPick) {\n            // this.lastPick.datum.series.dehighlightDatum();\n            this.dehighlightDatum();\n        }\n        this.lastPick = {\n            datum: datum,\n            node: node\n        };\n        this.highlightDatum(datum);\n        var html = datum.series.tooltipEnabled && datum.series.getTooltipHtml(datum);\n        if (html) {\n            this.showTooltip(meta, html);\n        }\n    };\n    Chart.prototype.highlightDatum = function (datum) {\n        this.highlightedDatum = datum;\n        this.series.forEach(function (s) { return s.onHighlightChange(); });\n    };\n    Chart.prototype.dehighlightDatum = function () {\n        if (this.highlightedDatum) {\n            this.highlightedDatum = undefined;\n            this.series.forEach(function (s) { return s.onHighlightChange(); });\n        }\n    };\n    Object.defineProperty(Chart.prototype, \"tooltipClass\", {\n        get: function () {\n            return this._tooltipClass;\n        },\n        set: function (value) {\n            if (this._tooltipClass !== value) {\n                this._tooltipClass = value;\n                this.toggleTooltip();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.toggleTooltip = function (visible) {\n        if (!visible && this.lastPick) {\n            this.dehighlightDatum();\n            this.lastPick = undefined;\n        }\n        this.updateTooltipClass(visible);\n    };\n    Chart.prototype.updateTooltipClass = function (visible, constrained) {\n        var classList = [Chart.defaultTooltipClass, this.tooltipClass];\n        if (visible === true) {\n            classList.push(Chart.defaultTooltipClass + \"-visible\");\n        }\n        if (constrained !== true) {\n            classList.push(Chart.defaultTooltipClass + \"-arrow\");\n        }\n        this.tooltipElement.setAttribute('class', classList.join(' '));\n    };\n    /**\n     * Shows tooltip at the given event's coordinates.\n     * If the `html` parameter is missing, moves the existing tooltip to the new position.\n     */\n    Chart.prototype.showTooltip = function (meta, html) {\n        var el = this.tooltipElement;\n        var container = this.container;\n        if (html !== undefined) {\n            el.innerHTML = html;\n        }\n        else if (!el.innerHTML) {\n            return;\n        }\n        if (html) {\n            this.toggleTooltip(true);\n        }\n        var left = meta.pageX - el.clientWidth / 2;\n        var top = meta.pageY - el.clientHeight - 8;\n        if (container) {\n            var tooltipRect = el.getBoundingClientRect();\n            var minLeft = 0;\n            var maxLeft = window.innerWidth - tooltipRect.width;\n            if (left < minLeft) {\n                left = minLeft;\n                this.updateTooltipClass(true, true);\n            }\n            else if (left > maxLeft) {\n                left = maxLeft;\n                this.updateTooltipClass(true, true);\n            }\n        }\n        el.style.left = left + \"px\";\n        el.style.top = top + \"px\";\n    };\n    Chart.prototype.hideTooltip = function () {\n        this.toggleTooltip(false);\n    };\n    Chart.defaultTooltipClass = 'ag-chart-tooltip';\n    Chart.tooltipDocuments = [];\n    __decorate([\n        reactive('layoutChange')\n    ], Chart.prototype, \"padding\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Chart.prototype, \"title\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Chart.prototype, \"subtitle\", void 0);\n    return Chart;\n}(Observable));\nexport { Chart };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Node } from \"./node\";\nimport { Path2D } from \"./path2D\";\nimport { BBox } from \"./bbox\";\n/**\n * Acts as `Group` node but with specified bounds that form a rectangle.\n * Any parts of the child nodes outside that rectangle will not be visible.\n * Unlike the `Group` node, the `ClipRect` node cannot be transformed.\n */\nvar ClipRect = /** @class */ (function (_super) {\n    __extends(ClipRect, _super);\n    function ClipRect() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isContainerNode = true;\n        _this.path = new Path2D();\n        _this._active = true;\n        _this._dirtyPath = true;\n        _this._x = 0;\n        _this._y = 0;\n        _this._width = 10;\n        _this._height = 10;\n        return _this;\n    }\n    ClipRect.prototype.containsPoint = function (x, y) {\n        var point = this.transformPoint(x, y);\n        return point.x >= this.x && point.x <= this.x + this.width\n            && point.y >= this.y && point.y <= this.y + this.height;\n    };\n    Object.defineProperty(ClipRect.prototype, \"active\", {\n        get: function () {\n            return this._active;\n        },\n        set: function (value) {\n            if (this._active !== value) {\n                this._active = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ClipRect.prototype, \"dirtyPath\", {\n        get: function () {\n            return this._dirtyPath;\n        },\n        set: function (value) {\n            if (this._dirtyPath !== value) {\n                this._dirtyPath = value;\n                if (value) {\n                    this.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ClipRect.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            if (this._x !== value) {\n                this._x = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ClipRect.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            if (this._y !== value) {\n                this._y = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ClipRect.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        set: function (value) {\n            if (this._width !== value) {\n                this._width = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ClipRect.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        set: function (value) {\n            if (this._height !== value) {\n                this._height = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ClipRect.prototype.updatePath = function () {\n        var path = this.path;\n        path.clear();\n        path.rect(this.x, this.y, this.width, this.height);\n        this.dirtyPath = false;\n    };\n    ClipRect.prototype.computeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        return new BBox(x, y, width, height);\n    };\n    ClipRect.prototype.render = function (ctx) {\n        if (this.active) {\n            if (this.dirtyPath) {\n                this.updatePath();\n            }\n            this.scene.appendPath(this.path);\n            ctx.clip();\n        }\n        var children = this.children;\n        var n = children.length;\n        for (var i = 0; i < n; i++) {\n            ctx.save();\n            var child = children[i];\n            if (child.visible) {\n                child.render(ctx);\n            }\n            ctx.restore();\n        }\n        // debug\n        // this.computeBBox().render(ctx, {\n        //     label: this.id,\n        //     resetTransform: true,\n        //     fillStyle: 'rgba(0, 0, 0, 0.5)'\n        // });\n    };\n    ClipRect.className = 'ClipRect';\n    return ClipRect;\n}(Node));\nexport { ClipRect };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Path } from \"../../scene/shape/path\";\nimport { BBox } from \"../../scene/bbox\";\nvar RangeHandle = /** @class */ (function (_super) {\n    __extends(RangeHandle, _super);\n    function RangeHandle() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._fill = '#f2f2f2';\n        _this._stroke = '#999999';\n        _this._strokeWidth = 1;\n        _this._lineCap = 'square';\n        _this._centerX = 0;\n        _this._centerY = 0;\n        // Use an even number for better looking results.\n        _this._width = 8;\n        // Use an even number for better looking results.\n        _this._gripLineGap = 2;\n        // Use an even number for better looking results.\n        _this._gripLineLength = 8;\n        _this._height = 16;\n        return _this;\n    }\n    Object.defineProperty(RangeHandle.prototype, \"centerX\", {\n        get: function () {\n            return this._centerX;\n        },\n        set: function (value) {\n            if (this._centerX !== value) {\n                this._centerX = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"centerY\", {\n        get: function () {\n            return this._centerY;\n        },\n        set: function (value) {\n            if (this._centerY !== value) {\n                this._centerY = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        set: function (value) {\n            if (this._width !== value) {\n                this._width = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"gripLineGap\", {\n        get: function () {\n            return this._gripLineGap;\n        },\n        set: function (value) {\n            if (this._gripLineGap !== value) {\n                this._gripLineGap = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"gripLineLength\", {\n        get: function () {\n            return this._gripLineLength;\n        },\n        set: function (value) {\n            if (this._gripLineLength !== value) {\n                this._gripLineLength = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        set: function (value) {\n            if (this._height !== value) {\n                this._height = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RangeHandle.prototype.computeBBox = function () {\n        var _a = this, centerX = _a.centerX, centerY = _a.centerY, width = _a.width, height = _a.height;\n        var x = centerX - width / 2;\n        var y = centerY - height / 2;\n        return new BBox(x, y, width, height);\n    };\n    RangeHandle.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        var bbox = this.computeBBox();\n        return bbox.containsPoint(point.x, point.y);\n    };\n    RangeHandle.prototype.updatePath = function () {\n        var _a = this, path = _a.path, centerX = _a.centerX, centerY = _a.centerY, width = _a.width, height = _a.height;\n        var _b = this, a = _b.alignment, al = _b.align;\n        path.clear();\n        var x = centerX - width / 2;\n        var y = centerY - height / 2;\n        var ax = al(a, x);\n        var ay = al(a, y);\n        var axw = ax + al(a, x, width);\n        var ayh = ay + al(a, y, height);\n        // Handle.\n        path.moveTo(ax, ay);\n        path.lineTo(axw, ay);\n        path.lineTo(axw, ayh);\n        path.lineTo(ax, ayh);\n        path.lineTo(ax, ay);\n        // Grip lines.\n        var dx = this.gripLineGap / 2;\n        var dy = this.gripLineLength / 2;\n        path.moveTo(al(a, centerX - dx), al(a, centerY - dy));\n        path.lineTo(al(a, centerX - dx), al(a, centerY + dy));\n        path.moveTo(al(a, centerX + dx), al(a, centerY - dy));\n        path.lineTo(al(a, centerX + dx), al(a, centerY + dy));\n    };\n    RangeHandle.className = 'RangeHandle';\n    return RangeHandle;\n}(Path));\nexport { RangeHandle };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Path } from \"../../scene/shape/path\";\nimport { BBox } from \"../../scene/bbox\";\nvar RangeMask = /** @class */ (function (_super) {\n    __extends(RangeMask, _super);\n    function RangeMask() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._stroke = '#999999';\n        _this._strokeWidth = 1;\n        _this._fill = '#999999';\n        _this._fillOpacity = 0.2;\n        _this._lineCap = 'square';\n        _this._x = 0;\n        _this._y = 0;\n        _this._width = 200;\n        _this._height = 30;\n        _this.minRange = 0.05;\n        _this._min = 0;\n        _this._max = 1;\n        return _this;\n    }\n    Object.defineProperty(RangeMask.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            if (this._x !== value) {\n                this._x = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            if (this._y !== value) {\n                this._y = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        set: function (value) {\n            if (this._width !== value) {\n                this._width = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        set: function (value) {\n            if (this._height !== value) {\n                this._height = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"min\", {\n        get: function () {\n            return this._min;\n        },\n        set: function (value) {\n            value = Math.min(Math.max(value, 0), this.max - this.minRange);\n            if (isNaN(value)) {\n                return;\n            }\n            if (this._min !== value) {\n                this._min = value;\n                this.dirtyPath = true;\n                this.onRangeChange && this.onRangeChange(value, this.max);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"max\", {\n        get: function () {\n            return this._max;\n        },\n        set: function (value) {\n            value = Math.max(Math.min(value, 1), this.min + this.minRange);\n            if (isNaN(value)) {\n                return;\n            }\n            if (this._max !== value) {\n                this._max = value;\n                this.dirtyPath = true;\n                this.onRangeChange && this.onRangeChange(this.min, value);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RangeMask.prototype.computeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        return new BBox(x, y, width, height);\n    };\n    RangeMask.prototype.computeVisibleRangeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, width = _a.width, height = _a.height, min = _a.min, max = _a.max;\n        var minX = x + width * min;\n        var maxX = x + width * max;\n        return new BBox(minX, y, maxX - minX, height);\n    };\n    RangeMask.prototype.updatePath = function () {\n        var _a = this, path = _a.path, x = _a.x, y = _a.y, width = _a.width, height = _a.height, min = _a.min, max = _a.max;\n        var _b = this, a = _b.alignment, al = _b.align;\n        path.clear();\n        var ax = al(a, x);\n        var ay = al(a, y);\n        var axw = ax + al(a, x, width);\n        var ayh = ay + al(a, y, height);\n        // Whole range.\n        path.moveTo(ax, ay);\n        path.lineTo(axw, ay);\n        path.lineTo(axw, ayh);\n        path.lineTo(ax, ayh);\n        path.lineTo(ax, ay);\n        var minX = al(a, x + width * min);\n        var maxX = al(a, x + width * max);\n        // Visible range.\n        path.moveTo(minX, ay);\n        path.lineTo(minX, ayh);\n        path.lineTo(maxX, ayh);\n        path.lineTo(maxX, ay);\n        path.lineTo(minX, ay);\n    };\n    RangeMask.className = 'RangeMask';\n    return RangeMask;\n}(Path));\nexport { RangeMask };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Group } from \"../../scene/group\";\nimport { RangeHandle } from \"./rangeHandle\";\nimport { RangeMask } from \"./rangeMask\";\nvar RangeSelector = /** @class */ (function (_super) {\n    __extends(RangeSelector, _super);\n    function RangeSelector() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isContainerNode = true;\n        _this.minHandle = new RangeHandle();\n        _this.maxHandle = new RangeHandle();\n        _this.mask = (function () {\n            var _a = RangeSelector.defaults, x = _a.x, y = _a.y, width = _a.width, height = _a.height, min = _a.min, max = _a.max;\n            var mask = new RangeMask();\n            mask.x = x;\n            mask.y = y;\n            mask.width = width;\n            mask.height = height;\n            mask.min = min;\n            mask.max = max;\n            var _b = _this, minHandle = _b.minHandle, maxHandle = _b.maxHandle;\n            minHandle.centerX = x;\n            maxHandle.centerX = x + width;\n            minHandle.centerY = maxHandle.centerY = y + height / 2;\n            _this.append([mask, minHandle, maxHandle]);\n            mask.onRangeChange = function (min, max) {\n                _this.updateHandles();\n                _this.onRangeChange && _this.onRangeChange(min, max);\n            };\n            return mask;\n        })();\n        _this._x = RangeSelector.defaults.x;\n        _this._y = RangeSelector.defaults.y;\n        _this._width = RangeSelector.defaults.width;\n        _this._height = RangeSelector.defaults.height;\n        _this._min = RangeSelector.defaults.min;\n        _this._max = RangeSelector.defaults.max;\n        return _this;\n    }\n    Object.defineProperty(RangeSelector.prototype, \"x\", {\n        get: function () {\n            return this.mask.x;\n        },\n        set: function (value) {\n            this.mask.x = value;\n            this.updateHandles();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"y\", {\n        get: function () {\n            return this.mask.y;\n        },\n        set: function (value) {\n            this.mask.y = value;\n            this.updateHandles();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"width\", {\n        get: function () {\n            return this.mask.width;\n        },\n        set: function (value) {\n            this.mask.width = value;\n            this.updateHandles();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"height\", {\n        get: function () {\n            return this.mask.height;\n        },\n        set: function (value) {\n            this.mask.height = value;\n            this.updateHandles();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"min\", {\n        get: function () {\n            return this.mask.min;\n        },\n        set: function (value) {\n            this.mask.min = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"max\", {\n        get: function () {\n            return this.mask.max;\n        },\n        set: function (value) {\n            this.mask.max = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RangeSelector.prototype.updateHandles = function () {\n        var _a = this, minHandle = _a.minHandle, maxHandle = _a.maxHandle, x = _a.x, y = _a.y, width = _a.width, height = _a.height, mask = _a.mask;\n        minHandle.centerX = x + width * mask.min;\n        maxHandle.centerX = x + width * mask.max;\n        minHandle.centerY = maxHandle.centerY = y + height / 2;\n    };\n    RangeSelector.prototype.computeBBox = function () {\n        return this.mask.computeBBox();\n    };\n    RangeSelector.prototype.computeVisibleRangeBBox = function () {\n        return this.mask.computeVisibleRangeBBox();\n    };\n    RangeSelector.prototype.render = function (ctx) {\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        this.matrix.toContext(ctx);\n        var _a = this, mask = _a.mask, minHandle = _a.minHandle, maxHandle = _a.maxHandle;\n        [mask, minHandle, maxHandle].forEach(function (child) {\n            ctx.save();\n            if (child.visible) {\n                child.render(ctx);\n            }\n            ctx.restore();\n        });\n    };\n    RangeSelector.className = 'Range';\n    RangeSelector.defaults = {\n        x: 0,\n        y: 0,\n        width: 200,\n        height: 30,\n        min: 0,\n        max: 1\n    };\n    return RangeSelector;\n}(Group));\nexport { RangeSelector };\n","var NavigatorMask = /** @class */ (function () {\n    function NavigatorMask(rangeMask) {\n        this.rm = rangeMask;\n    }\n    Object.defineProperty(NavigatorMask.prototype, \"fill\", {\n        get: function () {\n            return this.rm.fill;\n        },\n        set: function (value) {\n            this.rm.fill = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorMask.prototype, \"stroke\", {\n        get: function () {\n            return this.rm.stroke;\n        },\n        set: function (value) {\n            this.rm.stroke = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorMask.prototype, \"strokeWidth\", {\n        get: function () {\n            return this.rm.strokeWidth;\n        },\n        set: function (value) {\n            this.rm.strokeWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorMask.prototype, \"fillOpacity\", {\n        get: function () {\n            return this.rm.fillOpacity;\n        },\n        set: function (value) {\n            this.rm.fillOpacity = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return NavigatorMask;\n}());\nexport { NavigatorMask };\n","var NavigatorHandle = /** @class */ (function () {\n    function NavigatorHandle(rangeHandle) {\n        this.rh = rangeHandle;\n    }\n    Object.defineProperty(NavigatorHandle.prototype, \"fill\", {\n        get: function () {\n            return this.rh.fill;\n        },\n        set: function (value) {\n            this.rh.fill = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"stroke\", {\n        get: function () {\n            return this.rh.stroke;\n        },\n        set: function (value) {\n            this.rh.stroke = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"strokeWidth\", {\n        get: function () {\n            return this.rh.strokeWidth;\n        },\n        set: function (value) {\n            this.rh.strokeWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"width\", {\n        get: function () {\n            return this.rh.width;\n        },\n        set: function (value) {\n            this.rh.width = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"height\", {\n        get: function () {\n            return this.rh.height;\n        },\n        set: function (value) {\n            this.rh.height = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"gripLineGap\", {\n        get: function () {\n            return this.rh.gripLineGap;\n        },\n        set: function (value) {\n            this.rh.gripLineGap = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"gripLineLength\", {\n        get: function () {\n            return this.rh.gripLineLength;\n        },\n        set: function (value) {\n            this.rh.gripLineLength = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return NavigatorHandle;\n}());\nexport { NavigatorHandle };\n","import { RangeSelector } from \"../shapes/rangeSelector\";\nimport { ChartAxisDirection } from \"../chartAxis\";\nimport { BBox } from \"../../scene/bbox\";\nimport { NavigatorMask } from \"./navigatorMask\";\nimport { NavigatorHandle } from \"./navigatorHandle\";\nvar Navigator = /** @class */ (function () {\n    function Navigator(chart) {\n        var _this = this;\n        this.rs = new RangeSelector();\n        this.mask = new NavigatorMask(this.rs.mask);\n        this.minHandle = new NavigatorHandle(this.rs.minHandle);\n        this.maxHandle = new NavigatorHandle(this.rs.maxHandle);\n        this.minHandleDragging = false;\n        this.maxHandleDragging = false;\n        this.panHandleOffset = NaN;\n        this._margin = 10;\n        this.chart = chart;\n        chart.scene.root.append(this.rs);\n        this.rs.onRangeChange = function (min, max) { return _this.updateAxes(min, max); };\n    }\n    Object.defineProperty(Navigator.prototype, \"enabled\", {\n        get: function () {\n            return this.rs.visible;\n        },\n        set: function (value) {\n            this.rs.visible = value;\n            this.chart.layoutPending = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"x\", {\n        get: function () {\n            return this.rs.x;\n        },\n        set: function (value) {\n            this.rs.x = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"y\", {\n        get: function () {\n            return this.rs.y;\n        },\n        set: function (value) {\n            this.rs.y = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"width\", {\n        get: function () {\n            return this.rs.width;\n        },\n        set: function (value) {\n            this.rs.width = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"height\", {\n        get: function () {\n            return this.rs.height;\n        },\n        set: function (value) {\n            this.rs.height = value;\n            this.chart.layoutPending = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"margin\", {\n        get: function () {\n            return this._margin;\n        },\n        set: function (value) {\n            this._margin = value;\n            this.chart.layoutPending = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"min\", {\n        get: function () {\n            return this.rs.min;\n        },\n        set: function (value) {\n            this.rs.min = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"max\", {\n        get: function () {\n            return this.rs.max;\n        },\n        set: function (value) {\n            this.rs.max = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Navigator.prototype.updateAxes = function (min, max) {\n        this.chart.axes.forEach(function (axis) {\n            if (axis.direction === ChartAxisDirection.X) {\n                axis.visibleRange = [min, max];\n                axis.update();\n            }\n        });\n        this.chart.series.forEach(function (series) { return series.update(); });\n    };\n    Navigator.prototype.onMouseDown = function (event) {\n        var offsetX = event.offsetX, offsetY = event.offsetY;\n        var rs = this.rs;\n        var minHandle = rs.minHandle, maxHandle = rs.maxHandle, x = rs.x, width = rs.width, min = rs.min;\n        var visibleRange = rs.computeVisibleRangeBBox();\n        if (!(this.minHandleDragging || this.maxHandleDragging)) {\n            if (minHandle.containsPoint(offsetX, offsetY)) {\n                this.minHandleDragging = true;\n            }\n            else if (maxHandle.containsPoint(offsetX, offsetY)) {\n                this.maxHandleDragging = true;\n            }\n            else if (visibleRange.containsPoint(offsetX, offsetY)) {\n                this.panHandleOffset = (offsetX - x) / width - min;\n            }\n        }\n    };\n    Navigator.prototype.onMouseMove = function (event) {\n        var _a = this, rs = _a.rs, panHandleOffset = _a.panHandleOffset;\n        var x = rs.x, y = rs.y, width = rs.width, height = rs.height, minHandle = rs.minHandle, maxHandle = rs.maxHandle;\n        var style = this.chart.element.style;\n        var offsetX = event.offsetX, offsetY = event.offsetY;\n        var minX = x + width * rs.min;\n        var maxX = x + width * rs.max;\n        var visibleRange = new BBox(minX, y, maxX - minX, height);\n        function getRatio() {\n            return Math.min(Math.max((offsetX - x) / width, 0), 1);\n        }\n        if (minHandle.containsPoint(offsetX, offsetY)) {\n            style.cursor = 'ew-resize';\n        }\n        else if (maxHandle.containsPoint(offsetX, offsetY)) {\n            style.cursor = 'ew-resize';\n        }\n        else if (visibleRange.containsPoint(offsetX, offsetY)) {\n            style.cursor = 'grab';\n        }\n        else {\n            style.cursor = 'default';\n        }\n        if (this.minHandleDragging) {\n            rs.min = getRatio();\n        }\n        else if (this.maxHandleDragging) {\n            rs.max = getRatio();\n        }\n        else if (!isNaN(panHandleOffset)) {\n            var span = rs.max - rs.min;\n            var min = Math.min(getRatio() - panHandleOffset, 1 - span);\n            if (min <= rs.min) { // pan left\n                rs.min = min;\n                rs.max = rs.min + span;\n            }\n            else { // pan right\n                rs.max = min + span;\n                rs.min = rs.max - span;\n            }\n        }\n    };\n    Navigator.prototype.onMouseOut = function (event) {\n        this.stopHandleDragging();\n    };\n    Navigator.prototype.onMouseUp = function (event) {\n        this.stopHandleDragging();\n    };\n    Navigator.prototype.stopHandleDragging = function () {\n        this.minHandleDragging = this.maxHandleDragging = false;\n        this.panHandleOffset = NaN;\n    };\n    return Navigator;\n}());\nexport { Navigator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Chart } from \"./chart\";\nimport { numericExtent } from \"../util/array\";\nimport { CategoryAxis } from \"./axis/categoryAxis\";\nimport { GroupedCategoryAxis } from \"./axis/groupedCategoryAxis\";\nimport { ChartAxisPosition } from \"./chartAxis\";\nimport { BBox } from \"../scene/bbox\";\nimport { ClipRect } from \"../scene/clipRect\";\nimport { Navigator } from \"./navigator/navigator\";\nvar CartesianChart = /** @class */ (function (_super) {\n    __extends(CartesianChart, _super);\n    function CartesianChart(document) {\n        if (document === void 0) { document = window.document; }\n        var _this = _super.call(this, document) || this;\n        _this._seriesRoot = new ClipRect();\n        _this.navigator = new Navigator(_this);\n        // Prevent the scene from rendering chart components in an invalid state\n        // (before first layout is performed).\n        _this.scene.root.visible = false;\n        var root = _this.scene.root;\n        root.append(_this.seriesRoot);\n        root.append(_this.legend.group);\n        _this.navigator.enabled = false;\n        return _this;\n    }\n    Object.defineProperty(CartesianChart.prototype, \"seriesRoot\", {\n        get: function () {\n            return this._seriesRoot;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CartesianChart.prototype.performLayout = function () {\n        if (this.dataPending) {\n            return;\n        }\n        this.scene.root.visible = true;\n        var _a = this, width = _a.width, height = _a.height, axes = _a.axes, legend = _a.legend, navigator = _a.navigator;\n        var shrinkRect = new BBox(0, 0, width, height);\n        this.positionCaptions();\n        this.positionLegend();\n        if (legend.enabled && legend.data.length) {\n            var legendAutoPadding = this.legendAutoPadding;\n            var legendPadding = this.legend.spacing;\n            shrinkRect.x += legendAutoPadding.left;\n            shrinkRect.y += legendAutoPadding.top;\n            shrinkRect.width -= legendAutoPadding.left + legendAutoPadding.right;\n            shrinkRect.height -= legendAutoPadding.top + legendAutoPadding.bottom;\n            switch (this.legend.position) {\n                case 'right':\n                    shrinkRect.width -= legendPadding;\n                    break;\n                case 'bottom':\n                    shrinkRect.height -= legendPadding;\n                    break;\n                case 'left':\n                    shrinkRect.x += legendPadding;\n                    shrinkRect.width -= legendPadding;\n                    break;\n                case 'top':\n                    shrinkRect.y += legendPadding;\n                    shrinkRect.height -= legendPadding;\n                    break;\n            }\n        }\n        var _b = this, captionAutoPadding = _b.captionAutoPadding, padding = _b.padding;\n        this.updateAxes();\n        shrinkRect.x += padding.left;\n        shrinkRect.width -= padding.left + padding.right;\n        shrinkRect.y += padding.top + captionAutoPadding;\n        shrinkRect.height -= padding.top + captionAutoPadding + padding.bottom;\n        if (navigator.enabled) {\n            shrinkRect.height -= navigator.height + navigator.margin;\n        }\n        var bottomAxesHeight = 0;\n        axes.forEach(function (axis) {\n            axis.group.visible = true;\n            var axisThickness = Math.floor(axis.computeBBox().width);\n            switch (axis.position) {\n                case ChartAxisPosition.Top:\n                    shrinkRect.y += axisThickness;\n                    shrinkRect.height -= axisThickness;\n                    axis.translation.y = Math.floor(shrinkRect.y + 1);\n                    axis.label.mirrored = true;\n                    break;\n                case ChartAxisPosition.Right:\n                    shrinkRect.width -= axisThickness;\n                    axis.translation.x = Math.floor(shrinkRect.x + shrinkRect.width);\n                    axis.label.mirrored = true;\n                    break;\n                case ChartAxisPosition.Bottom:\n                    shrinkRect.height -= axisThickness;\n                    bottomAxesHeight += axisThickness;\n                    axis.translation.y = Math.floor(shrinkRect.y + shrinkRect.height + 1);\n                    break;\n                case ChartAxisPosition.Left:\n                    shrinkRect.x += axisThickness;\n                    shrinkRect.width -= axisThickness;\n                    axis.translation.x = Math.floor(shrinkRect.x);\n                    break;\n            }\n        });\n        axes.forEach(function (axis) {\n            switch (axis.position) {\n                case ChartAxisPosition.Top:\n                    axis.translation.x = Math.floor(shrinkRect.x);\n                    axis.range = [0, shrinkRect.width];\n                    axis.gridLength = shrinkRect.height;\n                    break;\n                case ChartAxisPosition.Right:\n                    axis.translation.y = Math.floor(shrinkRect.y);\n                    if (axis instanceof CategoryAxis || axis instanceof GroupedCategoryAxis) {\n                        axis.range = [0, shrinkRect.height];\n                    }\n                    else {\n                        axis.range = [shrinkRect.height, 0];\n                    }\n                    axis.gridLength = shrinkRect.width;\n                    break;\n                case ChartAxisPosition.Bottom:\n                    axis.translation.x = Math.floor(shrinkRect.x);\n                    axis.range = [0, shrinkRect.width];\n                    axis.gridLength = shrinkRect.height;\n                    break;\n                case ChartAxisPosition.Left:\n                    axis.translation.y = Math.floor(shrinkRect.y);\n                    if (axis instanceof CategoryAxis || axis instanceof GroupedCategoryAxis) {\n                        axis.range = [0, shrinkRect.height];\n                    }\n                    else {\n                        axis.range = [shrinkRect.height, 0];\n                    }\n                    axis.gridLength = shrinkRect.width;\n                    break;\n            }\n        });\n        this.seriesRect = shrinkRect;\n        this.series.forEach(function (series) {\n            series.group.translationX = Math.floor(shrinkRect.x);\n            series.group.translationY = Math.floor(shrinkRect.y);\n            series.update(); // this has to happen after the `updateAxes` call\n        });\n        var seriesRoot = this.seriesRoot;\n        seriesRoot.x = shrinkRect.x;\n        seriesRoot.y = shrinkRect.y;\n        seriesRoot.width = shrinkRect.width;\n        seriesRoot.height = shrinkRect.height;\n        if (navigator.enabled) {\n            navigator.x = shrinkRect.x;\n            navigator.y = shrinkRect.y + shrinkRect.height + bottomAxesHeight + navigator.margin;\n            navigator.width = shrinkRect.width;\n        }\n        this.axes.forEach(function (axis) { return axis.update(); });\n    };\n    CartesianChart.prototype.initSeries = function (series) {\n        _super.prototype.initSeries.call(this, series);\n        series.addEventListener('dataProcessed', this.updateAxes, this);\n    };\n    CartesianChart.prototype.freeSeries = function (series) {\n        _super.prototype.freeSeries.call(this, series);\n        series.removeEventListener('dataProcessed', this.updateAxes, this);\n    };\n    CartesianChart.prototype.onMouseDown = function (event) {\n        _super.prototype.onMouseDown.call(this, event);\n        this.navigator.onMouseDown(event);\n    };\n    CartesianChart.prototype.onMouseMove = function (event) {\n        _super.prototype.onMouseMove.call(this, event);\n        this.navigator.onMouseMove(event);\n    };\n    CartesianChart.prototype.onMouseUp = function (event) {\n        _super.prototype.onMouseUp.call(this, event);\n        this.navigator.onMouseUp(event);\n    };\n    CartesianChart.prototype.onMouseOut = function (event) {\n        _super.prototype.onMouseOut.call(this, event);\n        this.navigator.onMouseUp(event);\n    };\n    CartesianChart.prototype.updateAxes = function () {\n        this.axes.forEach(function (axis) {\n            var _a;\n            var direction = axis.direction, boundSeries = axis.boundSeries;\n            if (axis.linkedTo) {\n                axis.domain = axis.linkedTo.domain;\n            }\n            else {\n                var domains_1 = [];\n                boundSeries.filter(function (s) { return s.visible; }).forEach(function (series) {\n                    domains_1.push(series.getDomain(direction));\n                });\n                var domain = (_a = new Array()).concat.apply(_a, domains_1);\n                axis.domain = numericExtent(domain) || domain; // if numeric extent can't be found, it's categories\n            }\n            axis.update();\n        });\n    };\n    CartesianChart.className = 'CartesianChart';\n    CartesianChart.type = 'cartesian';\n    return CartesianChart;\n}(Chart));\nexport { CartesianChart };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CartesianChart } from \"./cartesianChart\";\nimport { numericExtent } from \"../util/array\";\nimport { ChartAxisDirection } from \"./chartAxis\";\nvar GroupedCategoryChart = /** @class */ (function (_super) {\n    __extends(GroupedCategoryChart, _super);\n    function GroupedCategoryChart() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GroupedCategoryChart.prototype.updateAxes = function () {\n        this.axes.forEach(function (axis) {\n            var _a;\n            var direction = axis.direction, boundSeries = axis.boundSeries;\n            var domains = [];\n            var isNumericX = undefined;\n            boundSeries.filter(function (s) { return s.visible; }).forEach(function (series) {\n                if (direction === ChartAxisDirection.X) {\n                    if (isNumericX === undefined) {\n                        // always add first X domain\n                        var domain_1 = series.getDomain(direction);\n                        domains.push(domain_1);\n                        isNumericX = typeof domain_1[0] === 'number';\n                    }\n                    else if (isNumericX) {\n                        // only add further X domains if the axis is numeric\n                        domains.push(series.getDomain(direction));\n                    }\n                }\n                else {\n                    domains.push(series.getDomain(direction));\n                }\n            });\n            var domain = (_a = new Array()).concat.apply(_a, domains);\n            axis.domain = numericExtent(domain) || domain;\n            axis.update();\n        });\n    };\n    return GroupedCategoryChart;\n}(CartesianChart));\nexport { GroupedCategoryChart };\n","export var borneo = {\n    fills: [\n        '#f3622d',\n        '#fba71b',\n        '#57b757',\n        '#41a9c9',\n        '#4258c9',\n        '#9a42c8',\n        '#c84164',\n        '#888888'\n    ],\n    strokes: [\n        '#aa4520',\n        '#b07513',\n        '#3d803d',\n        '#2d768d',\n        '#2e3e8d',\n        '#6c2e8c',\n        '#8c2d46',\n        '#5f5f5f'\n    ]\n};\nexport var material = {\n    fills: [\n        '#f44336',\n        '#e91e63',\n        '#9c27b0',\n        '#673ab7',\n        '#3f51b5',\n        '#2196f3',\n        '#03a9f4',\n        '#00bcd4',\n        '#009688',\n        '#4caf50',\n        '#8bc34a',\n        '#cddc39',\n        '#ffeb3b',\n        '#ffc107',\n        '#ff9800',\n        '#ff5722'\n    ],\n    strokes: [\n        '#ab2f26',\n        '#a31545',\n        '#6d1b7b',\n        '#482980',\n        '#2c397f',\n        '#1769aa',\n        '#0276ab',\n        '#008494',\n        '#00695f',\n        '#357a38',\n        '#618834',\n        '#909a28',\n        '#b3a429',\n        '#b38705',\n        '#b36a00',\n        '#b33d18'\n    ]\n};\nexport var pastel = {\n    fills: [\n        '#c16068',\n        '#a2bf8a',\n        '#ebcc87',\n        '#80a0c3',\n        '#b58dae',\n        '#85c0d1'\n    ],\n    strokes: [\n        '#874349',\n        '#718661',\n        '#a48f5f',\n        '#5a7088',\n        '#7f637a',\n        '#5d8692'\n    ]\n};\nexport var bright = {\n    fills: [\n        '#5BC0EB',\n        '#FDE74C',\n        '#9BC53D',\n        '#E55934',\n        '#FA7921',\n        '#fa3081'\n    ],\n    strokes: [\n        '#4086a4',\n        '#b1a235',\n        '#6c8a2b',\n        '#a03e24',\n        '#af5517',\n        '#af225a'\n    ]\n};\nexport var flat = {\n    fills: [\n        '#febe76',\n        '#ff7979',\n        '#badc58',\n        '#f9ca23',\n        '#f0932b',\n        '#eb4c4b',\n        '#6ab04c',\n        '#7ed6df',\n        '#e056fd',\n        '#686de0'\n    ],\n    strokes: [\n        '#b28553',\n        '#b35555',\n        '#829a3e',\n        '#ae8d19',\n        '#a8671e',\n        '#a43535',\n        '#4a7b35',\n        '#58969c',\n        '#9d3cb1',\n        '#494c9d'\n    ]\n};\nexport default borneo;\nexport var palettes = (function () {\n    var map = new Map();\n    map.set('borneo', borneo);\n    map.set('material', material);\n    map.set('pastel', pastel);\n    map.set('bright', bright);\n    map.set('flat', flat);\n    return map;\n})();\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from \"../series\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { SeriesMarker } from \"../seriesMarker\";\nvar PolarSeries = /** @class */ (function (_super) {\n    __extends(PolarSeries, _super);\n    function PolarSeries() {\n        var _a;\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.directionKeys = (_a = {},\n            _a[ChartAxisDirection.X] = ['angleKey'],\n            _a[ChartAxisDirection.Y] = ['radiusKey'],\n            _a);\n        /**\n         * The center of the polar series (for example, the center of a pie).\n         * If the polar chart has multiple series, all of them will have their\n         * center set to the same value as a result of the polar chart layout.\n         * The center coordinates are not supposed to be set by the user.\n         */\n        _this.centerX = 0;\n        _this.centerY = 0;\n        /**\n         * The maximum radius the series can use.\n         * This value is set automatically as a result of the polar chart layout\n         * and is not supposed to be set by the user.\n         */\n        _this.radius = 0;\n        return _this;\n    }\n    return PolarSeries;\n}(Series));\nexport { PolarSeries };\nvar PolarSeriesMarker = /** @class */ (function (_super) {\n    __extends(PolarSeriesMarker, _super);\n    function PolarSeriesMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return PolarSeriesMarker;\n}(SeriesMarker));\nexport { PolarSeriesMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Chart } from \"./chart\";\nimport { PolarSeries } from \"./series/polar/polarSeries\";\nimport { reactive } from \"../util/observable\";\nimport { Padding } from \"../util/padding\";\nimport { BBox } from \"../scene/bbox\";\nvar PolarChart = /** @class */ (function (_super) {\n    __extends(PolarChart, _super);\n    function PolarChart(document) {\n        if (document === void 0) { document = window.document; }\n        var _this = _super.call(this, document) || this;\n        _this.padding = new Padding(40);\n        _this.scene.root.append(_this.legend.group);\n        return _this;\n    }\n    Object.defineProperty(PolarChart.prototype, \"seriesRoot\", {\n        get: function () {\n            return this.scene.root;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PolarChart.prototype.performLayout = function () {\n        var shrinkRect = new BBox(0, 0, this.width, this.height);\n        this.positionCaptions();\n        this.positionLegend();\n        var captionAutoPadding = this.captionAutoPadding;\n        shrinkRect.y += captionAutoPadding;\n        shrinkRect.height -= captionAutoPadding;\n        if (this.legend.enabled && this.legend.data.length) {\n            var legendAutoPadding = this.legendAutoPadding;\n            shrinkRect.x += legendAutoPadding.left;\n            shrinkRect.y += legendAutoPadding.top;\n            shrinkRect.width -= legendAutoPadding.left + legendAutoPadding.right;\n            shrinkRect.height -= legendAutoPadding.top + legendAutoPadding.bottom;\n            var legendPadding = this.legend.spacing;\n            switch (this.legend.position) {\n                case 'right':\n                    shrinkRect.width -= legendPadding;\n                    break;\n                case 'bottom':\n                    shrinkRect.height -= legendPadding;\n                    break;\n                case 'left':\n                    shrinkRect.x += legendPadding;\n                    shrinkRect.width -= legendPadding;\n                    break;\n                case 'top':\n                    shrinkRect.y += legendPadding;\n                    shrinkRect.height -= legendPadding;\n                    break;\n            }\n        }\n        var padding = this.padding;\n        shrinkRect.x += padding.left;\n        shrinkRect.y += padding.top;\n        shrinkRect.width -= padding.left + padding.right;\n        shrinkRect.height -= padding.top + padding.bottom;\n        this.seriesRect = shrinkRect;\n        var centerX = shrinkRect.x + shrinkRect.width / 2;\n        var centerY = shrinkRect.y + shrinkRect.height / 2;\n        var radius = Math.min(shrinkRect.width, shrinkRect.height) / 2;\n        this.series.forEach(function (series) {\n            if (series instanceof PolarSeries) {\n                series.centerX = centerX;\n                series.centerY = centerY;\n                series.radius = radius;\n                series.update();\n            }\n        });\n    };\n    PolarChart.className = 'PolarChart';\n    PolarChart.type = 'polar';\n    __decorate([\n        reactive('layoutChange')\n    ], PolarChart.prototype, \"padding\", void 0);\n    return PolarChart;\n}(Chart));\nexport { PolarChart };\n","export function equal(a, b) {\n    if (a === b)\n        return true;\n    if (a && b && typeof a == 'object' && typeof b == 'object') {\n        if (a.constructor !== b.constructor)\n            return false;\n        var length_1, i = void 0;\n        if (Array.isArray(a)) {\n            length_1 = a.length;\n            if (length_1 != b.length)\n                return false;\n            for (i = length_1; i-- !== 0;)\n                if (!equal(a[i], b[i]))\n                    return false;\n            return true;\n        }\n        // if ((a instanceof Map) && (b instanceof Map)) {\n        //     if (a.size !== b.size) return false;\n        //     for (i of a.entries())\n        //         if (!b.has(i[0])) return false;\n        //     for (i of a.entries())\n        //         if (!equal(i[1], b.get(i[0]))) return false;\n        //     return true;\n        // }\n        //\n        // if ((a instanceof Set) && (b instanceof Set)) {\n        //     if (a.size !== b.size) return false;\n        //     for (i of a.entries())\n        //         if (!b.has(i[0])) return false;\n        //     return true;\n        // }\n        //\n        // if (ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n        //     length = a.length;\n        //     if (length != b.length) return false;\n        //     for (i = length; i-- !== 0;)\n        //         if (a[i] !== b[i]) return false;\n        //     return true;\n        // }\n        if (a.constructor === RegExp)\n            return a.source === b.source && a.flags === b.flags;\n        if (a.valueOf !== Object.prototype.valueOf)\n            return a.valueOf() === b.valueOf();\n        if (a.toString !== Object.prototype.toString)\n            return a.toString() === b.toString();\n        var keys = Object.keys(a);\n        length_1 = keys.length;\n        if (length_1 !== Object.keys(b).length)\n            return false;\n        for (i = length_1; i-- !== 0;)\n            if (!Object.prototype.hasOwnProperty.call(b, keys[i]))\n                return false;\n        for (i = length_1; i-- !== 0;) {\n            var key = keys[i];\n            if (!equal(a[key], b[key]))\n                return false;\n        }\n        return true;\n    }\n    // true if both NaN, false otherwise\n    return a !== a && b !== b;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from \"../../../scene/group\";\nimport { Selection } from \"../../../scene/selection\";\nimport { PointerEvents } from \"../../../scene/node\";\nimport { Path } from \"../../../scene/shape/path\";\nimport palette from \"../../palettes\";\nimport { CartesianSeries, CartesianSeriesMarker } from \"./cartesianSeries\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { getMarker } from \"../../marker/util\";\nimport { Chart } from \"../../chart\";\nimport { findLargestMinMax, findMinMax } from \"../../../util/array\";\nimport { toFixed } from \"../../../util/number\";\nimport { equal } from \"../../../util/equal\";\nimport { reactive } from \"../../../util/observable\";\nvar AreaSeries = /** @class */ (function (_super) {\n    __extends(AreaSeries, _super);\n    function AreaSeries() {\n        var _this = _super.call(this) || this;\n        _this.areaGroup = _this.group.appendChild(new Group);\n        _this.strokeGroup = _this.group.appendChild(new Group);\n        _this.markerGroup = _this.group.appendChild(new Group);\n        _this.areaSelection = Selection.select(_this.areaGroup).selectAll();\n        _this.strokeSelection = Selection.select(_this.strokeGroup).selectAll();\n        _this.markerSelection = Selection.select(_this.markerGroup).selectAll();\n        _this.markerSelectionData = [];\n        /**\n         * The assumption is that the values will be reset (to `true`)\n         * in the {@link yKeys} setter.\n         */\n        _this.seriesItemEnabled = new Map();\n        _this.xData = [];\n        _this.yData = [];\n        _this.yDomain = [];\n        _this.directionKeys = {\n            x: ['xKey'],\n            y: ['yKeys']\n        };\n        _this.marker = new CartesianSeriesMarker();\n        _this.fills = palette.fills;\n        _this.strokes = palette.strokes;\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        _this._xKey = '';\n        _this.xName = '';\n        _this._yKeys = [];\n        _this.yNames = [];\n        _this.strokeWidth = 2;\n        _this.highlightStyle = { fill: 'yellow' };\n        _this.addEventListener('update', _this.update);\n        _this.marker.enabled = false;\n        _this.marker.addPropertyListener('shape', _this.onMarkerShapeChange, _this);\n        _this.marker.addEventListener('change', _this.update, _this);\n        return _this;\n    }\n    AreaSeries.prototype.onMarkerShapeChange = function () {\n        this.markerSelection = this.markerSelection.setData([]);\n        this.markerSelection.exit.remove();\n        this.update();\n        this.fireEvent({ type: 'legendChange' });\n    };\n    Object.defineProperty(AreaSeries.prototype, \"xKey\", {\n        get: function () {\n            return this._xKey;\n        },\n        set: function (value) {\n            if (this._xKey !== value) {\n                this._xKey = value;\n                this.xData = [];\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AreaSeries.prototype, \"yKeys\", {\n        get: function () {\n            return this._yKeys;\n        },\n        set: function (values) {\n            if (!equal(this._yKeys, values)) {\n                this._yKeys = values;\n                this.yData = [];\n                var seriesItemEnabled_1 = this.seriesItemEnabled;\n                seriesItemEnabled_1.clear();\n                values.forEach(function (key) { return seriesItemEnabled_1.set(key, true); });\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AreaSeries.prototype, \"normalizedTo\", {\n        get: function () {\n            return this._normalizedTo;\n        },\n        set: function (value) {\n            var absValue = value ? Math.abs(value) : undefined;\n            if (this._normalizedTo !== absValue) {\n                this._normalizedTo = absValue;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AreaSeries.prototype.onHighlightChange = function () {\n        this.updateMarkerNodes();\n    };\n    AreaSeries.prototype.processData = function () {\n        var _a = this, xKey = _a.xKey, yKeys = _a.yKeys, seriesItemEnabled = _a.seriesItemEnabled;\n        var data = xKey && yKeys.length && this.data ? this.data : [];\n        // if (!(chart && chart.xAxis && chart.yAxis)) {\n        //     return false;\n        // }\n        // If the data is an array of rows like so:\n        //\n        // [{\n        //   xKy: 'Jan',\n        //   yKey1: 5,\n        //   yKey2: 7,\n        //   yKey3: -9,\n        // }, {\n        //   xKey: 'Feb',\n        //   yKey1: 10,\n        //   yKey2: -15,\n        //   yKey3: 20\n        // }]\n        //\n        var keysFound = true; // only warn once\n        this.xData = data.map(function (datum) {\n            if (keysFound && !(xKey in datum)) {\n                keysFound = false;\n                console.warn(\"The key '\" + xKey + \"' was not found in the data: \", datum);\n            }\n            return datum[xKey];\n        });\n        this.yData = data.map(function (datum) { return yKeys.map(function (yKey) {\n            if (keysFound && !(yKey in datum)) {\n                keysFound = false;\n                console.warn(\"The key '\" + yKey + \"' was not found in the data: \", datum);\n            }\n            var value = datum[yKey];\n            return isFinite(value) && seriesItemEnabled.get(yKey) ? value : 0;\n        }); });\n        // xData: ['Jan', 'Feb']\n        //\n        // yData: [\n        //   [5, 7, -9],\n        //   [10, -15, 20]\n        // ]\n        var _b = this, yData = _b.yData, normalizedTo = _b.normalizedTo;\n        var yMinMax = yData.map(function (values) { return findMinMax(values); }); // used for normalization\n        var yLargestMinMax = findLargestMinMax(yMinMax);\n        var yMin;\n        var yMax;\n        if (normalizedTo && isFinite(normalizedTo)) {\n            yMin = yLargestMinMax.min < 0 ? -normalizedTo : 0;\n            yMax = normalizedTo;\n            yData.forEach(function (stack, i) { return stack.forEach(function (y, j) {\n                if (y < 0) {\n                    stack[j] = -y / yMinMax[i].min * normalizedTo;\n                }\n                else {\n                    stack[j] = y / yMinMax[i].max * normalizedTo;\n                }\n            }); });\n        }\n        else {\n            yMin = yLargestMinMax.min;\n            yMax = yLargestMinMax.max;\n        }\n        if (yMin === 0 && yMax === 0) {\n            yMax = 1;\n        }\n        this.yDomain = this.fixNumericExtent([yMin, yMax], 'y');\n        this.fireEvent({ type: 'dataProcessed' });\n        return true;\n    };\n    AreaSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.xData;\n        }\n        else {\n            return this.yDomain;\n        }\n    };\n    AreaSeries.prototype.update = function () {\n        var _a = this, visible = _a.visible, chart = _a.chart, xAxis = _a.xAxis, yAxis = _a.yAxis, xData = _a.xData, yData = _a.yData;\n        this.group.visible = visible && !!(xData.length && yData.length);\n        if (!xAxis || !yAxis || !visible || !chart || chart.layoutPending || chart.dataPending || !xData.length || !yData.length) {\n            return;\n        }\n        var _b = this.generateSelectionData(), areaSelectionData = _b.areaSelectionData, markerSelectionData = _b.markerSelectionData;\n        this.updateAreaSelection(areaSelectionData);\n        this.updateStrokeSelection(areaSelectionData);\n        this.updateMarkerSelection(markerSelectionData);\n        this.updateMarkerNodes();\n        this.markerSelectionData = markerSelectionData;\n    };\n    AreaSeries.prototype.generateSelectionData = function () {\n        var _this = this;\n        var _a = this, yKeys = _a.yKeys, data = _a.data, xData = _a.xData, yData = _a.yData, marker = _a.marker, fills = _a.fills, strokes = _a.strokes, xScale = _a.xAxis.scale, yScale = _a.yAxis.scale;\n        var xOffset = (xScale.bandwidth || 0) / 2;\n        var yOffset = (yScale.bandwidth || 0) / 2;\n        var areaSelectionData = [];\n        var markerSelectionData = [];\n        var last = xData.length * 2 - 1;\n        xData.forEach(function (xDatum, i) {\n            var yDatum = yData[i];\n            var seriesDatum = data[i];\n            var x = xScale.convert(xDatum) + xOffset;\n            var prevMin = 0;\n            var prevMax = 0;\n            yDatum.forEach(function (curr, j) {\n                var prev = curr < 0 ? prevMin : prevMax;\n                var y = yScale.convert(prev + curr) + yOffset;\n                var yKey = yKeys[j];\n                var yValue = seriesDatum[yKey];\n                if (marker) {\n                    markerSelectionData.push({\n                        series: _this,\n                        seriesDatum: seriesDatum,\n                        yValue: yValue,\n                        yKey: yKey,\n                        point: { x: x, y: y },\n                        fill: fills[j % fills.length],\n                        stroke: strokes[j % strokes.length]\n                    });\n                }\n                var areaDatum = areaSelectionData[j] || (areaSelectionData[j] = { yKey: yKey, points: [] });\n                var areaPoints = areaDatum.points;\n                areaPoints[i] = { x: x, y: y };\n                areaPoints[last - i] = { x: x, y: yScale.convert(prev) + yOffset }; // bottom y\n                if (curr < 0) {\n                    prevMin += curr;\n                }\n                else {\n                    prevMax += curr;\n                }\n            });\n        });\n        return { areaSelectionData: areaSelectionData, markerSelectionData: markerSelectionData };\n    };\n    AreaSeries.prototype.updateAreaSelection = function (areaSelectionData) {\n        var _a = this, fills = _a.fills, fillOpacity = _a.fillOpacity, seriesItemEnabled = _a.seriesItemEnabled, shadow = _a.shadow;\n        var updateAreas = this.areaSelection.setData(areaSelectionData);\n        updateAreas.exit.remove();\n        var enterAreas = updateAreas.enter.append(Path)\n            .each(function (path) {\n            path.stroke = undefined;\n            path.pointerEvents = PointerEvents.None;\n        });\n        var areaSelection = updateAreas.merge(enterAreas);\n        areaSelection.each(function (shape, datum, index) {\n            var path = shape.path;\n            shape.fill = fills[index % fills.length];\n            shape.fillOpacity = fillOpacity;\n            shape.fillShadow = shadow;\n            shape.visible = !!seriesItemEnabled.get(datum.yKey);\n            path.clear();\n            var points = datum.points;\n            points.forEach(function (_a, i) {\n                var x = _a.x, y = _a.y;\n                if (i > 0) {\n                    path.lineTo(x, y);\n                }\n                else {\n                    path.moveTo(x, y);\n                }\n            });\n            path.closePath();\n        });\n        this.areaSelection = areaSelection;\n    };\n    AreaSeries.prototype.updateStrokeSelection = function (areaSelectionData) {\n        var _a = this, strokes = _a.strokes, strokeWidth = _a.strokeWidth, strokeOpacity = _a.strokeOpacity, data = _a.data, seriesItemEnabled = _a.seriesItemEnabled;\n        var updateStrokes = this.strokeSelection.setData(areaSelectionData);\n        updateStrokes.exit.remove();\n        var enterStrokes = updateStrokes.enter.append(Path)\n            .each(function (path) {\n            path.fill = undefined;\n            path.lineJoin = path.lineCap = 'round';\n            path.pointerEvents = PointerEvents.None;\n        });\n        var strokeSelection = updateStrokes.merge(enterStrokes);\n        strokeSelection.each(function (shape, datum, index) {\n            var path = shape.path;\n            shape.stroke = strokes[index % strokes.length];\n            shape.strokeWidth = strokeWidth;\n            shape.visible = !!seriesItemEnabled.get(datum.yKey);\n            shape.strokeOpacity = strokeOpacity;\n            path.clear();\n            var points = datum.points;\n            // The stroke doesn't go all the way around the fill, only on top,\n            // that's why we iterate until `data.length` (rather than `points.length`) and stop.\n            for (var i = 0; i < data.length; i++) {\n                var _a = points[i], x = _a.x, y = _a.y;\n                if (i > 0) {\n                    path.lineTo(x, y);\n                }\n                else {\n                    path.moveTo(x, y);\n                }\n            }\n        });\n        this.strokeSelection = strokeSelection;\n    };\n    AreaSeries.prototype.updateMarkerSelection = function (markerSelectionData) {\n        var marker = this.marker;\n        var data = marker.shape ? markerSelectionData : [];\n        var MarkerShape = getMarker(marker.shape);\n        var updateMarkers = this.markerSelection.setData(data);\n        updateMarkers.exit.remove();\n        var enterMarkers = updateMarkers.enter.append(MarkerShape);\n        this.markerSelection = updateMarkers.merge(enterMarkers);\n    };\n    AreaSeries.prototype.updateMarkerNodes = function () {\n        var marker = this.marker;\n        var markerFormatter = marker.formatter;\n        var markerStrokeWidth = marker.strokeWidth !== undefined ? marker.strokeWidth : this.strokeWidth;\n        var markerSize = marker.size;\n        var _a = this, xKey = _a.xKey, seriesItemEnabled = _a.seriesItemEnabled;\n        var highlightedDatum = this.chart.highlightedDatum;\n        var _b = this.highlightStyle, highlightFill = _b.fill, highlightStroke = _b.stroke;\n        this.markerSelection.each(function (node, datum) {\n            var highlighted = datum === highlightedDatum;\n            var markerFill = highlighted && highlightFill !== undefined ? highlightFill : marker.fill || datum.fill;\n            var markerStroke = highlighted && highlightStroke !== undefined ? highlightStroke : marker.stroke || datum.stroke;\n            var markerFormat = undefined;\n            if (markerFormatter) {\n                markerFormat = markerFormatter({\n                    datum: datum.seriesDatum,\n                    xKey: xKey,\n                    yKey: datum.yKey,\n                    fill: markerFill,\n                    stroke: markerStroke,\n                    strokeWidth: markerStrokeWidth,\n                    size: markerSize,\n                    highlighted: highlighted\n                });\n            }\n            node.fill = markerFormat && markerFormat.fill || markerFill;\n            node.stroke = markerFormat && markerFormat.stroke || markerStroke;\n            node.strokeWidth = markerFormat && markerFormat.strokeWidth !== undefined\n                ? markerFormat.strokeWidth\n                : markerStrokeWidth;\n            node.size = markerFormat && markerFormat.size !== undefined\n                ? markerFormat.size\n                : markerSize;\n            node.translationX = datum.point.x;\n            node.translationY = datum.point.y;\n            node.visible = marker.enabled && node.size > 0 && !!seriesItemEnabled.get(datum.yKey);\n        });\n    };\n    AreaSeries.prototype.getNodeData = function () {\n        return this.markerSelectionData;\n    };\n    AreaSeries.prototype.fireNodeClickEvent = function (datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            series: this,\n            datum: datum.seriesDatum,\n            xKey: this.xKey,\n            yKey: datum.yKey\n        });\n    };\n    AreaSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var xKey = this.xKey;\n        var yKey = nodeDatum.yKey;\n        if (!xKey || !yKey) {\n            return '';\n        }\n        var _a = this, xName = _a.xName, yKeys = _a.yKeys, yNames = _a.yNames, fills = _a.fills, tooltipRenderer = _a.tooltipRenderer;\n        var yKeyIndex = yKeys.indexOf(yKey);\n        var yName = yNames[yKeyIndex];\n        var color = fills[yKeyIndex % fills.length];\n        if (tooltipRenderer) {\n            return tooltipRenderer({\n                datum: nodeDatum.seriesDatum,\n                xKey: xKey,\n                xName: xName,\n                yKey: yKey,\n                yName: yName,\n                color: color\n            });\n        }\n        else {\n            var titleStyle = \"style=\\\"color: white; background-color: \" + color + \"\\\"\";\n            var titleString = yName ? \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-title\\\" \" + titleStyle + \">\" + yName + \"</div>\" : '';\n            var seriesDatum = nodeDatum.seriesDatum;\n            var xValue = seriesDatum[xKey];\n            var yValue = seriesDatum[yKey];\n            var xString = typeof xValue === 'number' ? toFixed(xValue) : String(xValue);\n            var yString = typeof yValue === 'number' ? toFixed(yValue) : String(yValue);\n            return titleString + \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-content\\\">\" + xString + \": \" + yString + \"</div>\";\n        }\n    };\n    AreaSeries.prototype.listSeriesItems = function (legendData) {\n        var _a = this, data = _a.data, id = _a.id, xKey = _a.xKey, yKeys = _a.yKeys, yNames = _a.yNames, seriesItemEnabled = _a.seriesItemEnabled, marker = _a.marker, fills = _a.fills, strokes = _a.strokes, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity;\n        if (data && data.length && xKey && yKeys.length) {\n            yKeys.forEach(function (yKey, index) {\n                legendData.push({\n                    id: id,\n                    itemId: yKey,\n                    enabled: seriesItemEnabled.get(yKey) || false,\n                    label: {\n                        text: yNames[index] || yKeys[index]\n                    },\n                    marker: {\n                        shape: marker.shape,\n                        fill: marker.fill || fills[index % fills.length],\n                        stroke: marker.stroke || strokes[index % strokes.length],\n                        fillOpacity: fillOpacity,\n                        strokeOpacity: strokeOpacity\n                    }\n                });\n            });\n        }\n    };\n    AreaSeries.prototype.toggleSeriesItem = function (itemId, enabled) {\n        this.seriesItemEnabled.set(itemId, enabled);\n        this.scheduleData();\n    };\n    AreaSeries.className = 'AreaSeries';\n    AreaSeries.type = 'area';\n    __decorate([\n        reactive('dataChange')\n    ], AreaSeries.prototype, \"fills\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], AreaSeries.prototype, \"strokes\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"xName\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"yNames\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"shadow\", void 0);\n    return AreaSeries;\n}(CartesianSeries));\nexport { AreaSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { Group } from \"../../../scene/group\";\nimport { Selection } from \"../../../scene/selection\";\nimport { Rect } from \"../../../scene/shape/rect\";\nimport { Text } from \"../../../scene/shape/text\";\nimport { BandScale } from \"../../../scale/bandScale\";\nimport palette from \"../../palettes\";\nimport { Label } from \"../../label\";\nimport { PointerEvents } from \"../../../scene/node\";\nimport { CartesianSeries } from \"./cartesianSeries\";\nimport { ChartAxisDirection, flipChartAxisDirection } from \"../../chartAxis\";\nimport { Chart } from \"../../chart\";\nimport { findLargestMinMax, findMinMax } from \"../../../util/array\";\nimport { toFixed } from \"../../../util/number\";\nimport { equal } from \"../../../util/equal\";\nimport { reactive } from \"../../../util/observable\";\nvar BarSeriesNodeTag;\n(function (BarSeriesNodeTag) {\n    BarSeriesNodeTag[BarSeriesNodeTag[\"Bar\"] = 0] = \"Bar\";\n    BarSeriesNodeTag[BarSeriesNodeTag[\"Label\"] = 1] = \"Label\";\n})(BarSeriesNodeTag || (BarSeriesNodeTag = {}));\nvar BarSeriesLabel = /** @class */ (function (_super) {\n    __extends(BarSeriesLabel, _super);\n    function BarSeriesLabel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        reactive('change')\n    ], BarSeriesLabel.prototype, \"formatter\", void 0);\n    return BarSeriesLabel;\n}(Label));\nvar BarSeries = /** @class */ (function (_super) {\n    __extends(BarSeries, _super);\n    function BarSeries() {\n        var _a;\n        var _this = _super.call(this) || this;\n        // Need to put bar and label nodes into separate groups, because even though label nodes are\n        // created after the bar nodes, this only guarantees that labels will always be on top of bars\n        // on the first run. If on the next run more bars are added, they might clip the labels\n        // rendered during the previous run.\n        _this.rectGroup = _this.group.appendChild(new Group);\n        _this.textGroup = _this.group.appendChild(new Group);\n        _this.rectSelection = Selection.select(_this.rectGroup).selectAll();\n        _this.textSelection = Selection.select(_this.textGroup).selectAll();\n        _this.xData = [];\n        _this.yData = [];\n        _this.yDomain = [];\n        _this.label = new BarSeriesLabel();\n        /**\n         * The assumption is that the values will be reset (to `true`)\n         * in the {@link yKeys} setter.\n         */\n        _this.seriesItemEnabled = new Map();\n        _this.flipXY = false;\n        _this.fills = palette.fills;\n        _this.strokes = palette.strokes;\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        /**\n         * Used to get the position of bars within each group.\n         */\n        _this.groupScale = new BandScale();\n        _this.directionKeys = (_a = {},\n            _a[ChartAxisDirection.X] = ['xKey'],\n            _a[ChartAxisDirection.Y] = ['yKeys'],\n            _a);\n        _this._xKey = '';\n        _this._xName = '';\n        /**\n         * With a single value in the `yKeys` array we get the regular bar series.\n         * With multiple values, we get the stacked bar series.\n         * If the {@link grouped} set to `true`, we get the grouped bar series.\n         * @param values\n         */\n        _this._yKeys = [];\n        _this._yNames = [];\n        _this.grouped = false;\n        _this._strokeWidth = 1;\n        _this.highlightStyle = { fill: 'yellow' };\n        _this.label.enabled = false;\n        _this.label.addEventListener('change', _this.update, _this);\n        return _this;\n    }\n    BarSeries.prototype.getKeys = function (direction) {\n        var _this = this;\n        var directionKeys = this.directionKeys;\n        var keys = directionKeys && directionKeys[this.flipXY ? flipChartAxisDirection(direction) : direction];\n        var values = [];\n        if (keys) {\n            keys.forEach(function (key) {\n                var value = _this[key];\n                if (value) {\n                    if (Array.isArray(value)) {\n                        values.push.apply(values, value);\n                    }\n                    else {\n                        values.push(value);\n                    }\n                }\n            });\n        }\n        return values;\n    };\n    Object.defineProperty(BarSeries.prototype, \"xKey\", {\n        get: function () {\n            return this._xKey;\n        },\n        set: function (value) {\n            if (this._xKey !== value) {\n                this._xKey = value;\n                this.xData = [];\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"xName\", {\n        get: function () {\n            return this._xName;\n        },\n        set: function (value) {\n            if (this._xName !== value) {\n                this._xName = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"yKeys\", {\n        get: function () {\n            return this._yKeys;\n        },\n        set: function (values) {\n            if (!equal(this._yKeys, values)) {\n                this._yKeys = values;\n                this.yData = [];\n                var seriesItemEnabled_1 = this.seriesItemEnabled;\n                seriesItemEnabled_1.clear();\n                values.forEach(function (key) { return seriesItemEnabled_1.set(key, true); });\n                var groupScale = this.groupScale;\n                groupScale.domain = values;\n                groupScale.padding = 0.1;\n                groupScale.round = true;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"yNames\", {\n        get: function () {\n            return this._yNames;\n        },\n        set: function (values) {\n            this._yNames = values;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"normalizedTo\", {\n        get: function () {\n            return this._normalizedTo;\n        },\n        set: function (value) {\n            var absValue = value ? Math.abs(value) : undefined;\n            if (this._normalizedTo !== absValue) {\n                this._normalizedTo = absValue;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"strokeWidth\", {\n        get: function () {\n            return this._strokeWidth;\n        },\n        set: function (value) {\n            if (this._strokeWidth !== value) {\n                this._strokeWidth = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"shadow\", {\n        get: function () {\n            return this._shadow;\n        },\n        set: function (value) {\n            if (this._shadow !== value) {\n                this._shadow = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BarSeries.prototype.onHighlightChange = function () {\n        this.updateRectNodes();\n    };\n    BarSeries.prototype.processData = function () {\n        var _a = this, xKey = _a.xKey, yKeys = _a.yKeys, seriesItemEnabled = _a.seriesItemEnabled;\n        var data = xKey && yKeys.length && this.data ? this.data : [];\n        // If the data is an array of rows like so:\n        //\n        // [{\n        //   xKey: 'Jan',\n        //   yKey1: 5,\n        //   yKey2: 7,\n        //   yKey3: -9,\n        // }, {\n        //   xKey: 'Feb',\n        //   yKey1: 10,\n        //   yKey2: -15,\n        //   yKey3: 20\n        // }]\n        //\n        var keysFound = true; // only warn once\n        this.xData = data.map(function (datum) {\n            if (keysFound && !(xKey in datum)) {\n                keysFound = false;\n                console.warn(\"The key '\" + xKey + \"' was not found in the data: \", datum);\n            }\n            return datum[xKey];\n        });\n        this.yData = data.map(function (datum) { return yKeys.map(function (yKey) {\n            if (keysFound && !(yKey in datum)) {\n                keysFound = false;\n                console.warn(\"The key '\" + yKey + \"' was not found in the data: \", datum);\n            }\n            var value = datum[yKey];\n            return isFinite(value) && seriesItemEnabled.get(yKey) ? value : 0;\n        }); });\n        // xData: ['Jan', 'Feb']\n        //\n        // yData: [\n        //   [5, 7, -9],\n        //   [10, -15, 20]\n        // ]\n        var yMinMax = this.yData.map(function (values) { return findMinMax(values); }); // used for normalization of stacked bars\n        var _b = this, yData = _b.yData, normalizedTo = _b.normalizedTo;\n        var yMin = Infinity;\n        var yMax = -Infinity;\n        if (this.grouped) {\n            // Find the tallest positive/negative bar in each group,\n            // then find the tallest positive/negative bar overall.\n            // The `yMin` should always be <= 0,\n            // otherwise with the `yData` like [300, 200, 100] the last bar\n            // will have zero height, because the y-axis range is [100, 300].\n            yMin = Math.min.apply(Math, __spreadArrays([0], yData.map(function (values) { return Math.min.apply(Math, values); })));\n            yMax = Math.max.apply(Math, yData.map(function (values) { return Math.max.apply(Math, values); }));\n        }\n        else { // stacked or regular\n            var yLargestMinMax = findLargestMinMax(yMinMax);\n            if (normalizedTo && isFinite(normalizedTo)) {\n                yMin = yLargestMinMax.min < 0 ? -normalizedTo : 0;\n                yMax = normalizedTo;\n                yData.forEach(function (stackValues, i) { return stackValues.forEach(function (y, j) {\n                    if (y < 0) {\n                        stackValues[j] = -y / yMinMax[i].min * normalizedTo;\n                    }\n                    else {\n                        stackValues[j] = y / yMinMax[i].max * normalizedTo;\n                    }\n                }); });\n            }\n            else {\n                yMin = yLargestMinMax.min;\n                yMax = yLargestMinMax.max;\n            }\n        }\n        this.yDomain = this.fixNumericExtent([yMin, yMax], 'y');\n        this.fireEvent({ type: 'dataProcessed' });\n        return true;\n    };\n    BarSeries.prototype.getDomain = function (direction) {\n        if (this.flipXY) {\n            direction = flipChartAxisDirection(direction);\n        }\n        if (direction === ChartAxisDirection.X) {\n            return this.xData;\n        }\n        else {\n            return this.yDomain;\n        }\n    };\n    BarSeries.prototype.fireNodeClickEvent = function (datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            series: this,\n            datum: datum.seriesDatum,\n            xKey: this.xKey,\n            yKey: datum.yKey\n        });\n    };\n    BarSeries.prototype.generateNodeData = function () {\n        var _this = this;\n        var _a = this, xAxis = _a.xAxis, yAxis = _a.yAxis, flipXY = _a.flipXY;\n        var xScale = (flipXY ? yAxis : xAxis).scale;\n        var yScale = (flipXY ? xAxis : yAxis).scale;\n        var _b = this, groupScale = _b.groupScale, yKeys = _b.yKeys, fills = _b.fills, strokes = _b.strokes, grouped = _b.grouped, strokeWidth = _b.strokeWidth, seriesItemEnabled = _b.seriesItemEnabled, data = _b.data, xData = _b.xData, yData = _b.yData;\n        var label = this.label;\n        var labelFontStyle = label.fontStyle;\n        var labelFontWeight = label.fontWeight;\n        var labelFontSize = label.fontSize;\n        var labelFontFamily = label.fontFamily;\n        var labelColor = label.color;\n        var labelFormatter = label.formatter;\n        groupScale.range = [0, xScale.bandwidth];\n        var barWidth = grouped ? groupScale.bandwidth : xScale.bandwidth;\n        var nodeData = [];\n        xData.forEach(function (category, i) {\n            var yDatum = yData[i];\n            var seriesDatum = data[i];\n            var x = xScale.convert(category);\n            var prevMin = 0;\n            var prevMax = 0;\n            yDatum.forEach(function (curr, j) {\n                var yKey = yKeys[j];\n                var barX = grouped ? x + groupScale.convert(yKey) : x;\n                var prev = curr < 0 ? prevMin : prevMax;\n                var y = yScale.convert(grouped ? curr : prev + curr);\n                var bottomY = yScale.convert(grouped ? 0 : prev);\n                var yValue = seriesDatum[yKey]; // unprocessed y-value\n                var yValueIsNumber = typeof yValue === 'number';\n                var labelText;\n                if (labelFormatter) {\n                    labelText = labelFormatter({ value: yValueIsNumber ? yValue : undefined });\n                }\n                else {\n                    labelText = yValueIsNumber && isFinite(yValue) ? yValue.toFixed(2) : '';\n                }\n                nodeData.push({\n                    series: _this,\n                    seriesDatum: seriesDatum,\n                    yValue: yValue,\n                    yKey: yKey,\n                    x: flipXY ? Math.min(y, bottomY) : barX,\n                    y: flipXY ? barX : Math.min(y, bottomY),\n                    width: flipXY ? Math.abs(bottomY - y) : barWidth,\n                    height: flipXY ? barWidth : Math.abs(bottomY - y),\n                    fill: fills[j % fills.length],\n                    stroke: strokes[j % strokes.length],\n                    strokeWidth: strokeWidth,\n                    label: seriesItemEnabled.get(yKey) && labelText ? {\n                        text: labelText,\n                        fontStyle: labelFontStyle,\n                        fontWeight: labelFontWeight,\n                        fontSize: labelFontSize,\n                        fontFamily: labelFontFamily,\n                        fill: labelColor,\n                        x: flipXY ? y + (yValue >= 0 ? -1 : 1) * Math.abs(bottomY - y) / 2 : barX + barWidth / 2,\n                        y: flipXY ? barX + barWidth / 2 : y + (yValue >= 0 ? 1 : -1) * Math.abs(bottomY - y) / 2\n                    } : undefined\n                });\n                if (!grouped) {\n                    if (curr < 0) {\n                        prevMin += curr;\n                    }\n                    else {\n                        prevMax += curr;\n                    }\n                }\n            });\n        });\n        return nodeData;\n    };\n    BarSeries.prototype.update = function () {\n        var _a = this, visible = _a.visible, chart = _a.chart, xAxis = _a.xAxis, yAxis = _a.yAxis, xData = _a.xData, yData = _a.yData;\n        this.group.visible = visible;\n        if (!chart || chart.layoutPending || chart.dataPending ||\n            !xAxis || !yAxis || !visible || !xData.length || !yData.length) {\n            return;\n        }\n        var nodeData = this.generateNodeData();\n        this.updateRectSelection(nodeData);\n        this.updateRectNodes();\n        this.updateTextSelection(nodeData);\n        this.updateTextNodes();\n    };\n    BarSeries.prototype.updateRectSelection = function (selectionData) {\n        var updateRects = this.rectSelection.setData(selectionData);\n        updateRects.exit.remove();\n        var enterRects = updateRects.enter.append(Rect).each(function (rect) {\n            rect.tag = BarSeriesNodeTag.Bar;\n            rect.crisp = true;\n        });\n        this.rectSelection = updateRects.merge(enterRects);\n    };\n    BarSeries.prototype.updateRectNodes = function () {\n        var _a = this, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity, shadow = _a.shadow, _b = _a.highlightStyle, fill = _b.fill, stroke = _b.stroke;\n        var highlightedDatum = this.chart.highlightedDatum;\n        this.rectSelection.each(function (rect, datum) {\n            var highlighted = datum === highlightedDatum;\n            rect.x = datum.x;\n            rect.y = datum.y;\n            rect.width = datum.width;\n            rect.height = datum.height;\n            rect.fill = highlighted && fill !== undefined ? fill : datum.fill;\n            rect.stroke = highlighted && stroke !== undefined ? stroke : datum.stroke;\n            rect.fillOpacity = fillOpacity;\n            rect.strokeOpacity = strokeOpacity;\n            rect.strokeWidth = datum.strokeWidth;\n            rect.fillShadow = shadow;\n            rect.visible = datum.height > 0; // prevent stroke from rendering for zero height bars\n        });\n    };\n    BarSeries.prototype.updateTextSelection = function (selectionData) {\n        var updateTexts = this.textSelection.setData(selectionData);\n        updateTexts.exit.remove();\n        var enterTexts = updateTexts.enter.append(Text).each(function (text) {\n            text.tag = BarSeriesNodeTag.Label;\n            text.pointerEvents = PointerEvents.None;\n            text.textAlign = 'center';\n            text.textBaseline = 'middle';\n        });\n        this.textSelection = updateTexts.merge(enterTexts);\n    };\n    BarSeries.prototype.updateTextNodes = function () {\n        var labelEnabled = this.label.enabled;\n        this.textSelection.each(function (text, datum) {\n            var label = datum.label;\n            if (label && labelEnabled) {\n                text.fontStyle = label.fontStyle;\n                text.fontWeight = label.fontWeight;\n                text.fontSize = label.fontSize;\n                text.fontFamily = label.fontFamily;\n                text.text = label.text;\n                text.x = label.x;\n                text.y = label.y;\n                text.fill = label.fill;\n                text.visible = true;\n            }\n            else {\n                text.visible = false;\n            }\n        });\n    };\n    BarSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var xKey = this.xKey;\n        var yKey = nodeDatum.yKey;\n        if (!xKey || !yKey) {\n            return '';\n        }\n        var _a = this, xName = _a.xName, yKeys = _a.yKeys, yNames = _a.yNames, fills = _a.fills, tooltipRenderer = _a.tooltipRenderer;\n        var datum = nodeDatum.seriesDatum;\n        var yKeyIndex = yKeys.indexOf(yKey);\n        var yName = yNames[yKeyIndex];\n        var color = fills[yKeyIndex % fills.length];\n        if (tooltipRenderer) {\n            return tooltipRenderer({\n                datum: datum,\n                xKey: xKey,\n                xName: xName,\n                yKey: yKey,\n                yName: yName,\n                color: color\n            });\n        }\n        else {\n            var titleStyle = \"style=\\\"color: white; background-color: \" + color + \"\\\"\";\n            var titleString = yName ? \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-title\\\" \" + titleStyle + \">\" + yName + \"</div>\" : '';\n            var xValue = datum[xKey];\n            var yValue = datum[yKey];\n            var xString = typeof xValue === 'number' ? toFixed(xValue) : String(xValue);\n            var yString = typeof yValue === 'number' ? toFixed(yValue) : String(yValue);\n            return titleString + \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-content\\\">\" + xString + \": \" + yString + \"</div>\";\n        }\n    };\n    BarSeries.prototype.listSeriesItems = function (legendData) {\n        var _a = this, id = _a.id, data = _a.data, xKey = _a.xKey, yKeys = _a.yKeys, yNames = _a.yNames, seriesItemEnabled = _a.seriesItemEnabled, fills = _a.fills, strokes = _a.strokes, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity;\n        if (data && data.length && xKey && yKeys.length) {\n            yKeys.forEach(function (yKey, index) {\n                legendData.push({\n                    id: id,\n                    itemId: yKey,\n                    enabled: seriesItemEnabled.get(yKey) || false,\n                    label: {\n                        text: yNames[index] || yKeys[index]\n                    },\n                    marker: {\n                        fill: fills[index % fills.length],\n                        stroke: strokes[index % strokes.length],\n                        fillOpacity: fillOpacity,\n                        strokeOpacity: strokeOpacity\n                    }\n                });\n            });\n        }\n    };\n    BarSeries.prototype.toggleSeriesItem = function (itemId, enabled) {\n        var seriesItemEnabled = this.seriesItemEnabled;\n        var enabledSeriesItems = [];\n        seriesItemEnabled.set(itemId, enabled);\n        seriesItemEnabled.forEach(function (enabled, yKey) {\n            if (enabled) {\n                enabledSeriesItems.push(yKey);\n            }\n        });\n        this.groupScale.domain = enabledSeriesItems;\n        this.scheduleData();\n    };\n    BarSeries.className = 'BarSeries';\n    BarSeries.type = 'bar';\n    __decorate([\n        reactive('layoutChange')\n    ], BarSeries.prototype, \"flipXY\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], BarSeries.prototype, \"fills\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], BarSeries.prototype, \"strokes\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], BarSeries.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], BarSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], BarSeries.prototype, \"grouped\", void 0);\n    return BarSeries;\n}(CartesianSeries));\nexport { BarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Observable, reactive } from \"../util/observable\";\nvar Label = /** @class */ (function (_super) {\n    __extends(Label, _super);\n    function Label() {\n        var _this = _super.call(this) || this;\n        _this.enabled = true;\n        _this.fontSize = 12;\n        _this.fontFamily = 'Verdana, sans-serif';\n        _this.color = 'rgba(70, 70, 70, 1)';\n        return _this;\n    }\n    __decorate([\n        reactive('change', 'dataChange')\n    ], Label.prototype, \"enabled\", void 0);\n    __decorate([\n        reactive('change')\n    ], Label.prototype, \"fontStyle\", void 0);\n    __decorate([\n        reactive('change')\n    ], Label.prototype, \"fontWeight\", void 0);\n    __decorate([\n        reactive('change')\n    ], Label.prototype, \"fontSize\", void 0);\n    __decorate([\n        reactive('change')\n    ], Label.prototype, \"fontFamily\", void 0);\n    __decorate([\n        reactive('change')\n    ], Label.prototype, \"color\", void 0);\n    return Label;\n}(Observable));\nexport { Label };\n","export default (function (x) { return function () { return x; }; });\n","export default function (a, b) {\n    a = +a;\n    b -= a;\n    return function (t) { return a + b * t; };\n}\n","export default function (a, b) {\n    var date = new Date;\n    var msA = +a;\n    var msB = +b - msA;\n    return function (t) {\n        date.setTime(msA + msB * t);\n        return date;\n    };\n}\n","import value from \"./value\";\nexport default function (a, b) {\n    var nb = b ? b.length : 0;\n    var na = a ? Math.min(nb, a.length) : 0;\n    var x = new Array(na);\n    var c = new Array(nb);\n    var i;\n    for (i = 0; i < na; ++i) {\n        x[i] = value(a[i], b[i]);\n    }\n    for (; i < nb; ++i) {\n        c[i] = b[i];\n    }\n    return function (t) {\n        for (i = 0; i < na; ++i) {\n            c[i] = x[i](t);\n        }\n        return c;\n    };\n}\n","import value from \"./value\";\nexport default function (a, b) {\n    var i = {};\n    var c = {};\n    var k;\n    if (a === null || typeof a !== 'object') {\n        a = {};\n    }\n    if (b === null || typeof b !== 'object') {\n        b = {};\n    }\n    for (k in b) {\n        if (k in a) {\n            i[k] = value(a[k], b[k]);\n        }\n        else {\n            c[k] = b[k];\n        }\n    }\n    return function (t) {\n        for (k in i) {\n            c[k] = i[k](t);\n        }\n        return c;\n    };\n}\n","import constant from \"./constant\";\nimport number from \"./number\";\nimport date from \"./date\";\nimport array from \"./array\";\nimport object from \"./object\";\nexport default function (a, b) {\n    var t = typeof b;\n    // let c;\n    return b == null || t === 'boolean' ? constant(b)\n        : (t === 'number' ? number\n            // : t === 'string' ? ((c = color(b)) ? (b = c, rgb) : string)\n            //     : b instanceof color ? rgb\n            : b instanceof Date ? date\n                : Array.isArray(b) ? array\n                    : typeof b.valueOf !== 'function' && typeof b.toString !== 'function' || isNaN(b) ? object\n                        : number)(a, b);\n}\n","import interpolateValue from \"../interpolate/value\";\nimport interpolateNumber from \"../interpolate/number\";\nexport var constant = function (x) { return function () { return x; }; };\nexport var identity = function (x) { return x; };\nfunction clamper(domain) {\n    var _a;\n    var a = domain[0];\n    var b = domain[domain.length - 1];\n    if (a > b) {\n        _a = [b, a], a = _a[0], b = _a[1];\n    }\n    return function (x) { return Math.max(a, Math.min(b, x)); };\n}\nvar ContinuousScale = /** @class */ (function () {\n    function ContinuousScale() {\n        /**\n         * The output value of the scale for `undefined` or `NaN` input values.\n         */\n        this.unknown = undefined;\n        this._clamp = identity;\n        this._domain = [0, 1];\n        this._range = [0, 1];\n        this.transform = identity; // transforms domain value\n        this.untransform = identity; // untransforms domain value\n        this._interpolate = interpolateValue;\n        this.rescale();\n    }\n    Object.defineProperty(ContinuousScale.prototype, \"clamp\", {\n        get: function () {\n            return this._clamp !== identity;\n        },\n        set: function (value) {\n            this._clamp = value ? clamper(this.domain) : identity;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ContinuousScale.prototype.setDomain = function (values) {\n        this._domain = Array.prototype.map.call(values, function (v) { return +v; });\n        if (this._clamp !== identity) {\n            this._clamp = clamper(this.domain);\n        }\n        this.rescale();\n    };\n    ContinuousScale.prototype.getDomain = function () {\n        return this._domain.slice();\n    };\n    Object.defineProperty(ContinuousScale.prototype, \"domain\", {\n        get: function () {\n            return this.getDomain();\n        },\n        set: function (values) {\n            this.setDomain(values);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ContinuousScale.prototype, \"range\", {\n        get: function () {\n            return this._range.slice();\n        },\n        set: function (values) {\n            this._range = Array.prototype.slice.call(values);\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ContinuousScale.prototype, \"interpolate\", {\n        get: function () {\n            return this._interpolate;\n        },\n        set: function (value) {\n            this._interpolate = value;\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ContinuousScale.prototype.rescale = function () {\n        if (Math.min(this.domain.length, this.range.length) > 2) {\n            // this.piecewise = this.polymap;\n        }\n        else {\n            this.piecewise = this.bimap;\n        }\n        this.output = undefined;\n        this.input = undefined;\n    };\n    /**\n     * Returns a function that converts `x` in `[a, b]` to `t` in `[0, 1]`. Non-clamping.\n     * @param a\n     * @param b\n     */\n    ContinuousScale.prototype.normalize = function (a, b) {\n        return (b -= (a = +a))\n            ? function (x) { return (x - a) / b; }\n            : constant(isNaN(b) ? NaN : 0.5);\n    };\n    ContinuousScale.prototype.bimap = function (domain, range, interpolate) {\n        var x0 = domain[0];\n        var x1 = domain[1];\n        var y0 = range[0];\n        var y1 = range[1];\n        var xt;\n        var ty;\n        if (x1 < x0) {\n            xt = this.normalize(x1, x0);\n            ty = interpolate(y1, y0);\n        }\n        else {\n            xt = this.normalize(x0, x1);\n            ty = interpolate(y0, y1);\n        }\n        return function (x) { return ty(xt(x)); }; // domain value x --> t in [0, 1] --> range value y\n    };\n    // private polymap(domain: any[], range: any[], interpolate: (a: any, b: any) => (t: number) => any): Reinterpolator<any> {\n    //     // number of segments in the polylinear scale\n    //     const n = Math.min(domain.length, range.length) - 1;\n    //     if (domain[n] < domain[0]) {\n    //         domain = domain.slice().reverse();\n    //         range = range.slice().reverse();\n    //     }\n    //     // deinterpolators from domain segment value to t\n    //     const dt = Array.from( {length: n}, (_, i) => this.normalize(domain[i], domain[i+1]) );\n    //     // reinterpolators from t to range segment value\n    //     const tr = Array.from( {length: n}, (_, i) => interpolate(range[i], range[i+1]) );\n    //     return (x) => {\n    //         const i = bisectRight(domain, x, ascending, 1, n) - 1; // Find the domain segment that `x` belongs to.\n    //         // This also tells us which deinterpolator/reinterpolator pair to use.\n    //         return tr[i](dt[i](x));\n    //     };\n    // }\n    ContinuousScale.prototype.convert = function (x) {\n        x = +x;\n        if (isNaN(x)) {\n            return this.unknown;\n        }\n        else {\n            if (!this.output) {\n                this.output = this.piecewise(this.domain.map(this.transform), this.range, this.interpolate);\n            }\n            return this.output(this.transform(this._clamp(x)));\n        }\n    };\n    ContinuousScale.prototype.invert = function (y) {\n        if (!this.input) {\n            this.input = this.piecewise(this.range, this.domain.map(this.transform), interpolateNumber);\n        }\n        return this._clamp(this.untransform(this.input(y)));\n    };\n    return ContinuousScale;\n}());\nexport default ContinuousScale;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Path } from \"../../../scene/shape/path\";\nimport ContinuousScale from \"../../../scale/continuousScale\";\nimport { Selection } from \"../../../scene/selection\";\nimport { Group } from \"../../../scene/group\";\nimport palette from \"../../palettes\";\nimport { numericExtent } from \"../../../util/array\";\nimport { toFixed } from \"../../../util/number\";\nimport { PointerEvents } from \"../../../scene/node\";\nimport { CartesianSeries, CartesianSeriesMarker } from \"./cartesianSeries\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { getMarker } from \"../../marker/util\";\nimport { reactive } from \"../../../util/observable\";\nimport { Chart } from \"../../chart\";\nvar LineSeries = /** @class */ (function (_super) {\n    __extends(LineSeries, _super);\n    function LineSeries() {\n        var _this = _super.call(this) || this;\n        _this.xDomain = [];\n        _this.yDomain = [];\n        _this.xData = [];\n        _this.yData = [];\n        _this.lineNode = new Path();\n        // We use groups for this selection even though each group only contains a marker ATM\n        // because in the future we might want to add label support as well.\n        _this.nodeSelection = Selection.select(_this.group).selectAll();\n        _this.nodeData = [];\n        _this.marker = new CartesianSeriesMarker();\n        _this.stroke = palette.fills[0];\n        _this.strokeWidth = 2;\n        _this.strokeOpacity = 1;\n        _this._xKey = '';\n        _this.xName = '';\n        _this._yKey = '';\n        _this.yName = '';\n        _this.highlightStyle = { fill: 'yellow' };\n        var lineNode = _this.lineNode;\n        lineNode.fill = undefined;\n        lineNode.lineJoin = 'round';\n        lineNode.pointerEvents = PointerEvents.None;\n        _this.group.append(lineNode);\n        _this.addEventListener('update', _this.update);\n        var marker = _this.marker;\n        marker.fill = palette.fills[0];\n        marker.stroke = palette.strokes[0];\n        marker.addPropertyListener('shape', _this.onMarkerShapeChange, _this);\n        marker.addPropertyListener('enabled', _this.onMarkerEnabledChange, _this);\n        marker.addEventListener('change', _this.update, _this);\n        return _this;\n    }\n    LineSeries.prototype.onMarkerShapeChange = function () {\n        this.nodeSelection = this.nodeSelection.setData([]);\n        this.nodeSelection.exit.remove();\n        this.update();\n        this.fireEvent({ type: 'legendChange' });\n    };\n    LineSeries.prototype.onMarkerEnabledChange = function (event) {\n        if (!event.value) {\n            this.nodeSelection = this.nodeSelection.setData([]);\n            this.nodeSelection.exit.remove();\n        }\n    };\n    Object.defineProperty(LineSeries.prototype, \"xKey\", {\n        get: function () {\n            return this._xKey;\n        },\n        set: function (value) {\n            if (this._xKey !== value) {\n                this._xKey = value;\n                this.xData = [];\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LineSeries.prototype, \"yKey\", {\n        get: function () {\n            return this._yKey;\n        },\n        set: function (value) {\n            if (this._yKey !== value) {\n                this._yKey = value;\n                this.yData = [];\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    LineSeries.prototype.processData = function () {\n        var _a = this, xAxis = _a.xAxis, yAxis = _a.yAxis, xKey = _a.xKey, yKey = _a.yKey, xData = _a.xData, yData = _a.yData;\n        var data = xKey && yKey && this.data ? this.data : [];\n        if (!xAxis) {\n            return false;\n        }\n        var isContinuousX = xAxis.scale instanceof ContinuousScale;\n        var isContinuousY = yAxis.scale instanceof ContinuousScale;\n        xData.length = 0;\n        yData.length = 0;\n        for (var i = 0, n = data.length; i < n; i++) {\n            var datum = data[i];\n            var x = datum[xKey];\n            var y = datum[yKey];\n            xData.push(x);\n            yData.push(y);\n        }\n        this.xDomain = isContinuousX ? this.fixNumericExtent(numericExtent(xData), 'x') : xData;\n        this.yDomain = isContinuousY ? this.fixNumericExtent(numericExtent(yData), 'y') : yData;\n        return true;\n    };\n    LineSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.xDomain;\n        }\n        return this.yDomain;\n    };\n    LineSeries.prototype.onHighlightChange = function () {\n        this.updateNodes();\n    };\n    LineSeries.prototype.update = function () {\n        this.group.visible = this.visible;\n        var _a = this, chart = _a.chart, xAxis = _a.xAxis, yAxis = _a.yAxis;\n        if (!chart || chart.layoutPending || chart.dataPending || !xAxis || !yAxis) {\n            return;\n        }\n        this.updateLinePath(); // this will generate node data too\n        this.updateNodeSelection();\n        this.updateNodes();\n    };\n    LineSeries.prototype.updateLinePath = function () {\n        var _this = this;\n        var _a = this, xAxis = _a.xAxis, yAxis = _a.yAxis, data = _a.data, xData = _a.xData, yData = _a.yData, lineNode = _a.lineNode;\n        var xScale = xAxis.scale;\n        var yScale = yAxis.scale;\n        var xOffset = (xScale.bandwidth || 0) / 2;\n        var yOffset = (yScale.bandwidth || 0) / 2;\n        var isContinuousX = xScale instanceof ContinuousScale;\n        var isContinuousY = yScale instanceof ContinuousScale;\n        var linePath = lineNode.path;\n        var nodeData = [];\n        linePath.clear();\n        var moveTo = true;\n        xData.forEach(function (xDatum, i) {\n            var yDatum = yData[i];\n            var isGap = yDatum == null || (isContinuousY && (isNaN(yDatum) || !isFinite(yDatum))) ||\n                xDatum == null || (isContinuousX && (isNaN(xDatum) || !isFinite(xDatum)));\n            if (isGap) {\n                moveTo = true;\n            }\n            else {\n                var x = xScale.convert(xDatum) + xOffset;\n                var y = yScale.convert(yDatum) + yOffset;\n                if (moveTo) {\n                    linePath.moveTo(x, y);\n                    moveTo = false;\n                }\n                else {\n                    linePath.lineTo(x, y);\n                }\n                nodeData.push({\n                    series: _this,\n                    seriesDatum: data[i],\n                    point: { x: x, y: y }\n                });\n            }\n        });\n        lineNode.stroke = this.stroke;\n        lineNode.strokeWidth = this.strokeWidth;\n        lineNode.strokeOpacity = this.strokeOpacity;\n        // Used by marker nodes and for hit-testing even when not using markers\n        // when `chart.tooltipTracking` is true.\n        this.nodeData = nodeData;\n    };\n    LineSeries.prototype.updateNodeSelection = function () {\n        var marker = this.marker;\n        var nodeData = marker.shape ? this.nodeData : [];\n        var MarkerShape = getMarker(marker.shape);\n        var updateSelection = this.nodeSelection.setData(nodeData);\n        updateSelection.exit.remove();\n        var enterSelection = updateSelection.enter.append(Group);\n        enterSelection.append(MarkerShape);\n        this.nodeSelection = updateSelection.merge(enterSelection);\n    };\n    LineSeries.prototype.updateNodes = function () {\n        var _a = this, marker = _a.marker, xKey = _a.xKey, yKey = _a.yKey, stroke = _a.stroke, strokeWidth = _a.strokeWidth;\n        var MarkerShape = getMarker(marker.shape);\n        var highlightedDatum = this.chart.highlightedDatum;\n        var _b = this.highlightStyle, highlightFill = _b.fill, highlightStroke = _b.stroke;\n        var markerFormatter = marker.formatter;\n        var markerSize = marker.size;\n        var markerStrokeWidth = marker.strokeWidth !== undefined ? marker.strokeWidth : strokeWidth;\n        this.nodeSelection.selectByClass(MarkerShape)\n            .each(function (node, datum) {\n            var highlighted = datum === highlightedDatum;\n            var markerFill = highlighted && highlightFill !== undefined ? highlightFill : marker.fill;\n            var markerStroke = highlighted && highlightStroke !== undefined ? highlightStroke : marker.stroke || stroke;\n            var markerFormat = undefined;\n            if (markerFormatter) {\n                markerFormat = markerFormatter({\n                    datum: datum.seriesDatum,\n                    xKey: xKey,\n                    yKey: yKey,\n                    fill: markerFill,\n                    stroke: markerStroke,\n                    strokeWidth: markerStrokeWidth,\n                    size: markerSize,\n                    highlighted: highlighted\n                });\n            }\n            node.fill = markerFormat && markerFormat.fill || markerFill;\n            node.stroke = markerFormat && markerFormat.stroke || markerStroke;\n            node.strokeWidth = markerFormat && markerFormat.strokeWidth !== undefined\n                ? markerFormat.strokeWidth\n                : markerStrokeWidth;\n            node.size = markerFormat && markerFormat.size !== undefined\n                ? markerFormat.size\n                : markerSize;\n            node.translationX = datum.point.x;\n            node.translationY = datum.point.y;\n            node.visible = marker.enabled && node.size > 0;\n        });\n    };\n    LineSeries.prototype.getNodeData = function () {\n        return this.nodeData;\n    };\n    LineSeries.prototype.fireNodeClickEvent = function (datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            series: this,\n            datum: datum.seriesDatum,\n            xKey: this.xKey,\n            yKey: this.yKey\n        });\n    };\n    LineSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var _a = this, xKey = _a.xKey, yKey = _a.yKey;\n        if (!xKey || !yKey) {\n            return '';\n        }\n        var _b = this, xName = _b.xName, yName = _b.yName, color = _b.stroke, tooltipRenderer = _b.tooltipRenderer;\n        if (tooltipRenderer) {\n            return tooltipRenderer({\n                datum: nodeDatum.seriesDatum,\n                xKey: xKey,\n                xName: xName,\n                yKey: yKey,\n                yName: yName,\n                title: this.title,\n                color: color\n            });\n        }\n        else {\n            var title = this.title || yName;\n            var titleStyle = \"style=\\\"color: white; background-color: \" + color + \"\\\"\";\n            var titleString = title ? \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-title\\\" \" + titleStyle + \">\" + title + \"</div>\" : '';\n            var seriesDatum = nodeDatum.seriesDatum;\n            var xValue = seriesDatum[xKey];\n            var yValue = seriesDatum[yKey];\n            var xString = typeof xValue === 'number' ? toFixed(xValue) : String(xValue);\n            var yString = typeof yValue === 'number' ? toFixed(yValue) : String(yValue);\n            return titleString + \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-content\\\">\" + xString + \": \" + yString + \"</div>\";\n        }\n    };\n    LineSeries.prototype.listSeriesItems = function (legendData) {\n        var _a = this, id = _a.id, data = _a.data, xKey = _a.xKey, yKey = _a.yKey, yName = _a.yName, visible = _a.visible, title = _a.title, marker = _a.marker, stroke = _a.stroke, strokeOpacity = _a.strokeOpacity;\n        if (data && data.length && xKey && yKey) {\n            legendData.push({\n                id: id,\n                itemId: undefined,\n                enabled: visible,\n                label: {\n                    text: title || yName || yKey\n                },\n                marker: {\n                    shape: marker.shape,\n                    fill: marker.fill,\n                    stroke: marker.stroke || stroke,\n                    fillOpacity: 1,\n                    strokeOpacity: strokeOpacity\n                }\n            });\n        }\n    };\n    LineSeries.className = 'LineSeries';\n    LineSeries.type = 'line';\n    __decorate([\n        reactive('layoutChange')\n    ], LineSeries.prototype, \"title\", void 0);\n    __decorate([\n        reactive('update')\n    ], LineSeries.prototype, \"stroke\", void 0);\n    __decorate([\n        reactive('update')\n    ], LineSeries.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        reactive('update')\n    ], LineSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        reactive('update')\n    ], LineSeries.prototype, \"xName\", void 0);\n    __decorate([\n        reactive('update')\n    ], LineSeries.prototype, \"yName\", void 0);\n    return LineSeries;\n}(CartesianSeries));\nexport { LineSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexport default function (a, b, count) {\n    var step = tickStep(a, b, count);\n    a = Math.ceil(a / step) * step;\n    b = Math.floor(b / step) * step + step / 2;\n    // Add half a step here so that the array returned by `range` includes the last tick.\n    return range(a, b, step);\n}\nvar e10 = Math.sqrt(50);\nvar e5 = Math.sqrt(10);\nvar e2 = Math.sqrt(2);\nexport function tickStep(a, b, count) {\n    var rawStep = Math.abs(b - a) / Math.max(0, count);\n    var step = Math.pow(10, Math.floor(Math.log(rawStep) / Math.LN10)); // = Math.log10(rawStep)\n    var error = rawStep / step;\n    if (error >= e10) {\n        step *= 10;\n    }\n    else if (error >= e5) {\n        step *= 5;\n    }\n    else if (error >= e2) {\n        step *= 2;\n    }\n    return b < a ? -step : step;\n}\nexport function tickIncrement(a, b, count) {\n    var rawStep = (b - a) / Math.max(0, count);\n    var power = Math.floor(Math.log(rawStep) / Math.LN10);\n    var error = rawStep / Math.pow(10, power);\n    return power >= 0\n        ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n        : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nvar NumericTicks = /** @class */ (function (_super) {\n    __extends(NumericTicks, _super);\n    function NumericTicks(fractionDigits, size) {\n        if (size === void 0) { size = 0; }\n        var _this = _super.call(this, size) || this;\n        _this.fractionDigits = fractionDigits;\n        return _this;\n    }\n    return NumericTicks;\n}(Array));\nexport { NumericTicks };\nfunction range(a, b, step) {\n    if (step === void 0) { step = 1; }\n    var absStep = Math.abs(step);\n    var fractionDigits = (absStep > 0 && absStep < 1)\n        ? Math.abs(Math.floor(Math.log(absStep) / Math.LN10))\n        : 0;\n    var f = Math.pow(10, fractionDigits);\n    var n = Math.max(0, Math.ceil((b - a) / step)) || 0;\n    var values = new NumericTicks(fractionDigits, n);\n    for (var i = 0; i < n; i++) {\n        var value = a + step * i;\n        values[i] = Math.round(value * f) / f;\n    }\n    return values;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport ContinuousScale from \"./continuousScale\";\nimport ticks, { tickIncrement } from \"../util/ticks\";\n/**\n * Maps continuous domain to a continuous range.\n */\nvar LinearScale = /** @class */ (function (_super) {\n    __extends(LinearScale, _super);\n    function LinearScale() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LinearScale.prototype.ticks = function (count) {\n        if (count === void 0) { count = 10; }\n        var d = this._domain;\n        return ticks(d[0], d[d.length - 1], count);\n    };\n    /**\n     * Extends the domain so that it starts and ends on nice round values.\n     * @param count Tick count.\n     */\n    LinearScale.prototype.nice = function (count) {\n        if (count === void 0) { count = 10; }\n        var d = this.domain;\n        var i0 = 0;\n        var i1 = d.length - 1;\n        var start = d[i0];\n        var stop = d[i1];\n        var step;\n        if (stop < start) {\n            step = start;\n            start = stop;\n            stop = step;\n            step = i0;\n            i0 = i1;\n            i1 = step;\n        }\n        step = tickIncrement(start, stop, count);\n        if (step > 0) {\n            start = Math.floor(start / step) * step;\n            stop = Math.ceil(stop / step) * step;\n            step = tickIncrement(start, stop, count);\n        }\n        else if (step < 0) {\n            start = Math.ceil(start * step) / step;\n            stop = Math.floor(stop * step) / step;\n            step = tickIncrement(start, stop, count);\n        }\n        if (step > 0) {\n            d[i0] = Math.floor(start / step) * step;\n            d[i1] = Math.ceil(stop / step) * step;\n            this.domain = d;\n        }\n        else if (step < 0) {\n            d[i0] = Math.ceil(start * step) / step;\n            d[i1] = Math.floor(stop * step) / step;\n            this.domain = d;\n        }\n    };\n    return LinearScale;\n}(ContinuousScale));\nexport { LinearScale };\n/**\n * Creates a continuous scale with the default interpolator and no clamping.\n */\nexport default function scaleLinear() {\n    return new LinearScale();\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Selection } from \"../../../scene/selection\";\nimport { Group } from \"../../../scene/group\";\nimport { finiteExtent } from \"../../../util/array\";\nimport { toFixed } from \"../../../util/number\";\nimport { LinearScale } from \"../../../scale/linearScale\";\nimport { reactive } from \"../../../util/observable\";\nimport { CartesianSeries, CartesianSeriesMarker } from \"./cartesianSeries\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport palette from \"../../palettes\";\nimport { getMarker } from \"../../marker/util\";\nimport { Chart } from \"../../chart\";\nimport ContinuousScale from \"../../../scale/continuousScale\";\nvar ScatterSeries = /** @class */ (function (_super) {\n    __extends(ScatterSeries, _super);\n    function ScatterSeries() {\n        var _this = _super.call(this) || this;\n        _this.xDomain = [];\n        _this.yDomain = [];\n        _this.xData = [];\n        _this.yData = [];\n        _this.sizeData = [];\n        _this.sizeScale = new LinearScale();\n        _this.nodeSelection = Selection.select(_this.group).selectAll();\n        _this.nodeData = [];\n        _this.marker = new CartesianSeriesMarker();\n        _this._fill = palette.fills[0];\n        _this._stroke = palette.strokes[0];\n        _this._strokeWidth = 2;\n        _this._fillOpacity = 1;\n        _this._strokeOpacity = 1;\n        _this.highlightStyle = { fill: 'yellow' };\n        _this.xKey = '';\n        _this.yKey = '';\n        _this.xName = '';\n        _this.yName = '';\n        _this.sizeName = 'Size';\n        _this.labelName = 'Label';\n        var marker = _this.marker;\n        marker.addPropertyListener('shape', _this.onMarkerShapeChange, _this);\n        marker.addEventListener('change', _this.update, _this);\n        _this.addPropertyListener('xKey', function () { return _this.xData = []; });\n        _this.addPropertyListener('yKey', function () { return _this.yData = []; });\n        _this.addPropertyListener('sizeKey', function () { return _this.sizeData = []; });\n        return _this;\n    }\n    Object.defineProperty(ScatterSeries.prototype, \"fill\", {\n        get: function () {\n            return this._fill;\n        },\n        set: function (value) {\n            if (this._fill !== value) {\n                this._fill = value;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ScatterSeries.prototype, \"stroke\", {\n        get: function () {\n            return this._stroke;\n        },\n        set: function (value) {\n            if (this._stroke !== value) {\n                this._stroke = value;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ScatterSeries.prototype, \"strokeWidth\", {\n        get: function () {\n            return this._strokeWidth;\n        },\n        set: function (value) {\n            if (this._strokeWidth !== value) {\n                this._strokeWidth = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ScatterSeries.prototype, \"fillOpacity\", {\n        get: function () {\n            return this._fillOpacity;\n        },\n        set: function (value) {\n            if (this._fillOpacity !== value) {\n                this._fillOpacity = value;\n                this.scheduleLayout();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ScatterSeries.prototype, \"strokeOpacity\", {\n        get: function () {\n            return this._strokeOpacity;\n        },\n        set: function (value) {\n            if (this._strokeOpacity !== value) {\n                this._strokeOpacity = value;\n                this.scheduleLayout();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ScatterSeries.prototype.onHighlightChange = function () {\n        this.updateNodes();\n    };\n    ScatterSeries.prototype.onMarkerShapeChange = function () {\n        this.nodeSelection = this.nodeSelection.setData([]);\n        this.nodeSelection.exit.remove();\n        this.update();\n        this.fireEvent({ type: 'legendChange' });\n    };\n    ScatterSeries.prototype.processData = function () {\n        var _a = this, xKey = _a.xKey, yKey = _a.yKey, sizeKey = _a.sizeKey, xAxis = _a.xAxis, yAxis = _a.yAxis;\n        var data = xKey && yKey && this.data ? this.data : [];\n        this.xData = data.map(function (d) { return d[xKey]; });\n        this.yData = data.map(function (d) { return d[yKey]; });\n        if (sizeKey) {\n            this.sizeData = data.map(function (d) { return d[sizeKey]; });\n        }\n        else {\n            this.sizeData = [];\n        }\n        this.sizeScale.domain = finiteExtent(this.sizeData) || [1, 1];\n        if (xAxis.scale instanceof ContinuousScale) {\n            this.xDomain = this.fixNumericExtent(finiteExtent(this.xData), 'x');\n        }\n        else {\n            this.xDomain = this.xData;\n        }\n        if (yAxis.scale instanceof ContinuousScale) {\n            this.yDomain = this.fixNumericExtent(finiteExtent(this.yData), 'y');\n        }\n        else {\n            this.yDomain = this.yData;\n        }\n        return true;\n    };\n    ScatterSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.xDomain;\n        }\n        else {\n            return this.yDomain;\n        }\n    };\n    ScatterSeries.prototype.getNodeData = function () {\n        return this.nodeData;\n    };\n    ScatterSeries.prototype.fireNodeClickEvent = function (datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            series: this,\n            datum: datum.seriesDatum,\n            xKey: this.xKey,\n            yKey: this.yKey,\n            sizeKey: this.sizeKey\n        });\n    };\n    ScatterSeries.prototype.generateNodeData = function () {\n        var _this = this;\n        var xScale = this.xAxis.scale;\n        var yScale = this.yAxis.scale;\n        var xOffset = (xScale.bandwidth || 0) / 2;\n        var yOffset = (yScale.bandwidth || 0) / 2;\n        var _a = this, data = _a.data, xData = _a.xData, yData = _a.yData, sizeData = _a.sizeData, sizeScale = _a.sizeScale, marker = _a.marker;\n        sizeScale.range = [marker.minSize, marker.size];\n        return xData.map(function (xDatum, i) { return ({\n            series: _this,\n            seriesDatum: data[i],\n            point: {\n                x: xScale.convert(xDatum) + xOffset,\n                y: yScale.convert(yData[i]) + yOffset\n            },\n            size: sizeData.length ? sizeScale.convert(sizeData[i]) : marker.size\n        }); });\n    };\n    ScatterSeries.prototype.update = function () {\n        var _a = this, visible = _a.visible, chart = _a.chart, xAxis = _a.xAxis, yAxis = _a.yAxis;\n        this.group.visible = visible;\n        if (!visible || !chart || chart.layoutPending || chart.dataPending || !xAxis || !yAxis) {\n            return;\n        }\n        var nodeData = this.nodeData = this.generateNodeData();\n        this.updateNodeSelection(nodeData);\n        this.updateNodes();\n    };\n    ScatterSeries.prototype.updateNodeSelection = function (nodeData) {\n        var MarkerShape = getMarker(this.marker.shape);\n        var updateSelection = this.nodeSelection.setData(nodeData);\n        updateSelection.exit.remove();\n        var enterSelection = updateSelection.enter.append(Group);\n        enterSelection.append(MarkerShape);\n        this.nodeSelection = updateSelection.merge(enterSelection);\n    };\n    ScatterSeries.prototype.updateNodes = function () {\n        var highlightedDatum = this.chart.highlightedDatum;\n        var _a = this, marker = _a.marker, xKey = _a.xKey, yKey = _a.yKey, fill = _a.fill, stroke = _a.stroke, strokeWidth = _a.strokeWidth, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity;\n        var _b = this.highlightStyle, highlightFill = _b.fill, highlightStroke = _b.stroke;\n        var markerStrokeWidth = marker.strokeWidth !== undefined ? marker.strokeWidth : strokeWidth;\n        var MarkerShape = getMarker(marker.shape);\n        var markerFormatter = marker.formatter;\n        this.nodeSelection.selectByClass(MarkerShape)\n            .each(function (node, datum) {\n            var highlighted = datum === highlightedDatum;\n            var markerFill = highlighted && highlightFill !== undefined ? highlightFill : marker.fill || fill;\n            var markerStroke = highlighted && highlightStroke !== undefined ? highlightStroke : marker.stroke || stroke;\n            var markerFormat = undefined;\n            if (markerFormatter) {\n                markerFormat = markerFormatter({\n                    datum: datum.seriesDatum,\n                    xKey: xKey,\n                    yKey: yKey,\n                    fill: markerFill,\n                    stroke: markerStroke,\n                    strokeWidth: markerStrokeWidth,\n                    size: datum.size,\n                    highlighted: highlighted\n                });\n            }\n            node.fill = markerFormat && markerFormat.fill || markerFill;\n            node.stroke = markerFormat && markerFormat.stroke || markerStroke;\n            node.strokeWidth = markerFormat && markerFormat.strokeWidth !== undefined\n                ? markerFormat.strokeWidth\n                : markerStrokeWidth;\n            node.size = markerFormat && markerFormat.size !== undefined\n                ? markerFormat.size\n                : datum.size;\n            node.fillOpacity = fillOpacity;\n            node.strokeOpacity = strokeOpacity;\n            node.translationX = datum.point.x;\n            node.translationY = datum.point.y;\n            node.visible = marker.enabled && node.size > 0;\n        });\n    };\n    ScatterSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var _a = this, xKey = _a.xKey, yKey = _a.yKey;\n        if (!xKey || !yKey) {\n            return '';\n        }\n        var _b = this, tooltipRenderer = _b.tooltipRenderer, xName = _b.xName, yName = _b.yName, sizeKey = _b.sizeKey, sizeName = _b.sizeName, labelKey = _b.labelKey, labelName = _b.labelName, fill = _b.fill;\n        var color = fill || 'gray';\n        if (tooltipRenderer) {\n            return tooltipRenderer({\n                datum: nodeDatum.seriesDatum,\n                xKey: xKey,\n                yKey: yKey,\n                sizeKey: sizeKey,\n                labelKey: labelKey,\n                xName: xName,\n                yName: yName,\n                sizeName: sizeName,\n                labelName: labelName,\n                title: this.title,\n                color: color\n            });\n        }\n        else {\n            var title = this.title || yName;\n            var titleStyle = \"style=\\\"color: white; background-color: \" + color + \"\\\"\";\n            var titleHtml = title ? \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-title\\\" \" + titleStyle + \">\" + title + \"</div>\" : '';\n            var seriesDatum = nodeDatum.seriesDatum;\n            var xValue = seriesDatum[xKey];\n            var yValue = seriesDatum[yKey];\n            var contentHtml = \"<b>\" + (xName || xKey) + \"</b>: \" + (typeof xValue === 'number' ? toFixed(xValue) : xValue)\n                + (\"<br><b>\" + (yName || yKey) + \"</b>: \" + (typeof yValue === 'number' ? toFixed(yValue) : yValue));\n            if (sizeKey) {\n                contentHtml += \"<br><b>\" + sizeName + \"</b>: \" + seriesDatum[sizeKey];\n            }\n            if (labelKey) {\n                contentHtml = \"<b>\" + labelName + \"</b>: \" + seriesDatum[labelKey] + \"<br>\" + contentHtml;\n            }\n            return titleHtml + \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-content\\\">\" + contentHtml + \"</div>\";\n        }\n    };\n    ScatterSeries.prototype.listSeriesItems = function (legendData) {\n        var _a = this, id = _a.id, data = _a.data, xKey = _a.xKey, yKey = _a.yKey, yName = _a.yName, title = _a.title, visible = _a.visible, marker = _a.marker, fill = _a.fill, stroke = _a.stroke, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity;\n        if (data && data.length && xKey && yKey) {\n            legendData.push({\n                id: id,\n                itemId: undefined,\n                enabled: visible,\n                label: {\n                    text: title || yName || yKey\n                },\n                marker: {\n                    shape: marker.shape,\n                    fill: marker.fill || fill,\n                    stroke: marker.stroke || stroke,\n                    fillOpacity: fillOpacity,\n                    strokeOpacity: strokeOpacity\n                }\n            });\n        }\n    };\n    ScatterSeries.className = 'ScatterSeries';\n    ScatterSeries.type = 'scatter';\n    __decorate([\n        reactive('layoutChange')\n    ], ScatterSeries.prototype, \"title\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], ScatterSeries.prototype, \"xKey\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], ScatterSeries.prototype, \"yKey\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], ScatterSeries.prototype, \"sizeKey\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], ScatterSeries.prototype, \"labelKey\", void 0);\n    return ScatterSeries;\n}(CartesianSeries));\nexport { ScatterSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { Group } from \"../../../scene/group\";\nimport { Selection } from \"../../../scene/selection\";\nimport { Rect } from \"../../../scene/shape/rect\";\nimport { Text } from \"../../../scene/shape/text\";\nimport palette from \"../../palettes\";\nimport { Label } from \"../../label\";\nimport { PointerEvents } from \"../../../scene/node\";\nimport { CartesianSeries } from \"./cartesianSeries\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { Chart } from \"../../chart\";\nimport { numericExtent, finiteExtent } from \"../../../util/array\";\nimport { toFixed } from \"../../../util/number\";\nimport { reactive } from \"../../../util/observable\";\nimport ticks, { tickStep } from \"../../../util/ticks\";\nvar HistogramSeriesNodeTag;\n(function (HistogramSeriesNodeTag) {\n    HistogramSeriesNodeTag[HistogramSeriesNodeTag[\"Bin\"] = 0] = \"Bin\";\n    HistogramSeriesNodeTag[HistogramSeriesNodeTag[\"Label\"] = 1] = \"Label\";\n})(HistogramSeriesNodeTag || (HistogramSeriesNodeTag = {}));\nvar HistogramSeriesLabel = /** @class */ (function (_super) {\n    __extends(HistogramSeriesLabel, _super);\n    function HistogramSeriesLabel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        reactive('change')\n    ], HistogramSeriesLabel.prototype, \"formatter\", void 0);\n    return HistogramSeriesLabel;\n}(Label));\nvar defaultBinCount = 10;\nvar aggregationFunctions = {\n    count: function (bin) { return bin.data.length; },\n    sum: function (bin, yKey) { return bin.data.reduce(function (acc, datum) { return acc + datum[yKey]; }, 0); },\n    mean: function (bin, yKey) { return aggregationFunctions.sum(bin, yKey) / aggregationFunctions.count(bin, yKey); }\n};\nvar HistogramBin = /** @class */ (function () {\n    function HistogramBin(_a) {\n        var domainMin = _a[0], domainMax = _a[1];\n        this.data = [];\n        this.aggregatedValue = 0;\n        this.frequency = 0;\n        this.domain = [domainMin, domainMax];\n    }\n    ;\n    HistogramBin.prototype.addDatum = function (datum) {\n        this.data.push(datum);\n        this.frequency++;\n    };\n    ;\n    Object.defineProperty(HistogramBin.prototype, \"domainWidth\", {\n        get: function () {\n            var _a = this.domain, domainMin = _a[0], domainMax = _a[1];\n            return domainMax - domainMin;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramBin.prototype, \"relativeHeight\", {\n        get: function () {\n            return this.aggregatedValue / this.domainWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ;\n    HistogramBin.prototype.calculateAggregatedValue = function (aggregationName, yKey) {\n        if (!yKey) {\n            // not having a yKey forces us into a frequency plot\n            aggregationName = 'count';\n        }\n        var aggregationFunction = aggregationFunctions[aggregationName];\n        this.aggregatedValue = aggregationFunction(this, yKey);\n    };\n    HistogramBin.prototype.getY = function (areaPlot) {\n        return areaPlot ? this.relativeHeight : this.aggregatedValue;\n    };\n    return HistogramBin;\n}());\nexport { HistogramBin };\n;\nvar HistogramSeries = /** @class */ (function (_super) {\n    __extends(HistogramSeries, _super);\n    function HistogramSeries() {\n        var _a;\n        var _this = _super.call(this) || this;\n        // Need to put column and label nodes into separate groups, because even though label nodes are\n        // created after the column nodes, this only guarantees that labels will always be on top of columns\n        // on the first run. If on the next run more columns are added, they might clip the labels\n        // rendered during the previous run.\n        _this.rectGroup = _this.group.appendChild(new Group());\n        _this.textGroup = _this.group.appendChild(new Group());\n        _this.rectSelection = Selection.select(_this.rectGroup).selectAll();\n        _this.textSelection = Selection.select(_this.textGroup).selectAll();\n        _this.binnedData = [];\n        _this.xDomain = [];\n        _this.yDomain = [];\n        _this.label = new HistogramSeriesLabel();\n        _this.seriesItemEnabled = true;\n        _this.fill = palette.fills[0];\n        _this.stroke = palette.strokes[0];\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        _this.directionKeys = (_a = {},\n            _a[ChartAxisDirection.X] = ['xKey'],\n            _a[ChartAxisDirection.Y] = ['yKey'],\n            _a);\n        _this._xKey = '';\n        _this._areaPlot = false;\n        _this._xName = '';\n        _this._yKey = '';\n        _this._yName = '';\n        _this._strokeWidth = 1;\n        _this.highlightStyle = { fill: 'yellow' };\n        _this.label.enabled = false;\n        _this.label.addEventListener('change', _this.update, _this);\n        return _this;\n    }\n    HistogramSeries.prototype.getKeys = function (direction) {\n        var _this = this;\n        var directionKeys = this.directionKeys;\n        var keys = directionKeys && directionKeys[direction];\n        var values = [];\n        if (keys) {\n            keys.forEach(function (key) {\n                var value = _this[key];\n                if (value) {\n                    if (Array.isArray(value)) {\n                        values.push.apply(values, value);\n                    }\n                    else {\n                        values.push(value);\n                    }\n                }\n            });\n        }\n        return values;\n    };\n    Object.defineProperty(HistogramSeries.prototype, \"xKey\", {\n        get: function () {\n            return this._xKey;\n        },\n        set: function (value) {\n            if (this._xKey !== value) {\n                this._xKey = value;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"areaPlot\", {\n        get: function () {\n            return this._areaPlot;\n        },\n        set: function (c) {\n            this._areaPlot = c;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"bins\", {\n        get: function () {\n            return this._bins;\n        },\n        set: function (bins) {\n            this._bins = bins;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"aggregation\", {\n        get: function () {\n            return this._aggregation;\n        },\n        set: function (aggregation) {\n            this._aggregation = aggregation;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"binCount\", {\n        get: function () {\n            return this._binCount;\n        },\n        set: function (binCount) {\n            this._binCount = binCount;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"xName\", {\n        get: function () {\n            return this._xName;\n        },\n        set: function (value) {\n            if (this._xName !== value) {\n                this._xName = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"yKey\", {\n        get: function () {\n            return this._yKey;\n        },\n        set: function (yKey) {\n            this._yKey = yKey;\n            this.seriesItemEnabled = true;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"yName\", {\n        get: function () {\n            return this._yName;\n        },\n        set: function (values) {\n            this._yName = values;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"strokeWidth\", {\n        get: function () {\n            return this._strokeWidth;\n        },\n        set: function (value) {\n            if (this._strokeWidth !== value) {\n                this._strokeWidth = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"shadow\", {\n        get: function () {\n            return this._shadow;\n        },\n        set: function (value) {\n            if (this._shadow !== value) {\n                this._shadow = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HistogramSeries.prototype.onHighlightChange = function () {\n        this.updateRectNodes();\n    };\n    /*  during processData phase, used to unify different ways of the user specifying\n        the bins. Returns bins in format [[min1, max1], [min2, max2] ... ] */\n    HistogramSeries.prototype.deriveBins = function () {\n        var _this = this;\n        var _a = this, bins = _a.bins, binCount = _a.binCount;\n        if (bins && binCount) {\n            console.warn('bin domain and bin count both specified - these are mutually exclusive properties');\n        }\n        if (bins) {\n            // we have explicity set bins from user. Use those.\n            return bins;\n        }\n        var xData = this.data.map(function (datum) { return datum[_this.xKey]; });\n        var xDomain = this.fixNumericExtent(finiteExtent(xData), 'x');\n        var binStarts = ticks(xDomain[0], xDomain[1], this.binCount || defaultBinCount);\n        var binSize = tickStep(xDomain[0], xDomain[1], this.binCount || defaultBinCount);\n        var firstBinEnd = binStarts[0];\n        var expandStartToBin = function (n) { return [n, n + binSize]; };\n        return __spreadArrays([\n            [firstBinEnd - binSize, firstBinEnd]\n        ], binStarts.map(expandStartToBin));\n    };\n    HistogramSeries.prototype.placeDataInBins = function (data) {\n        var _this = this;\n        var xKey = this.xKey;\n        var derivedBins = this.deriveBins();\n        // creating a sorted copy allows binning in O(n) rather than O(n²)\n        // but at the expense of more temporary memory\n        var sortedData = data.slice().sort(function (a, b) {\n            if (a[xKey] < b[xKey]) {\n                return -1;\n            }\n            if (a[xKey] > b[xKey]) {\n                return 1;\n            }\n            return 0;\n        });\n        var currentBin = 0;\n        var bins = [new HistogramBin(derivedBins[0])];\n        sortedData.forEach(function (datum) {\n            while (datum[xKey] > derivedBins[currentBin][1]) {\n                currentBin++;\n                bins.push(new HistogramBin(derivedBins[currentBin]));\n            }\n            bins[currentBin].addDatum(datum);\n        });\n        bins.forEach(function (b) { return b.calculateAggregatedValue(_this._aggregation, _this.yKey); });\n        return bins;\n    };\n    Object.defineProperty(HistogramSeries.prototype, \"xMax\", {\n        get: function () {\n            var _this = this;\n            return this.data && this.data.reduce(function (acc, datum) {\n                return Math.max(acc, datum[_this.xKey]);\n            }, Number.NEGATIVE_INFINITY);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HistogramSeries.prototype.processData = function () {\n        var _this = this;\n        var _a = this, xKey = _a.xKey, data = _a.data;\n        this.binnedData = this.placeDataInBins(xKey && data ? data : []);\n        var yData = this.binnedData.map(function (b) { return b.getY(_this.areaPlot); });\n        var yMinMax = numericExtent(yData);\n        this.yDomain = this.fixNumericExtent([0, yMinMax[1]], 'y');\n        var firstBin = this.binnedData[0];\n        var lastBin = this.binnedData[this.binnedData.length - 1];\n        var xMin = firstBin.domain[0];\n        var xMax = lastBin.domain[1];\n        this.xDomain = [xMin, xMax];\n        this.fireEvent({ type: 'dataProcessed' });\n        return true;\n    };\n    HistogramSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.xDomain;\n        }\n        else {\n            return this.yDomain;\n        }\n    };\n    HistogramSeries.prototype.fireNodeClickEvent = function (datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            series: this,\n            datum: datum.seriesDatum,\n            xKey: this.xKey\n        });\n    };\n    HistogramSeries.prototype.update = function () {\n        var _a = this, visible = _a.visible, chart = _a.chart, xAxis = _a.xAxis, yAxis = _a.yAxis;\n        this.group.visible = visible;\n        if (!xAxis || !yAxis || !visible || !chart || chart.layoutPending || chart.dataPending) {\n            return;\n        }\n        var nodeData = this.generateNodeData();\n        this.updateRectSelection(nodeData);\n        this.updateRectNodes();\n        this.updateTextSelection(nodeData);\n        this.updateTextNodes();\n    };\n    HistogramSeries.prototype.generateNodeData = function () {\n        var _this = this;\n        if (!this.seriesItemEnabled) {\n            return [];\n        }\n        var _a = this, xScale = _a.xAxis.scale, yScale = _a.yAxis.scale, fill = _a.fill, stroke = _a.stroke, strokeWidth = _a.strokeWidth;\n        var nodeData = [];\n        var defaultLabelFormatter = function (b) { return String(b.aggregatedValue); };\n        var _b = this.label, _c = _b.formatter, labelFormatter = _c === void 0 ? defaultLabelFormatter : _c, labelFontStyle = _b.fontStyle, labelFontWeight = _b.fontWeight, labelFontSize = _b.fontSize, labelFontFamily = _b.fontFamily, labelColor = _b.color;\n        this.binnedData.forEach(function (binOfData) {\n            var total = binOfData.aggregatedValue, frequency = binOfData.frequency, _a = binOfData.domain, xDomainMin = _a[0], xDomainMax = _a[1], relativeHeight = binOfData.relativeHeight;\n            var xMinPx = xScale.convert(xDomainMin), xMaxPx = xScale.convert(xDomainMax), \n            // note: assuming can't be negative:\n            y = _this.areaPlot ? relativeHeight : (_this.yKey ? total : frequency), yZeroPx = yScale.convert(0), yMaxPx = yScale.convert(y), w = xMaxPx - xMinPx, h = Math.abs(yMaxPx - yZeroPx);\n            var selectionDatumLabel = y !== 0 && {\n                text: labelFormatter(binOfData),\n                fontStyle: labelFontStyle,\n                fontWeight: labelFontWeight,\n                fontSize: labelFontSize,\n                fontFamily: labelFontFamily,\n                fill: labelColor,\n                x: xMinPx + w / 2,\n                y: yMaxPx + h / 2\n            };\n            nodeData.push({\n                series: _this,\n                seriesDatum: binOfData,\n                // since each selection is an aggregation of multiple data.\n                x: xMinPx,\n                y: yMaxPx,\n                width: w,\n                height: h,\n                fill: fill,\n                stroke: stroke,\n                strokeWidth: strokeWidth,\n                label: selectionDatumLabel,\n            });\n        });\n        return nodeData;\n    };\n    HistogramSeries.prototype.updateRectSelection = function (nodeData) {\n        var updateRects = this.rectSelection.setData(nodeData);\n        updateRects.exit.remove();\n        var enterRects = updateRects.enter.append(Rect).each(function (rect) {\n            rect.tag = HistogramSeriesNodeTag.Bin;\n            rect.crisp = true;\n        });\n        this.rectSelection = updateRects.merge(enterRects);\n    };\n    HistogramSeries.prototype.updateRectNodes = function () {\n        var highlightedDatum = this.chart.highlightedDatum;\n        var _a = this, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity, shadow = _a.shadow, _b = _a.highlightStyle, fill = _b.fill, stroke = _b.stroke;\n        this.rectSelection.each(function (rect, datum) {\n            var highlighted = datum === highlightedDatum;\n            rect.x = datum.x;\n            rect.y = datum.y;\n            rect.width = datum.width;\n            rect.height = datum.height;\n            rect.fill = highlighted && fill !== undefined ? fill : datum.fill;\n            rect.stroke = highlighted && stroke !== undefined ? stroke : datum.stroke;\n            rect.fillOpacity = fillOpacity;\n            rect.strokeOpacity = strokeOpacity;\n            rect.strokeWidth = datum.strokeWidth;\n            rect.fillShadow = shadow;\n            rect.visible = datum.height > 0; // prevent stroke from rendering for zero height columns\n        });\n    };\n    HistogramSeries.prototype.updateTextSelection = function (nodeData) {\n        var updateTexts = this.textSelection.setData(nodeData);\n        updateTexts.exit.remove();\n        var enterTexts = updateTexts.enter.append(Text).each(function (text) {\n            text.tag = HistogramSeriesNodeTag.Label;\n            text.pointerEvents = PointerEvents.None;\n            text.textAlign = 'center';\n            text.textBaseline = 'middle';\n        });\n        this.textSelection = updateTexts.merge(enterTexts);\n    };\n    HistogramSeries.prototype.updateTextNodes = function () {\n        var labelEnabled = this.label.enabled;\n        this.textSelection.each(function (text, datum) {\n            var label = datum.label;\n            if (label && labelEnabled) {\n                text.text = label.text;\n                text.x = label.x;\n                text.y = label.y;\n                text.fontStyle = label.fontStyle;\n                text.fontWeight = label.fontWeight;\n                text.fontSize = label.fontSize;\n                text.fontFamily = label.fontFamily;\n                text.fill = label.fill;\n                text.visible = true;\n            }\n            else {\n                text.visible = false;\n            }\n        });\n    };\n    HistogramSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var _a = this, xKey = _a.xKey, yKey = _a.yKey;\n        if (!xKey) {\n            return '';\n        }\n        var _b = this, xName = _b.xName, yName = _b.yName, fill = _b.fill, tooltipRenderer = _b.tooltipRenderer, aggregation = _b.aggregation;\n        var bin = nodeDatum.seriesDatum;\n        var aggregatedValue = bin.aggregatedValue, frequency = bin.frequency, _c = bin.domain, rangeMin = _c[0], rangeMax = _c[1];\n        if (tooltipRenderer) {\n            return tooltipRenderer({\n                datum: bin,\n                xKey: xKey,\n                xName: xName,\n                yKey: yKey,\n                yName: yName,\n                color: fill\n            });\n        }\n        else {\n            var titleStyle = \"style=\\\"color: white; background-color: \" + fill + \"\\\"\";\n            var titleString = \"\\n                <div class=\\\"\" + Chart.defaultTooltipClass + \"-title\\\" \" + titleStyle + \">\\n                    \" + (xName || xKey) + \" \" + toFixed(rangeMin) + \" - \" + toFixed(rangeMax) + \"\\n                </div>\";\n            var contentHtml = yKey ?\n                \"<b>\" + (yName || yKey) + \" (\" + aggregation + \")</b>: \" + toFixed(aggregatedValue) + \"<br>\" :\n                '';\n            contentHtml += \"<b>Frequency</b>: \" + frequency;\n            return \"\\n                \" + titleString + \"\\n                <div class=\\\"\" + Chart.defaultTooltipClass + \"-content\\\">\\n                    \" + contentHtml + \"\\n                </div>\";\n        }\n    };\n    HistogramSeries.prototype.listSeriesItems = function (legendData) {\n        var _a = this, id = _a.id, data = _a.data, yKey = _a.yKey, yName = _a.yName, seriesItemEnabled = _a.seriesItemEnabled, fill = _a.fill, stroke = _a.stroke, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity;\n        if (data && data.length) {\n            legendData.push({\n                id: id,\n                itemId: yKey,\n                enabled: seriesItemEnabled,\n                label: {\n                    text: yName || yKey || 'Frequency'\n                },\n                marker: {\n                    fill: fill,\n                    stroke: stroke,\n                    fillOpacity: fillOpacity,\n                    strokeOpacity: strokeOpacity\n                }\n            });\n        }\n    };\n    HistogramSeries.prototype.toggleSeriesItem = function (itemId, enabled) {\n        if (itemId === this.yKey) {\n            this.seriesItemEnabled = enabled;\n        }\n        this.scheduleData();\n    };\n    HistogramSeries.className = 'HistogramSeries';\n    HistogramSeries.type = 'histogram';\n    __decorate([\n        reactive('dataChange')\n    ], HistogramSeries.prototype, \"fill\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], HistogramSeries.prototype, \"stroke\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], HistogramSeries.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], HistogramSeries.prototype, \"strokeOpacity\", void 0);\n    return HistogramSeries;\n}(CartesianSeries));\nexport { HistogramSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from \"../../../scene/group\";\nimport { Line } from \"../../../scene/shape/line\";\nimport { Text } from \"../../../scene/shape/text\";\nimport { Selection } from \"../../../scene/selection\";\nimport { LinearScale } from \"../../../scale/linearScale\";\nimport palette from \"../../palettes\";\nimport { Sector } from \"../../../scene/shape/sector\";\nimport { Label } from \"../../label\";\nimport { PointerEvents } from \"../../../scene/node\";\nimport { normalizeAngle180, toRadians } from \"../../../util/angle\";\nimport { Color } from \"../../../util/color\";\nimport { toFixed } from \"../../../util/number\";\nimport { reactive, Observable } from \"../../../util/observable\";\nimport { PolarSeries } from \"./polarSeries\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { Chart } from \"../../chart\";\nvar PieNodeTag;\n(function (PieNodeTag) {\n    PieNodeTag[PieNodeTag[\"Sector\"] = 0] = \"Sector\";\n    PieNodeTag[PieNodeTag[\"Callout\"] = 1] = \"Callout\";\n    PieNodeTag[PieNodeTag[\"Label\"] = 2] = \"Label\";\n})(PieNodeTag || (PieNodeTag = {}));\nvar PieSeriesLabel = /** @class */ (function (_super) {\n    __extends(PieSeriesLabel, _super);\n    function PieSeriesLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.offset = 3; // from the callout line\n        _this.minAngle = 20; // in degrees\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], PieSeriesLabel.prototype, \"offset\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeriesLabel.prototype, \"minAngle\", void 0);\n    return PieSeriesLabel;\n}(Label));\nvar PieSeriesCallout = /** @class */ (function (_super) {\n    __extends(PieSeriesCallout, _super);\n    function PieSeriesCallout() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.colors = palette.strokes;\n        _this.length = 10;\n        _this.strokeWidth = 1;\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], PieSeriesCallout.prototype, \"colors\", void 0);\n    __decorate([\n        reactive('change')\n    ], PieSeriesCallout.prototype, \"length\", void 0);\n    __decorate([\n        reactive('change')\n    ], PieSeriesCallout.prototype, \"strokeWidth\", void 0);\n    return PieSeriesCallout;\n}(Observable));\nvar PieSeries = /** @class */ (function (_super) {\n    __extends(PieSeries, _super);\n    function PieSeries() {\n        var _this = _super.call(this) || this;\n        _this.radiusScale = new LinearScale();\n        _this.groupSelection = Selection.select(_this.group).selectAll();\n        /**\n         * The processed data that gets visualized.\n         */\n        _this.groupSelectionData = [];\n        _this.angleScale = (function () {\n            var scale = new LinearScale();\n            // Each slice is a ratio of the whole, where all ratios add up to 1.\n            scale.domain = [0, 1];\n            // Add 90 deg to start the first pie at 12 o'clock.\n            scale.range = [-Math.PI, Math.PI].map(function (angle) { return angle + Math.PI / 2; });\n            return scale;\n        })();\n        // When a user toggles a series item (e.g. from the legend), its boolean state is recorded here.\n        _this.seriesItemEnabled = [];\n        _this.label = new PieSeriesLabel();\n        _this.callout = new PieSeriesCallout();\n        /**\n         * The key of the numeric field to use to determine the angle (for example,\n         * a pie slice angle).\n         */\n        _this.angleKey = '';\n        _this.angleName = '';\n        _this._fills = palette.fills;\n        _this._strokes = palette.strokes;\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        /**\n         * The series rotation in degrees.\n         */\n        _this.rotation = 0;\n        _this.outerRadiusOffset = 0;\n        _this.innerRadiusOffset = 0;\n        _this.strokeWidth = 1;\n        _this.highlightStyle = { fill: 'yellow' };\n        _this.addEventListener('update', _this.update, _this);\n        _this.label.addEventListener('change', _this.scheduleLayout, _this);\n        _this.label.addEventListener('dataChange', _this.scheduleData, _this);\n        _this.callout.addEventListener('change', _this.scheduleLayout, _this);\n        _this.addPropertyListener('data', function (event) {\n            event.source.seriesItemEnabled = event.value.map(function () { return true; });\n        });\n        return _this;\n    }\n    Object.defineProperty(PieSeries.prototype, \"title\", {\n        get: function () {\n            return this._title;\n        },\n        set: function (value) {\n            var oldTitle = this._title;\n            if (oldTitle !== value) {\n                if (oldTitle) {\n                    oldTitle.removeEventListener('change', this.scheduleLayout);\n                    this.group.removeChild(oldTitle.node);\n                }\n                if (value) {\n                    value.node.textBaseline = 'bottom';\n                    value.addEventListener('change', this.scheduleLayout);\n                    this.group.appendChild(value.node);\n                }\n                this._title = value;\n                this.scheduleLayout();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PieSeries.prototype, \"fills\", {\n        get: function () {\n            return this._fills;\n        },\n        set: function (values) {\n            this._fills = values;\n            this.strokes = values.map(function (color) { return Color.fromString(color).darker().toHexString(); });\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PieSeries.prototype, \"strokes\", {\n        get: function () {\n            return this._strokes;\n        },\n        set: function (values) {\n            this._strokes = values;\n            this.callout.colors = values;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PieSeries.prototype.onHighlightChange = function () {\n        this.updateNodes();\n    };\n    PieSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.angleScale.domain;\n        }\n        else {\n            return this.radiusScale.domain;\n        }\n    };\n    PieSeries.prototype.processData = function () {\n        var _this = this;\n        var _a = this, angleKey = _a.angleKey, radiusKey = _a.radiusKey, seriesItemEnabled = _a.seriesItemEnabled, angleScale = _a.angleScale, groupSelectionData = _a.groupSelectionData;\n        var data = angleKey && this.data ? this.data : [];\n        var angleData = data.map(function (datum, index) { return seriesItemEnabled[index] && Math.abs(+datum[angleKey]) || 0; });\n        var angleDataTotal = angleData.reduce(function (a, b) { return a + b; }, 0);\n        // The ratios (in [0, 1] interval) used to calculate the end angle value for every pie slice.\n        // Each slice starts where the previous one ends, so we only keep the ratios for end angles.\n        var angleDataRatios = (function () {\n            var sum = 0;\n            return angleData.map(function (datum) { return sum += datum / angleDataTotal; });\n        })();\n        var labelKey = this.label.enabled && this.labelKey;\n        var labelData = labelKey ? data.map(function (datum) { return String(datum[labelKey]); }) : [];\n        var useRadiusKey = !!radiusKey && !this.innerRadiusOffset;\n        var radiusData = [];\n        if (useRadiusKey) {\n            var radii = data.map(function (datum) { return Math.abs(datum[radiusKey]); });\n            var maxDatum_1 = Math.max.apply(Math, radii);\n            radiusData = radii.map(function (value) { return value / maxDatum_1; });\n        }\n        groupSelectionData.length = 0;\n        var rotation = toRadians(this.rotation);\n        var halfPi = Math.PI / 2;\n        var datumIndex = 0;\n        // Simply use reduce here to pair up adjacent ratios.\n        angleDataRatios.reduce(function (start, end) {\n            var radius = useRadiusKey ? radiusData[datumIndex] : 1;\n            var startAngle = angleScale.convert(start) + rotation;\n            var endAngle = angleScale.convert(end) + rotation;\n            var midAngle = (startAngle + endAngle) / 2;\n            var span = Math.abs(endAngle - startAngle);\n            var midCos = Math.cos(midAngle);\n            var midSin = Math.sin(midAngle);\n            var labelMinAngle = toRadians(_this.label.minAngle);\n            var labelVisible = labelKey && span > labelMinAngle;\n            var midAngle180 = normalizeAngle180(midAngle);\n            // Split the circle into quadrants like so: ⊗\n            var quadrantStart = -3 * Math.PI / 4; // same as `normalizeAngle180(toRadians(-135))`\n            var textAlign;\n            var textBaseline;\n            if (midAngle180 >= quadrantStart && midAngle180 < (quadrantStart += halfPi)) {\n                textAlign = 'center';\n                textBaseline = 'bottom';\n            }\n            else if (midAngle180 >= quadrantStart && midAngle180 < (quadrantStart += halfPi)) {\n                textAlign = 'left';\n                textBaseline = 'middle';\n            }\n            else if (midAngle180 >= quadrantStart && midAngle180 < (quadrantStart += halfPi)) {\n                textAlign = 'center';\n                textBaseline = 'hanging';\n            }\n            else {\n                textAlign = 'right';\n                textBaseline = 'middle';\n            }\n            groupSelectionData.push({\n                series: _this,\n                seriesDatum: data[datumIndex],\n                index: datumIndex,\n                radius: radius,\n                startAngle: startAngle,\n                endAngle: endAngle,\n                midAngle: midAngle,\n                midCos: midCos,\n                midSin: midSin,\n                label: labelVisible ? {\n                    text: labelData[datumIndex],\n                    textAlign: textAlign,\n                    textBaseline: textBaseline\n                } : undefined\n            });\n            datumIndex++;\n            return end;\n        }, 0);\n        return true;\n    };\n    PieSeries.prototype.update = function () {\n        var chart = this.chart;\n        var visible = this.group.visible = this.visible && this.seriesItemEnabled.indexOf(true) >= 0;\n        if (!visible || !chart || chart.dataPending || chart.layoutPending) {\n            return;\n        }\n        this.radiusScale.range = [0, this.radius];\n        this.group.translationX = this.centerX;\n        this.group.translationY = this.centerY;\n        var title = this.title;\n        if (title) {\n            title.node.translationY = -this.radius - this.outerRadiusOffset - 2;\n            title.node.visible = title.enabled;\n        }\n        this.updateGroupSelection();\n        this.updateNodes();\n    };\n    PieSeries.prototype.updateGroupSelection = function () {\n        var updateGroups = this.groupSelection.setData(this.groupSelectionData);\n        updateGroups.exit.remove();\n        var enterGroups = updateGroups.enter.append(Group);\n        enterGroups.append(Sector).each(function (node) { return node.tag = PieNodeTag.Sector; });\n        enterGroups.append(Line).each(function (node) {\n            node.tag = PieNodeTag.Callout;\n            node.pointerEvents = PointerEvents.None;\n        });\n        enterGroups.append(Text).each(function (node) {\n            node.tag = PieNodeTag.Label;\n            node.pointerEvents = PointerEvents.None;\n        });\n        this.groupSelection = updateGroups.merge(enterGroups);\n    };\n    PieSeries.prototype.updateNodes = function () {\n        var _a = this, fills = _a.fills, strokes = _a.strokes, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity, strokeWidth = _a.strokeWidth, outerRadiusOffset = _a.outerRadiusOffset, innerRadiusOffset = _a.innerRadiusOffset, radiusScale = _a.radiusScale, callout = _a.callout, shadow = _a.shadow, _b = _a.highlightStyle, fill = _b.fill, stroke = _b.stroke, centerOffset = _b.centerOffset;\n        var highlightedDatum = this.chart.highlightedDatum;\n        var minOuterRadius = Infinity;\n        var outerRadii = [];\n        var centerOffsets = [];\n        this.groupSelection.selectByTag(PieNodeTag.Sector).each(function (sector, datum, index) {\n            var radius = radiusScale.convert(datum.radius);\n            var outerRadius = Math.max(0, radius + outerRadiusOffset);\n            if (minOuterRadius > outerRadius) {\n                minOuterRadius = outerRadius;\n            }\n            sector.outerRadius = outerRadius;\n            sector.innerRadius = Math.max(0, innerRadiusOffset ? radius + innerRadiusOffset : 0);\n            sector.startAngle = datum.startAngle;\n            sector.endAngle = datum.endAngle;\n            var highlighted = datum === highlightedDatum;\n            sector.fill = highlighted && fill !== undefined ? fill : fills[index % fills.length];\n            sector.stroke = highlighted && stroke !== undefined ? stroke : strokes[index % strokes.length];\n            sector.fillOpacity = fillOpacity;\n            sector.strokeOpacity = strokeOpacity;\n            sector.centerOffset = highlighted && centerOffset !== undefined ? centerOffset : 0;\n            sector.fillShadow = shadow;\n            sector.strokeWidth = strokeWidth;\n            sector.lineJoin = 'round';\n            outerRadii.push(outerRadius);\n            centerOffsets.push(sector.centerOffset);\n        });\n        var calloutColors = callout.colors, calloutLength = callout.length, calloutStrokeWidth = callout.strokeWidth;\n        this.groupSelection.selectByTag(PieNodeTag.Callout).each(function (line, datum, index) {\n            if (datum.label) {\n                var outerRadius = centerOffsets[index] + outerRadii[index];\n                line.strokeWidth = calloutStrokeWidth;\n                line.stroke = calloutColors[index % calloutColors.length];\n                line.x1 = datum.midCos * outerRadius;\n                line.y1 = datum.midSin * outerRadius;\n                line.x2 = datum.midCos * (outerRadius + calloutLength);\n                line.y2 = datum.midSin * (outerRadius + calloutLength);\n            }\n            else {\n                line.stroke = undefined;\n            }\n        });\n        {\n            var _c = this.label, offset_1 = _c.offset, fontStyle_1 = _c.fontStyle, fontWeight_1 = _c.fontWeight, fontSize_1 = _c.fontSize, fontFamily_1 = _c.fontFamily, color_1 = _c.color;\n            this.groupSelection.selectByTag(PieNodeTag.Label).each(function (text, datum, index) {\n                var label = datum.label;\n                if (label) {\n                    var outerRadius = outerRadii[index];\n                    var labelRadius = centerOffsets[index] + outerRadius + calloutLength + offset_1;\n                    text.fontStyle = fontStyle_1;\n                    text.fontWeight = fontWeight_1;\n                    text.fontSize = fontSize_1;\n                    text.fontFamily = fontFamily_1;\n                    text.text = label.text;\n                    text.x = datum.midCos * labelRadius;\n                    text.y = datum.midSin * labelRadius;\n                    text.fill = color_1;\n                    text.textAlign = label.textAlign;\n                    text.textBaseline = label.textBaseline;\n                }\n                else {\n                    text.fill = undefined;\n                }\n            });\n        }\n    };\n    PieSeries.prototype.fireNodeClickEvent = function (datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            series: this,\n            datum: datum.seriesDatum,\n            angleKey: this.angleKey,\n            radiusKey: this.radiusKey\n        });\n    };\n    PieSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var angleKey = this.angleKey;\n        if (!angleKey) {\n            return '';\n        }\n        var _a = this, title = _a.title, fills = _a.fills, tooltipRenderer = _a.tooltipRenderer, angleName = _a.angleName, radiusKey = _a.radiusKey, radiusName = _a.radiusName, labelKey = _a.labelKey, labelName = _a.labelName;\n        var text = title ? title.text : undefined;\n        var color = fills[nodeDatum.index % fills.length];\n        if (tooltipRenderer) {\n            return tooltipRenderer({\n                datum: nodeDatum.seriesDatum,\n                angleKey: angleKey,\n                angleName: angleName,\n                radiusKey: radiusKey,\n                radiusName: radiusName,\n                labelKey: labelKey,\n                labelName: labelName,\n                title: text,\n                color: color,\n            });\n        }\n        else {\n            var titleStyle = \"style=\\\"color: white; background-color: \" + color + \"\\\"\";\n            var titleString = title ? \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-title\\\" \" + titleStyle + \">\" + text + \"</div>\" : '';\n            var label = labelKey ? nodeDatum.seriesDatum[labelKey] + \": \" : '';\n            var value = nodeDatum.seriesDatum[angleKey];\n            var formattedValue = typeof value === 'number' ? toFixed(value) : value.toString();\n            return titleString + \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-content\\\">\" + label + formattedValue + \"</div>\";\n        }\n    };\n    PieSeries.prototype.listSeriesItems = function (legendData) {\n        var _this = this;\n        var _a = this, labelKey = _a.labelKey, data = _a.data;\n        if (data && data.length && labelKey) {\n            var _b = this, fills_1 = _b.fills, strokes_1 = _b.strokes, id_1 = _b.id;\n            data.forEach(function (datum, index) {\n                legendData.push({\n                    id: id_1,\n                    itemId: index,\n                    enabled: _this.seriesItemEnabled[index],\n                    label: {\n                        text: String(datum[labelKey])\n                    },\n                    marker: {\n                        fill: fills_1[index % fills_1.length],\n                        stroke: strokes_1[index % strokes_1.length],\n                        fillOpacity: _this.fillOpacity,\n                        strokeOpacity: _this.strokeOpacity\n                    }\n                });\n            });\n        }\n    };\n    PieSeries.prototype.toggleSeriesItem = function (itemId, enabled) {\n        this.seriesItemEnabled[itemId] = enabled;\n        this.scheduleData();\n    };\n    PieSeries.className = 'PieSeries';\n    PieSeries.type = 'pie';\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"angleKey\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"angleName\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"radiusKey\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"radiusName\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"labelKey\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"labelName\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"rotation\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"outerRadiusOffset\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"innerRadiusOffset\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"shadow\", void 0);\n    return PieSeries;\n}(PolarSeries));\nexport { PieSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Shape } from \"./shape\";\nimport { Path2D } from \"../path2D\";\nimport { normalizeAngle360 } from \"../../util/angle\";\nimport { isEqual } from \"../../util/number\";\nimport { BBox } from \"../bbox\";\nvar Sector = /** @class */ (function (_super) {\n    __extends(Sector, _super);\n    function Sector() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.path = new Path2D();\n        _this._dirtyPath = true;\n        _this._centerX = 0;\n        _this._centerY = 0;\n        _this._centerOffset = 0;\n        _this._innerRadius = 10;\n        _this._outerRadius = 20;\n        _this._startAngle = 0;\n        _this._endAngle = Math.PI * 2;\n        _this._angleOffset = 0;\n        return _this;\n    }\n    Object.defineProperty(Sector.prototype, \"dirtyPath\", {\n        get: function () {\n            return this._dirtyPath;\n        },\n        set: function (value) {\n            if (this._dirtyPath !== value) {\n                this._dirtyPath = value;\n                if (value) {\n                    this.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"centerX\", {\n        get: function () {\n            return this._centerX;\n        },\n        set: function (value) {\n            if (this._centerX !== value) {\n                this._centerX = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"centerY\", {\n        get: function () {\n            return this._centerY;\n        },\n        set: function (value) {\n            if (this._centerY !== value) {\n                this._centerY = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"centerOffset\", {\n        get: function () {\n            return this._centerOffset;\n        },\n        set: function (value) {\n            if (this._centerOffset !== value) {\n                this._centerOffset = Math.max(0, value);\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"innerRadius\", {\n        get: function () {\n            return this._innerRadius;\n        },\n        set: function (value) {\n            if (this._innerRadius !== value) {\n                this._innerRadius = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"outerRadius\", {\n        get: function () {\n            return this._outerRadius;\n        },\n        set: function (value) {\n            if (this._outerRadius !== value) {\n                this._outerRadius = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"startAngle\", {\n        get: function () {\n            return this._startAngle;\n        },\n        set: function (value) {\n            if (this._startAngle !== value) {\n                this._startAngle = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"endAngle\", {\n        get: function () {\n            return this._endAngle;\n        },\n        set: function (value) {\n            if (this._endAngle !== value) {\n                this._endAngle = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"angleOffset\", {\n        get: function () {\n            return this._angleOffset;\n        },\n        set: function (value) {\n            if (this._angleOffset !== value) {\n                this._angleOffset = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Sector.prototype.computeBBox = function () {\n        var radius = this.outerRadius;\n        return new BBox(this.centerX - radius, this.centerY - radius, radius * 2, radius * 2);\n    };\n    Sector.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        return this.path.isPointInPath(point.x, point.y);\n    };\n    Sector.prototype.isPointInStroke = function (x, y) {\n        return false;\n    };\n    Object.defineProperty(Sector.prototype, \"fullPie\", {\n        get: function () {\n            return isEqual(normalizeAngle360(this.startAngle), normalizeAngle360(this.endAngle));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Sector.prototype.updatePath = function () {\n        if (!this.dirtyPath) {\n            return;\n        }\n        var path = this.path;\n        var angleOffset = this.angleOffset;\n        var startAngle = Math.min(this.startAngle, this.endAngle) + angleOffset;\n        var endAngle = Math.max(this.startAngle, this.endAngle) + angleOffset;\n        var midAngle = (startAngle + endAngle) * 0.5;\n        var innerRadius = Math.min(this.innerRadius, this.outerRadius);\n        var outerRadius = Math.max(this.innerRadius, this.outerRadius);\n        var centerOffset = this.centerOffset;\n        var fullPie = this.fullPie;\n        var radiiGap = outerRadius - innerRadius;\n        // const tipOffset = radiiGap / 3;\n        // const showTip = radiiGap < outerRadius / 2;\n        var centerX = this.centerX;\n        var centerY = this.centerY;\n        path.clear();\n        if (centerOffset) {\n            centerX += centerOffset * Math.cos(midAngle);\n            centerY += centerOffset * Math.sin(midAngle);\n        }\n        if (!fullPie) {\n            path.moveTo(centerX + innerRadius * Math.cos(startAngle), centerY + innerRadius * Math.sin(startAngle));\n            // if (showTip) {\n            //     path.lineTo(\n            //         centerX + 0.5 * (innerRadius + outerRadius) * Math.cos(startAngle) + tipOffset * Math.cos(startAngle + Math.PI / 2),\n            //         centerY + 0.5 * (innerRadius + outerRadius) * Math.sin(startAngle) + tipOffset * Math.sin(startAngle + Math.PI / 2)\n            //     );\n            // }\n            path.lineTo(centerX + outerRadius * Math.cos(startAngle), centerY + outerRadius * Math.sin(startAngle));\n        }\n        path.cubicArc(centerX, centerY, outerRadius, outerRadius, 0, startAngle, endAngle, 0);\n        // path[fullPie ? 'moveTo' : 'lineTo'](\n        //     centerX + innerRadius * Math.cos(endAngle),\n        //     centerY + innerRadius * Math.sin(endAngle)\n        // );\n        if (fullPie) {\n            path.moveTo(centerX + innerRadius * Math.cos(endAngle), centerY + innerRadius * Math.sin(endAngle));\n        }\n        else {\n            // if (showTip) {\n            //     path.lineTo(\n            //         centerX + 0.5 * (innerRadius + outerRadius) * Math.cos(endAngle) + tipOffset * Math.cos(endAngle + Math.PI / 2),\n            //         centerY + 0.5 * (innerRadius + outerRadius) * Math.sin(endAngle) + tipOffset * Math.sin(endAngle + Math.PI / 2)\n            //     );\n            // }\n            // Temp workaround for https://bugs.chromium.org/p/chromium/issues/detail?id=993330\n            // Revert this commit when fixed ^^.\n            var x = centerX + innerRadius * Math.cos(endAngle);\n            path.lineTo(Math.abs(x) < 1e-8 ? 0 : x, centerY + innerRadius * Math.sin(endAngle));\n        }\n        path.cubicArc(centerX, centerY, innerRadius, innerRadius, 0, endAngle, startAngle, 1);\n        path.closePath();\n        this.dirtyPath = false;\n    };\n    Sector.prototype.render = function (ctx) {\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        this.matrix.toContext(ctx);\n        this.updatePath();\n        this.scene.appendPath(this.path);\n        this.fillStroke(ctx);\n        this.dirty = false;\n    };\n    Sector.className = 'Sector';\n    return Sector;\n}(Shape));\nexport { Sector };\n","var Color = /** @class */ (function () {\n    /**\n     * Every color component should be in the [0, 1] range.\n     * Some easing functions (such as elastic easing) can overshoot the target value by some amount.\n     * So, when animating colors, if the source or target color components are already near\n     * or at the edge of the allowed [0, 1] range, it is possible for the intermediate color\n     * component value to end up outside of that range mid-animation. For this reason the constructor\n     * performs range checking/constraining.\n     * @param r Red component.\n     * @param g Green component.\n     * @param b Blue component.\n     * @param a Alpha (opacity) component.\n     */\n    function Color(r, g, b, a) {\n        if (a === void 0) { a = 1; }\n        // NaN is treated as 0.\n        this.r = Math.min(1, Math.max(0, r || 0));\n        this.g = Math.min(1, Math.max(0, g || 0));\n        this.b = Math.min(1, Math.max(0, b || 0));\n        this.a = Math.min(1, Math.max(0, a || 0));\n    }\n    /**\n     * The given string can be in one of the following formats:\n     * - #rgb\n     * - #rrggbb\n     * - rgb(r, g, b)\n     * - rgba(r, g, b, a)\n     * - CSS color name such as 'white', 'orange', 'cyan', etc.\n     * @param str\n     */\n    Color.fromString = function (str) {\n        // hexadecimal notation\n        if (str.indexOf('#') >= 0) { // there can be some leading whitespace\n            return Color.fromHexString(str);\n        }\n        // color name\n        var hex = Color.nameToHex[str];\n        if (hex) {\n            return Color.fromHexString(hex);\n        }\n        // rgb(a) notation\n        if (str.indexOf('rgb') >= 0) {\n            return Color.fromRgbaString(str);\n        }\n        throw new Error(\"Invalid color string: '\" + str + \"'\");\n    };\n    // Using separate RegExp for the short hex notation because strings like `#abcd`\n    // are matched as ['#abcd', 'ab', 'c', 'd', undefined] when the `{1,2}` quantifier is used.\n    Color.fromHexString = function (str) {\n        var values = str.match(Color.hexRe);\n        if (values) {\n            var r = parseInt(values[1], 16);\n            var g = parseInt(values[2], 16);\n            var b = parseInt(values[3], 16);\n            var a = values[4] !== undefined ? parseInt(values[4], 16) : 255;\n            return new Color(r / 255, g / 255, b / 255, a / 255);\n        }\n        values = str.match(Color.shortHexRe);\n        if (values) {\n            var r = parseInt(values[1], 16);\n            var g = parseInt(values[2], 16);\n            var b = parseInt(values[3], 16);\n            var a = values[4] !== undefined ? parseInt(values[4], 16) : 15;\n            r += r * 16;\n            g += g * 16;\n            b += b * 16;\n            a += a * 16;\n            return new Color(r / 255, g / 255, b / 255, a / 255);\n        }\n        throw new Error(\"Malformed hexadecimal color string: '\" + str + \"'\");\n    };\n    Color.fromRgbaString = function (str) {\n        var values = str.match(Color.rgbRe);\n        if (values) {\n            return new Color(+values[1] / 255, +values[2] / 255, +values[3] / 255);\n        }\n        values = str.match(Color.rgbaRe);\n        if (values) {\n            return new Color(+values[1] / 255, +values[2] / 255, +values[3] / 255, +values[4]);\n        }\n        throw new Error(\"Malformed rgb/rgba color string: '\" + str + \"'\");\n    };\n    Color.fromArray = function (arr) {\n        if (arr.length === 4) {\n            return new Color(arr[0], arr[1], arr[2], arr[3]);\n        }\n        if (arr.length === 3) {\n            return new Color(arr[0], arr[1], arr[2]);\n        }\n        throw new Error('The given array should contain 3 or 4 color components (numbers).');\n    };\n    Color.fromHSB = function (h, s, b, alpha) {\n        if (alpha === void 0) { alpha = 1; }\n        var rgb = Color.HSBtoRGB(h, s, b);\n        return new Color(rgb[0], rgb[1], rgb[2], alpha);\n    };\n    Color.padHex = function (str) {\n        // Can't use `padStart(2, '0')` here because of IE.\n        return str.length === 1 ? '0' + str : str;\n    };\n    Color.prototype.toHexString = function () {\n        var hex = '#'\n            + Color.padHex(Math.round(this.r * 255).toString(16))\n            + Color.padHex(Math.round(this.g * 255).toString(16))\n            + Color.padHex(Math.round(this.b * 255).toString(16));\n        if (this.a < 1) {\n            hex += Color.padHex(Math.round(this.a * 255).toString(16));\n        }\n        return hex;\n    };\n    Color.prototype.toRgbaString = function (fractionDigits) {\n        if (fractionDigits === void 0) { fractionDigits = 3; }\n        var components = [\n            Math.round(this.r * 255),\n            Math.round(this.g * 255),\n            Math.round(this.b * 255)\n        ];\n        var k = Math.pow(10, fractionDigits);\n        if (this.a !== 1) {\n            components.push(Math.round(this.a * k) / k);\n            return \"rgba(\" + components.join(', ') + \")\";\n        }\n        return \"rgb(\" + components.join(', ') + \")\";\n    };\n    Color.prototype.toString = function () {\n        if (this.a === 1) {\n            return this.toHexString();\n        }\n        return this.toRgbaString();\n    };\n    Color.prototype.toHSB = function () {\n        return Color.RGBtoHSB(this.r, this.g, this.b);\n    };\n    /**\n     * Converts the given RGB triple to an array of HSB (HSV) components.\n     * The hue component will be `NaN` for achromatic colors.\n     */\n    Color.RGBtoHSB = function (r, g, b) {\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n        var S = max !== 0 ? (max - min) / max : 0;\n        var H = NaN;\n        // min == max, means all components are the same\n        // and the color is a shade of gray with no hue (H is NaN)\n        if (min !== max) {\n            var delta = max - min;\n            var rc = (max - r) / delta;\n            var gc = (max - g) / delta;\n            var bc = (max - b) / delta;\n            if (r === max) {\n                H = bc - gc;\n            }\n            else if (g === max) {\n                H = 2.0 + rc - bc;\n            }\n            else {\n                H = 4.0 + gc - rc;\n            }\n            H /= 6.0;\n            if (H < 0) {\n                H = H + 1.0;\n            }\n        }\n        return [H * 360, S, max];\n    };\n    /**\n     * Converts the given HSB (HSV) triple to an array of RGB components.\n     */\n    Color.HSBtoRGB = function (H, S, B) {\n        if (isNaN(H)) {\n            H = 0;\n        }\n        H = (((H % 360) + 360) % 360) / 360; // normalize hue to [0, 360] interval, then scale to [0, 1]\n        var r = 0;\n        var g = 0;\n        var b = 0;\n        if (S === 0) {\n            r = g = b = B;\n        }\n        else {\n            var h = (H - Math.floor(H)) * 6;\n            var f = h - Math.floor(h);\n            var p = B * (1 - S);\n            var q = B * (1 - S * f);\n            var t = B * (1 - (S * (1 - f)));\n            switch (h >> 0) { // discard the floating point part of the number\n                case 0:\n                    r = B;\n                    g = t;\n                    b = p;\n                    break;\n                case 1:\n                    r = q;\n                    g = B;\n                    b = p;\n                    break;\n                case 2:\n                    r = p;\n                    g = B;\n                    b = t;\n                    break;\n                case 3:\n                    r = p;\n                    g = q;\n                    b = B;\n                    break;\n                case 4:\n                    r = t;\n                    g = p;\n                    b = B;\n                    break;\n                case 5:\n                    r = B;\n                    g = p;\n                    b = q;\n                    break;\n            }\n        }\n        return [r, g, b];\n    };\n    Color.prototype.derive = function (hueShift, saturationFactor, brightnessFactor, opacityFactor) {\n        var hsb = Color.RGBtoHSB(this.r, this.g, this.b);\n        var b = hsb[2];\n        if (b == 0 && brightnessFactor > 1.0) {\n            b = 0.05;\n        }\n        var h = (((hsb[0] + hueShift) % 360) + 360) % 360;\n        var s = Math.max(Math.min(hsb[1] * saturationFactor, 1.0), 0.0);\n        b = Math.max(Math.min(b * brightnessFactor, 1.0), 0.0);\n        var a = Math.max(Math.min(this.a * opacityFactor, 1.0), 0.0);\n        var rgba = Color.HSBtoRGB(h, s, b);\n        rgba.push(a);\n        return Color.fromArray(rgba);\n    };\n    Color.prototype.brighter = function () {\n        return this.derive(0, 1.0, 1.0 / 0.7, 1.0);\n    };\n    Color.prototype.darker = function () {\n        return this.derive(0, 1.0, 0.7, 1.0);\n    };\n    // See https://drafts.csswg.org/css-color/#hex-notation\n    Color.hexRe = /\\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\\s*$/;\n    Color.shortHexRe = /\\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\\s*$/;\n    Color.rgbRe = /\\s*rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)\\s*/;\n    Color.rgbaRe = /\\s*rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*([.\\d]+)\\)\\s*/;\n    /**\n     * CSS Color Module Level 4:\n     * https://drafts.csswg.org/css-color/#named-colors\n     */\n    Color.nameToHex = Object.freeze({\n        aliceblue: '#F0F8FF',\n        antiquewhite: '#FAEBD7',\n        aqua: '#00FFFF',\n        aquamarine: '#7FFFD4',\n        azure: '#F0FFFF',\n        beige: '#F5F5DC',\n        bisque: '#FFE4C4',\n        black: '#000000',\n        blanchedalmond: '#FFEBCD',\n        blue: '#0000FF',\n        blueviolet: '#8A2BE2',\n        brown: '#A52A2A',\n        burlywood: '#DEB887',\n        cadetblue: '#5F9EA0',\n        chartreuse: '#7FFF00',\n        chocolate: '#D2691E',\n        coral: '#FF7F50',\n        cornflowerblue: '#6495ED',\n        cornsilk: '#FFF8DC',\n        crimson: '#DC143C',\n        cyan: '#00FFFF',\n        darkblue: '#00008B',\n        darkcyan: '#008B8B',\n        darkgoldenrod: '#B8860B',\n        darkgray: '#A9A9A9',\n        darkgreen: '#006400',\n        darkgrey: '#A9A9A9',\n        darkkhaki: '#BDB76B',\n        darkmagenta: '#8B008B',\n        darkolivegreen: '#556B2F',\n        darkorange: '#FF8C00',\n        darkorchid: '#9932CC',\n        darkred: '#8B0000',\n        darksalmon: '#E9967A',\n        darkseagreen: '#8FBC8F',\n        darkslateblue: '#483D8B',\n        darkslategray: '#2F4F4F',\n        darkslategrey: '#2F4F4F',\n        darkturquoise: '#00CED1',\n        darkviolet: '#9400D3',\n        deeppink: '#FF1493',\n        deepskyblue: '#00BFFF',\n        dimgray: '#696969',\n        dimgrey: '#696969',\n        dodgerblue: '#1E90FF',\n        firebrick: '#B22222',\n        floralwhite: '#FFFAF0',\n        forestgreen: '#228B22',\n        fuchsia: '#FF00FF',\n        gainsboro: '#DCDCDC',\n        ghostwhite: '#F8F8FF',\n        gold: '#FFD700',\n        goldenrod: '#DAA520',\n        gray: '#808080',\n        green: '#008000',\n        greenyellow: '#ADFF2F',\n        grey: '#808080',\n        honeydew: '#F0FFF0',\n        hotpink: '#FF69B4',\n        indianred: '#CD5C5C',\n        indigo: '#4B0082',\n        ivory: '#FFFFF0',\n        khaki: '#F0E68C',\n        lavender: '#E6E6FA',\n        lavenderblush: '#FFF0F5',\n        lawngreen: '#7CFC00',\n        lemonchiffon: '#FFFACD',\n        lightblue: '#ADD8E6',\n        lightcoral: '#F08080',\n        lightcyan: '#E0FFFF',\n        lightgoldenrodyellow: '#FAFAD2',\n        lightgray: '#D3D3D3',\n        lightgreen: '#90EE90',\n        lightgrey: '#D3D3D3',\n        lightpink: '#FFB6C1',\n        lightsalmon: '#FFA07A',\n        lightseagreen: '#20B2AA',\n        lightskyblue: '#87CEFA',\n        lightslategray: '#778899',\n        lightslategrey: '#778899',\n        lightsteelblue: '#B0C4DE',\n        lightyellow: '#FFFFE0',\n        lime: '#00FF00',\n        limegreen: '#32CD32',\n        linen: '#FAF0E6',\n        magenta: '#FF00FF',\n        maroon: '#800000',\n        mediumaquamarine: '#66CDAA',\n        mediumblue: '#0000CD',\n        mediumorchid: '#BA55D3',\n        mediumpurple: '#9370DB',\n        mediumseagreen: '#3CB371',\n        mediumslateblue: '#7B68EE',\n        mediumspringgreen: '#00FA9A',\n        mediumturquoise: '#48D1CC',\n        mediumvioletred: '#C71585',\n        midnightblue: '#191970',\n        mintcream: '#F5FFFA',\n        mistyrose: '#FFE4E1',\n        moccasin: '#FFE4B5',\n        navajowhite: '#FFDEAD',\n        navy: '#000080',\n        oldlace: '#FDF5E6',\n        olive: '#808000',\n        olivedrab: '#6B8E23',\n        orange: '#FFA500',\n        orangered: '#FF4500',\n        orchid: '#DA70D6',\n        palegoldenrod: '#EEE8AA',\n        palegreen: '#98FB98',\n        paleturquoise: '#AFEEEE',\n        palevioletred: '#DB7093',\n        papayawhip: '#FFEFD5',\n        peachpuff: '#FFDAB9',\n        peru: '#CD853F',\n        pink: '#FFC0CB',\n        plum: '#DDA0DD',\n        powderblue: '#B0E0E6',\n        purple: '#800080',\n        rebeccapurple: '#663399',\n        red: '#FF0000',\n        rosybrown: '#BC8F8F',\n        royalblue: '#4169E1',\n        saddlebrown: '#8B4513',\n        salmon: '#FA8072',\n        sandybrown: '#F4A460',\n        seagreen: '#2E8B57',\n        seashell: '#FFF5EE',\n        sienna: '#A0522D',\n        silver: '#C0C0C0',\n        skyblue: '#87CEEB',\n        slateblue: '#6A5ACD',\n        slategray: '#708090',\n        slategrey: '#708090',\n        snow: '#FFFAFA',\n        springgreen: '#00FF7F',\n        steelblue: '#4682B4',\n        tan: '#D2B48C',\n        teal: '#008080',\n        thistle: '#D8BFD8',\n        tomato: '#FF6347',\n        turquoise: '#40E0D0',\n        violet: '#EE82EE',\n        wheat: '#F5DEB3',\n        white: '#FFFFFF',\n        whitesmoke: '#F5F5F5',\n        yellow: '#FFFF00',\n        yellowgreen: '#9ACD32'\n    });\n    return Color;\n}());\nexport { Color };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Observable, reactive } from \"../util/observable\";\nvar DropShadow = /** @class */ (function (_super) {\n    __extends(DropShadow, _super);\n    function DropShadow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.enabled = true;\n        _this.color = 'rgba(0, 0, 0, 0.5)';\n        _this.xOffset = 0;\n        _this.yOffset = 0;\n        _this.blur = 5;\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], DropShadow.prototype, \"enabled\", void 0);\n    __decorate([\n        reactive('change')\n    ], DropShadow.prototype, \"color\", void 0);\n    __decorate([\n        reactive('change')\n    ], DropShadow.prototype, \"xOffset\", void 0);\n    __decorate([\n        reactive('change')\n    ], DropShadow.prototype, \"yOffset\", void 0);\n    __decorate([\n        reactive('change')\n    ], DropShadow.prototype, \"blur\", void 0);\n    return DropShadow;\n}(Observable));\nexport { DropShadow };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { LinearScale } from \"../../scale/linearScale\";\nimport { ChartAxis } from \"../chartAxis\";\nvar NumberAxis = /** @class */ (function (_super) {\n    __extends(NumberAxis, _super);\n    function NumberAxis() {\n        var _this = _super.call(this, new LinearScale()) || this;\n        _this._nice = true;\n        _this._min = NaN;\n        _this._max = NaN;\n        _this.scale.clamp = true;\n        return _this;\n    }\n    Object.defineProperty(NumberAxis.prototype, \"nice\", {\n        get: function () {\n            return this._nice;\n        },\n        set: function (value) {\n            if (this._nice !== value) {\n                this._nice = value;\n                if (value && this.scale.nice) {\n                    this.scale.nice(10);\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NumberAxis.prototype, \"domain\", {\n        get: function () {\n            return this.scale.domain;\n        },\n        set: function (value) {\n            var _a = this, min = _a.min, max = _a.max;\n            value = [\n                isNaN(min) ? value[0] : min,\n                isNaN(max) ? value[1] : max\n            ];\n            this.scale.domain = value;\n            if (this.nice && this.scale.nice) {\n                this.scale.nice(10);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NumberAxis.prototype, \"min\", {\n        get: function () {\n            return this._min;\n        },\n        set: function (value) {\n            if (this._min !== value) {\n                this._min = value;\n                if (!isNaN(value)) {\n                    this.scale.domain = [value, this.scale.domain[1]];\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NumberAxis.prototype, \"max\", {\n        get: function () {\n            return this._max;\n        },\n        set: function (value) {\n            if (this._max !== value) {\n                this._max = value;\n                if (!isNaN(value)) {\n                    this.scale.domain = [this.scale.domain[0], value];\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    NumberAxis.className = 'NumberAxis';\n    NumberAxis.type = 'number';\n    return NumberAxis;\n}(ChartAxis));\nexport { NumberAxis };\n","export function convertToMap(list) {\n    var map = new Map();\n    list.forEach(function (_a) {\n        var key = _a[0], value = _a[1];\n        return map.set(key, value);\n    });\n    return map;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar t0 = new Date;\nvar t1 = new Date;\n/**\n * The interval methods don't mutate Date parameters.\n */\nvar TimeInterval = /** @class */ (function () {\n    function TimeInterval(floor, offset) {\n        this._floor = floor;\n        this._offset = offset;\n    }\n    /**\n     * Returns a new date representing the latest interval boundary date before or equal to date.\n     * For example, `day.floor(date)` typically returns 12:00 AM local time on the given date.\n     * @param date\n     */\n    TimeInterval.prototype.floor = function (date) {\n        date = new Date(+date);\n        this._floor(date);\n        return date;\n    };\n    /**\n     * Returns a new date representing the earliest interval boundary date after or equal to date.\n     * @param date\n     */\n    TimeInterval.prototype.ceil = function (date) {\n        date = new Date(+date - 1);\n        this._floor(date);\n        this._offset(date, 1);\n        this._floor(date);\n        return date;\n    };\n    /**\n     * Returns a new date representing the closest interval boundary date to date.\n     * @param date\n     */\n    TimeInterval.prototype.round = function (date) {\n        var d0 = this.floor(date);\n        var d1 = this.ceil(date);\n        var ms = +date;\n        return ms - d0.getTime() < d1.getTime() - ms ? d0 : d1;\n    };\n    /**\n     * Returns a new date equal to date plus step intervals.\n     * @param date\n     * @param step\n     */\n    TimeInterval.prototype.offset = function (date, step) {\n        if (step === void 0) { step = 1; }\n        date = new Date(+date);\n        this._offset(date, Math.floor(step));\n        return date;\n    };\n    /**\n     * Returns an array of dates representing every interval boundary after or equal to start (inclusive) and before stop (exclusive).\n     * @param start\n     * @param stop\n     * @param step\n     */\n    TimeInterval.prototype.range = function (start, stop, step) {\n        if (step === void 0) { step = 1; }\n        var range = [];\n        start = this.ceil(start);\n        step = Math.floor(step);\n        if (start > stop || step <= 0) {\n            return range;\n        }\n        var previous;\n        do {\n            previous = new Date(+start);\n            range.push(previous);\n            this._offset(start, step);\n            this._floor(start);\n        } while (previous < start && start < stop);\n        return range;\n    };\n    // Returns an interval that is a subset of this interval.\n    // For example, to create an interval that return 1st, 11th, 21st and 31st of each month:\n    // day.filter(date => (date.getDate() - 1) % 10 === 0)\n    TimeInterval.prototype.filter = function (test) {\n        var _this = this;\n        var floor = function (date) {\n            if (date >= date) {\n                while (_this._floor(date), !test(date)) {\n                    date.setTime(date.getTime() - 1);\n                }\n            }\n            return date;\n        };\n        var offset = function (date, step) {\n            if (date >= date) {\n                if (step < 0) {\n                    while (++step <= 0) {\n                        do {\n                            _this._offset(date, -1);\n                        } while (!test(date));\n                    }\n                }\n                else {\n                    while (--step >= 0) {\n                        do {\n                            _this._offset(date, 1);\n                        } while (!test(date));\n                    }\n                }\n            }\n            return date;\n        };\n        return new TimeInterval(floor, offset);\n    };\n    return TimeInterval;\n}());\nexport { TimeInterval };\nvar CountableTimeInterval = /** @class */ (function (_super) {\n    __extends(CountableTimeInterval, _super);\n    function CountableTimeInterval(floor, offset, count, field) {\n        var _this = _super.call(this, floor, offset) || this;\n        _this._count = count;\n        _this._field = field;\n        return _this;\n    }\n    /**\n     * Returns the number of interval boundaries after start (exclusive) and before or equal to end (inclusive).\n     * @param start\n     * @param end\n     */\n    CountableTimeInterval.prototype.count = function (start, end) {\n        t0.setTime(+start);\n        t1.setTime(+end);\n        this._floor(t0);\n        this._floor(t1);\n        return Math.floor(this._count(t0, t1));\n    };\n    /**\n     * Returns a filtered view of this interval representing every step'th date.\n     * The meaning of step is dependent on this interval’s parent interval as defined by the `field` function.\n     * @param step\n     */\n    CountableTimeInterval.prototype.every = function (step) {\n        var _this = this;\n        var result;\n        step = Math.floor(step);\n        if (isFinite(step) && step > 0) {\n            if (step > 1) {\n                var field_1 = this._field;\n                if (field_1) {\n                    result = this.filter(function (d) { return field_1(d) % step === 0; });\n                }\n                else {\n                    result = this.filter(function (d) { return _this.count(0, d) % step === 0; });\n                }\n            }\n            else {\n                result = this;\n            }\n        }\n        return result;\n    };\n    return CountableTimeInterval;\n}(TimeInterval));\nexport { CountableTimeInterval };\n","import { CountableTimeInterval } from \"./interval\";\nfunction floor(date) {\n    return date;\n}\nfunction offset(date, milliseconds) {\n    date.setTime(date.getTime() + milliseconds);\n}\nfunction count(start, end) {\n    return end.getTime() - start.getTime();\n}\nexport var millisecond = new CountableTimeInterval(floor, offset, count);\nexport default millisecond;\n","// Common time unit sizes in milliseconds.\nexport var durationSecond = 1000;\nexport var durationMinute = durationSecond * 60;\nexport var durationHour = durationMinute * 60;\nexport var durationDay = durationHour * 24;\nexport var durationWeek = durationDay * 7;\nexport var durationMonth = durationDay * 30;\nexport var durationYear = durationDay * 365;\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationSecond } from \"./duration\";\nfunction floor(date) {\n    date.setTime(date.getTime() - date.getMilliseconds());\n}\nfunction offset(date, seconds) {\n    date.setTime(date.getTime() + seconds * durationSecond);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationSecond;\n}\nexport var second = new CountableTimeInterval(floor, offset, count);\nexport default second;\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationMinute, durationSecond } from \"./duration\";\nfunction floor(date) {\n    date.setTime(date.getTime() - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}\nfunction offset(date, minutes) {\n    date.setTime(date.getTime() + minutes * durationMinute);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationMinute;\n}\nfunction field(date) {\n    return date.getMinutes();\n}\nexport var minute = new CountableTimeInterval(floor, offset, count, field);\nexport default minute;\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationHour, durationMinute, durationSecond } from \"./duration\";\nfunction floor(date) {\n    date.setTime(date.getTime() - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}\nfunction offset(date, hours) {\n    date.setTime(date.getTime() + hours * durationHour);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationHour;\n}\nfunction field(date) {\n    return date.getHours();\n}\nexport var hour = new CountableTimeInterval(floor, offset, count, field);\nexport default hour;\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationDay, durationMinute } from \"./duration\";\nfunction floor(date) {\n    date.setHours(0, 0, 0, 0);\n}\nfunction offset(date, days) {\n    date.setDate(date.getDate() + days);\n}\nfunction count(start, end) {\n    var tzMinuteDelta = end.getTimezoneOffset() - start.getTimezoneOffset();\n    return (end.getTime() - start.getTime() - tzMinuteDelta * durationMinute) / durationDay;\n}\nfunction field(date) {\n    return date.getDate() - 1;\n}\nexport var day = new CountableTimeInterval(floor, offset, count, field);\nexport default day;\n","import { durationMinute, durationWeek } from \"./duration\";\nimport { CountableTimeInterval } from \"./interval\";\n// Set date to n-th day of the week.\nfunction weekday(n) {\n    // Sets the `date` to the start of the `n`-th day of the current week.\n    // n == 0 is Sunday.\n    function floor(date) {\n        //                  1..31            1..7\n        date.setDate(date.getDate() - (date.getDay() + 7 - n) % 7);\n        date.setHours(0, 0, 0, 0); // h, m, s, ms\n    }\n    // Offset the date by the given number of weeks.\n    function offset(date, weeks) {\n        date.setDate(date.getDate() + weeks * 7);\n    }\n    // Count the number of weeks between the start and end dates.\n    function count(start, end) {\n        var msDelta = end.getTime() - start.getTime();\n        var tzMinuteDelta = end.getTimezoneOffset() - start.getTimezoneOffset();\n        return (msDelta - tzMinuteDelta * durationMinute) / durationWeek;\n    }\n    return new CountableTimeInterval(floor, offset, count);\n}\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\nexport default sunday;\n","import { CountableTimeInterval } from \"./interval\";\nfunction floor(date) {\n    date.setDate(1);\n    date.setHours(0, 0, 0, 0);\n}\nfunction offset(date, months) {\n    date.setMonth(date.getMonth() + months);\n}\nfunction count(start, end) {\n    return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}\nfunction field(date) {\n    return date.getMonth();\n}\nexport var month = new CountableTimeInterval(floor, offset, count, field);\nexport default month;\n","import { CountableTimeInterval } from \"./interval\";\nfunction floor(date) {\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n}\nfunction offset(date, years) {\n    date.setFullYear(date.getFullYear() + years);\n}\nfunction count(start, end) {\n    return end.getFullYear() - start.getFullYear();\n}\nfunction field(date) {\n    return date.getFullYear();\n}\nexport var year = new CountableTimeInterval(floor, offset, count, field);\nexport default year;\n","export function ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import { ascending } from \"./compare\";\n/**\n * Returns the insertion point for `x` in array to maintain sorted order.\n * The arguments `lo` and `hi` may be used to specify a subset of the array which should be considered;\n * by default the entire array is used. If `x` is already present in array, the insertion point will be before\n * (to the left of) any existing entries. The return value is suitable for use as the first argument to `splice`\n * assuming that array is already sorted. The returned insertion point `i` partitions the array into two halves\n * so that all `v < x` for `v` in `array.slice(lo, i)` for the left side and all `v >= x` for `v` in `array.slice(i, hi)`\n * for the right side.\n * @param list\n * @param x\n * @param comparator\n * @param lo\n * @param hi\n */\nexport function bisectLeft(list, x, comparator, lo, hi) {\n    if (lo === void 0) { lo = 0; }\n    if (hi === void 0) { hi = list.length; }\n    while (lo < hi) {\n        var mid = (lo + hi) >>> 1;\n        if (comparator(list[mid], x) < 0) { // list[mid] < x\n            lo = mid + 1;\n        }\n        else {\n            hi = mid;\n        }\n    }\n    return lo;\n}\nexport function bisectRight(list, x, comparator, lo, hi) {\n    if (lo === void 0) { lo = 0; }\n    if (hi === void 0) { hi = list.length; }\n    while (lo < hi) {\n        var mid = (lo + hi) >>> 1;\n        if (comparator(list[mid], x) > 0) { // list[mid] > x\n            hi = mid;\n        }\n        else {\n            lo = mid + 1;\n        }\n    }\n    return lo;\n}\n/**\n * A specialized version of `bisectLeft` that works with the arrays whose elements cannot be compared directly.\n * The map function is used instead to produce a comparable value for a given array element, then the values\n * returned by the map are compared using the `ascendingComparator`.\n * @param list\n * @param x\n * @param map\n * @param lo\n * @param hi\n */\nexport function complexBisectLeft(list, x, map, lo, hi) {\n    if (lo === void 0) { lo = 0; }\n    if (hi === void 0) { hi = list.length; }\n    var comparator = ascendingComparator(map);\n    while (lo < hi) {\n        var mid = (lo + hi) >>> 1;\n        if (comparator(list[mid], x) < 0) {\n            lo = mid + 1;\n        }\n        else {\n            hi = mid;\n        }\n    }\n    return lo;\n}\nexport function complexBisectRight(list, x, map, lo, hi) {\n    if (lo === void 0) { lo = 0; }\n    if (hi === void 0) { hi = list.length; }\n    var comparator = ascendingComparator(map);\n    while (lo < hi) {\n        var mid = (lo + hi) >>> 1;\n        if (comparator(list[mid], x) < 0) {\n            lo = mid + 1;\n        }\n        else {\n            hi = mid;\n        }\n    }\n    return lo;\n}\nfunction ascendingComparator(map) {\n    return function (item, x) {\n        return ascending(map(item), x);\n    };\n}\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationDay } from \"./duration\";\nfunction floor(date) {\n    date.setUTCHours(0, 0, 0, 0);\n}\nfunction offset(date, days) {\n    date.setUTCDate(date.getUTCDate() + days);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationDay;\n}\nfunction field(date) {\n    return date.getUTCDate() - 1;\n}\nexport var utcDay = new CountableTimeInterval(floor, offset, count, field);\nexport default utcDay;\n","import { CountableTimeInterval } from \"./interval\";\nfunction floor(date) {\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n}\nfunction offset(date, years) {\n    date.setUTCFullYear(date.getUTCFullYear() + years);\n}\nfunction count(start, end) {\n    return end.getUTCFullYear() - start.getUTCFullYear();\n}\nfunction field(date) {\n    return date.getUTCFullYear();\n}\nexport var utcYear = new CountableTimeInterval(floor, offset, count, field);\nexport default utcYear;\n","import { durationWeek } from \"./duration\";\nimport { CountableTimeInterval } from \"./interval\";\n// Set date to n-th day of the week.\nfunction weekday(n) {\n    // Sets the `date` to the start of the `n`-th day of the current week.\n    // n == 0 is Sunday.\n    function floor(date) {\n        date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - n) % 7);\n        date.setHours(0, 0, 0, 0); // h, m, s, ms\n    }\n    // Offset the date by the given number of weeks.\n    function offset(date, weeks) {\n        date.setUTCDate(date.getUTCDate() + weeks * 7);\n    }\n    // Count the number of weeks between the start and end dates.\n    function count(start, end) {\n        return (end.getTime() - start.getTime()) / durationWeek;\n    }\n    return new CountableTimeInterval(floor, offset, count);\n}\nexport var utcSunday = weekday(0);\nexport var utcMonday = weekday(1);\nexport var utcTuesday = weekday(2);\nexport var utcWednesday = weekday(3);\nexport var utcThursday = weekday(4);\nexport var utcFriday = weekday(5);\nexport var utcSaturday = weekday(6);\nexport default utcSunday;\n","import timeDay from \"../day\";\nimport year from \"../year\";\nimport { sunday as timeSunday, monday as timeMonday, thursday as timeThursday } from \"../week\";\nimport utcDay from \"../utcDay\";\nimport utcYear from \"../utcYear\";\nimport utcSunday, { utcMonday, utcThursday } from \"../utcWeek\";\nfunction localDate(d) {\n    // For JS Dates the [0, 100) interval is a time warp, a fast forward to the 20th century.\n    // For example, -1 is -0001 BC, 0 is already 1900 AD.\n    if (d.y >= 0 && d.y < 100) {\n        var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n        date.setFullYear(d.y);\n        return date;\n    }\n    return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\nfunction utcDate(d) {\n    if (d.y >= 0 && d.y < 100) {\n        var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n        date.setUTCFullYear(d.y);\n        return date;\n    }\n    return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n/**\n * Creates a lookup map for array of names to go from a name to index.\n * @param names\n */\nfunction formatLookup(names) {\n    var map = {};\n    for (var i = 0, n = names.length; i < n; i++) {\n        map[names[i].toLowerCase()] = i;\n    }\n    return map;\n}\nfunction newYear(y) {\n    return {\n        y: y,\n        m: 0,\n        d: 1,\n        H: 0,\n        M: 0,\n        S: 0,\n        L: 0\n    };\n}\nvar percentCharCode = 37;\nvar numberRe = /^\\s*\\d+/; // ignores next directive\nvar percentRe = /^%/;\nvar requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n/**\n * Prepends any character in the `requoteRe` set with a backslash.\n * @param s\n */\nexport var requote = function (s) { return s.replace(requoteRe, '\\\\$&'); }; // $& - matched substring\n/**\n * Returns a RegExp that matches any string that starts with any of the given names (case insensitive).\n * @param names\n */\nexport var formatRe = function (names) { return new RegExp('^(?:' + names.map(requote).join('|') + ')', 'i'); };\n// A map of padding modifiers to padding strings. Default is `0`.\nvar pads = {\n    '-': '',\n    '_': ' ',\n    '0': '0'\n};\nexport function pad(value, fill, width) {\n    var sign = value < 0 ? '-' : '';\n    var string = String(sign ? -value : value);\n    var length = string.length;\n    return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n/**\n * Create a new time-locale-based object which exposes time-formatting\n * methods for the specified locale definition.\n *\n * @param timeLocale A time locale definition.\n */\nexport default function formatLocale(timeLocale) {\n    var lDateTime = timeLocale.dateTime;\n    var lDate = timeLocale.date;\n    var lTime = timeLocale.time;\n    var lPeriods = timeLocale.periods;\n    var lWeekdays = timeLocale.days;\n    var lShortWeekdays = timeLocale.shortDays;\n    var lMonths = timeLocale.months;\n    var lShortMonths = timeLocale.shortMonths;\n    var periodRe = formatRe(lPeriods);\n    var periodLookup = formatLookup(lPeriods);\n    var weekdayRe = formatRe(lWeekdays);\n    var weekdayLookup = formatLookup(lWeekdays);\n    var shortWeekdayRe = formatRe(lShortWeekdays);\n    var shortWeekdayLookup = formatLookup(lShortWeekdays);\n    var monthRe = formatRe(lMonths);\n    var monthLookup = formatLookup(lMonths);\n    var shortMonthRe = formatRe(lShortMonths);\n    var shortMonthLookup = formatLookup(lShortMonths);\n    var formats = {\n        'a': formatShortWeekday,\n        'A': formatWeekday,\n        'b': formatShortMonth,\n        'B': formatMonth,\n        'c': undefined,\n        'd': formatDayOfMonth,\n        'e': formatDayOfMonth,\n        'f': formatMicroseconds,\n        'H': formatHour24,\n        'I': formatHour12,\n        'j': formatDayOfYear,\n        'L': formatMilliseconds,\n        'm': formatMonthNumber,\n        'M': formatMinutes,\n        'p': formatPeriod,\n        'Q': formatUnixTimestamp,\n        's': formatUnixTimestampSeconds,\n        'S': formatSeconds,\n        'u': formatWeekdayNumberMonday,\n        'U': formatWeekNumberSunday,\n        'V': formatWeekNumberISO,\n        'w': formatWeekdayNumberSunday,\n        'W': formatWeekNumberMonday,\n        'x': undefined,\n        'X': undefined,\n        'y': formatYear,\n        'Y': formatFullYear,\n        'Z': formatZone,\n        '%': formatLiteralPercent\n    };\n    var utcFormats = {\n        'a': formatUTCShortWeekday,\n        'A': formatUTCWeekday,\n        'b': formatUTCShortMonth,\n        'B': formatUTCMonth,\n        'c': undefined,\n        'd': formatUTCDayOfMonth,\n        'e': formatUTCDayOfMonth,\n        'f': formatUTCMicroseconds,\n        'H': formatUTCHour24,\n        'I': formatUTCHour12,\n        'j': formatUTCDayOfYear,\n        'L': formatUTCMilliseconds,\n        'm': formatUTCMonthNumber,\n        'M': formatUTCMinutes,\n        'p': formatUTCPeriod,\n        'Q': formatUnixTimestamp,\n        's': formatUnixTimestampSeconds,\n        'S': formatUTCSeconds,\n        'u': formatUTCWeekdayNumberMonday,\n        'U': formatUTCWeekNumberSunday,\n        'V': formatUTCWeekNumberISO,\n        'w': formatUTCWeekdayNumberSunday,\n        'W': formatUTCWeekNumberMonday,\n        'x': undefined,\n        'X': undefined,\n        'y': formatUTCYear,\n        'Y': formatUTCFullYear,\n        'Z': formatUTCZone,\n        '%': formatLiteralPercent\n    };\n    var parses = {\n        'a': parseShortWeekday,\n        'A': parseWeekday,\n        'b': parseShortMonth,\n        'B': parseMonth,\n        'c': parseLocaleDateTime,\n        'd': parseDayOfMonth,\n        'e': parseDayOfMonth,\n        'f': parseMicroseconds,\n        'H': parseHour24,\n        'I': parseHour24,\n        'j': parseDayOfYear,\n        'L': parseMilliseconds,\n        'm': parseMonthNumber,\n        'M': parseMinutes,\n        'p': parsePeriod,\n        'Q': parseUnixTimestamp,\n        's': parseUnixTimestampSeconds,\n        'S': parseSeconds,\n        'u': parseWeekdayNumberMonday,\n        'U': parseWeekNumberSunday,\n        'V': parseWeekNumberISO,\n        'w': parseWeekdayNumberSunday,\n        'W': parseWeekNumberMonday,\n        'x': parseLocaleDate,\n        'X': parseLocaleTime,\n        'y': parseYear,\n        'Y': parseFullYear,\n        'Z': parseZone,\n        '%': parseLiteralPercent\n    };\n    // Recursive definitions.\n    formats.x = newFormat(lDate, formats);\n    formats.X = newFormat(lTime, formats);\n    formats.c = newFormat(lDateTime, formats);\n    utcFormats.x = newFormat(lDate, utcFormats);\n    utcFormats.X = newFormat(lTime, utcFormats);\n    utcFormats.c = newFormat(lDateTime, utcFormats);\n    function newParse(specifier, newDate) {\n        return function (str) {\n            var d = newYear(1900);\n            var i = parseSpecifier(d, specifier, str += '', 0);\n            if (i != str.length) {\n                return undefined;\n            }\n            // If a UNIX timestamp is specified, return it.\n            if ('Q' in d) {\n                return new Date(d.Q);\n            }\n            // The am-pm flag is 0 for AM, and 1 for PM.\n            if ('p' in d) {\n                d.H = d.H % 12 + d.p * 12;\n            }\n            // Convert day-of-week and week-of-year to day-of-year.\n            if ('V' in d) {\n                if (d.V < 1 || d.V > 53) {\n                    return undefined;\n                }\n                if (!('w' in d)) {\n                    d.w = 1;\n                }\n                if ('Z' in d) {\n                    var week = utcDate(newYear(d.y));\n                    var day = week.getUTCDay();\n                    week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday.floor(week);\n                    week = utcDay.offset(week, (d.V - 1) * 7);\n                    d.y = week.getUTCFullYear();\n                    d.m = week.getUTCMonth();\n                    d.d = week.getUTCDate() + (d.w + 6) % 7;\n                }\n                else {\n                    var week = newDate(newYear(d.y));\n                    var day = week.getDay();\n                    week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday.floor(week);\n                    week = timeDay.offset(week, (d.V - 1) * 7);\n                    d.y = week.getFullYear();\n                    d.m = week.getMonth();\n                    d.d = week.getDate() + (d.w + 6) % 7;\n                }\n            }\n            else if ('W' in d || 'U' in d) {\n                if (!('w' in d)) {\n                    d.w = 'u' in d\n                        ? d.u % 7\n                        : 'W' in d ? 1 : 0;\n                }\n                var day = 'Z' in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n                d.m = 0;\n                d.d = 'W' in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n            }\n            // If a time zone is specified, all fields are interpreted as UTC and then\n            // offset according to the specified time zone.\n            if ('Z' in d) {\n                d.H += d.Z / 100 | 0;\n                d.M += d.Z % 100;\n                return utcDate(d);\n            }\n            // Otherwise, all fields are in local time.\n            return newDate(d);\n        };\n    }\n    /**\n     * Creates a new function that formats the given Date or timestamp according to specifier.\n     * @param specifier\n     * @param formats\n     */\n    function newFormat(specifier, formats) {\n        return function (date) {\n            var string = [];\n            var n = specifier.length;\n            var i = -1;\n            var j = 0;\n            if (!(date instanceof Date)) {\n                date = new Date(+date);\n            }\n            while (++i < n) {\n                if (specifier.charCodeAt(i) === percentCharCode) {\n                    string.push(specifier.slice(j, i)); // copy the chunks of specifier with no directives as is\n                    var c = specifier.charAt(++i);\n                    var pad_1 = pads[c];\n                    if (pad_1 != undefined) { // if format directive has a padding modifier in front of it\n                        c = specifier.charAt(++i); // fetch the directive itself\n                    }\n                    else {\n                        pad_1 = c === 'e' ? ' ' : '0'; // use the default padding modifier\n                    }\n                    var format = formats[c];\n                    if (format) { // if the directive has a corresponding formatting function\n                        c = format(date, pad_1); // replace the directive with the formatted date\n                    }\n                    string.push(c);\n                    j = i + 1;\n                }\n            }\n            string.push(specifier.slice(j, i));\n            return string.join('');\n        };\n    }\n    // Simultaneously walks over the specifier and the parsed string, populating the `d` map with parsed values.\n    // The returned number is expected to equal the length of the parsed `string`, if parsing succeeded.\n    function parseSpecifier(d, specifier, string, j) {\n        // i - `specifier` string index\n        // j - parsed `string` index\n        var i = 0;\n        var n = specifier.length;\n        var m = string.length;\n        while (i < n) {\n            if (j >= m) {\n                return -1;\n            }\n            var code = specifier.charCodeAt(i++);\n            if (code === percentCharCode) {\n                var char = specifier.charAt(i++);\n                var parse = parses[(char in pads ? specifier.charAt(i++) : char)];\n                if (!parse || ((j = parse(d, string, j)) < 0)) {\n                    return -1;\n                }\n            }\n            else if (code != string.charCodeAt(j++)) {\n                return -1;\n            }\n        }\n        return j;\n    }\n    // ----------------------------- formats ----------------------------------\n    function formatMicroseconds(date, fill) {\n        return formatMilliseconds(date, fill) + '000';\n    }\n    function formatMilliseconds(date, fill) {\n        return pad(date.getMilliseconds(), fill, 3);\n    }\n    function formatSeconds(date, fill) {\n        return pad(date.getSeconds(), fill, 2);\n    }\n    function formatMinutes(date, fill) {\n        return pad(date.getMinutes(), fill, 2);\n    }\n    function formatHour12(date, fill) {\n        return pad(date.getHours() % 12 || 12, fill, 2);\n    }\n    function formatHour24(date, fill) {\n        return pad(date.getHours(), fill, 2);\n    }\n    function formatPeriod(date) {\n        return lPeriods[date.getHours() >= 12 ? 1 : 0];\n    }\n    function formatShortWeekday(date) {\n        return lShortWeekdays[date.getDay()];\n    }\n    function formatWeekday(date) {\n        return lWeekdays[date.getDay()];\n    }\n    function formatWeekdayNumberMonday(date) {\n        var dayOfWeek = date.getDay();\n        return dayOfWeek === 0 ? 7 : dayOfWeek;\n    }\n    function formatWeekNumberSunday(date, fill) {\n        return pad(timeSunday.count(year.floor(date), date), fill, 2);\n    }\n    function formatWeekNumberISO(date, fill) {\n        var day = date.getDay();\n        date = (day >= 4 || day === 0) ? timeThursday.floor(date) : timeThursday.ceil(date);\n        var yearStart = year.floor(date);\n        return pad(timeThursday.count(yearStart, date) + (yearStart.getDay() === 4 ? 1 : 0), fill, 2);\n    }\n    function formatWeekdayNumberSunday(date) {\n        return date.getDay();\n    }\n    function formatWeekNumberMonday(date, fill) {\n        return pad(timeMonday.count(year.floor(date), date), fill, 2);\n    }\n    function formatDayOfMonth(date, fill) {\n        return pad(date.getDate(), fill, 2);\n    }\n    function formatDayOfYear(date, fill) {\n        return pad(1 + timeDay.count(year.floor(date), date), fill, 3);\n    }\n    function formatShortMonth(date) {\n        return lShortMonths[date.getMonth()];\n    }\n    function formatMonth(date) {\n        return lMonths[date.getMonth()];\n    }\n    function formatMonthNumber(date, fill) {\n        return pad(date.getMonth() + 1, fill, 2);\n    }\n    function formatYear(date, fill) {\n        return pad(date.getFullYear() % 100, fill, 2);\n    }\n    function formatFullYear(date, fill) {\n        return pad(date.getFullYear() % 10000, fill, 4);\n    }\n    function formatZone(date) {\n        var z = date.getTimezoneOffset();\n        return (z > 0 ? '-' : (z *= -1, '+')) + pad(Math.floor(z / 60), '0', 2) + pad(z % 60, '0', 2);\n    }\n    // -------------------------- UTC formats -----------------------------------\n    function formatUTCMicroseconds(date, fill) {\n        return formatUTCMilliseconds(date, fill) + '000';\n    }\n    function formatUTCMilliseconds(date, fill) {\n        return pad(date.getUTCMilliseconds(), fill, 3);\n    }\n    function formatUTCSeconds(date, fill) {\n        return pad(date.getUTCSeconds(), fill, 2);\n    }\n    function formatUTCMinutes(date, fill) {\n        return pad(date.getUTCMinutes(), fill, 2);\n    }\n    function formatUTCHour12(date, fill) {\n        return pad(date.getUTCHours() % 12 || 12, fill, 2);\n    }\n    function formatUTCHour24(date, fill) {\n        return pad(date.getUTCHours(), fill, 2);\n    }\n    function formatUTCPeriod(date) {\n        return lPeriods[date.getUTCHours() >= 12 ? 1 : 0];\n    }\n    function formatUTCDayOfMonth(date, fill) {\n        return pad(date.getUTCDate(), fill, 2);\n    }\n    function formatUTCDayOfYear(date, fill) {\n        return pad(1 + utcDay.count(utcYear.floor(date), date), fill, 3);\n    }\n    function formatUTCMonthNumber(date, fill) {\n        return pad(date.getUTCMonth() + 1, fill, 2);\n    }\n    function formatUTCShortMonth(date) {\n        return lShortMonths[date.getUTCMonth()];\n    }\n    function formatUTCMonth(date) {\n        return lMonths[date.getUTCMonth()];\n    }\n    function formatUTCShortWeekday(date) {\n        return lShortWeekdays[date.getUTCDay()];\n    }\n    function formatUTCWeekday(date) {\n        return lWeekdays[date.getUTCDay()];\n    }\n    function formatUTCWeekdayNumberMonday(date) {\n        var dayOfWeek = date.getUTCDay();\n        return dayOfWeek === 0 ? 7 : dayOfWeek;\n    }\n    function formatUTCWeekNumberSunday(date, fill) {\n        return pad(utcSunday.count(utcYear.floor(date), date), fill, 2);\n    }\n    function formatUTCWeekNumberISO(date, fill) {\n        var day = date.getUTCDay();\n        date = (day >= 4 || day === 0) ? utcThursday.floor(date) : utcThursday.ceil(date);\n        var yearStart = utcYear.floor(date);\n        return pad(utcThursday.count(yearStart, date) + (yearStart.getUTCDay() === 4 ? 1 : 0), fill, 4);\n    }\n    function formatUTCWeekdayNumberSunday(date) {\n        return date.getUTCDay();\n    }\n    function formatUTCWeekNumberMonday(date, fill) {\n        return pad(utcMonday.count(utcYear.floor(date), date), fill, 2);\n    }\n    function formatUTCYear(date, fill) {\n        return pad(date.getUTCFullYear() % 100, fill, 2);\n    }\n    function formatUTCFullYear(date, fill) {\n        return pad(date.getUTCFullYear() % 10000, fill, 4);\n    }\n    function formatUTCZone() {\n        return '+0000';\n    }\n    function formatLiteralPercent(date) {\n        return '%';\n    }\n    function formatUnixTimestamp(date) {\n        return date.getTime();\n    }\n    function formatUnixTimestampSeconds(date) {\n        return Math.floor(date.getTime() / 1000);\n    }\n    // ------------------------------- parsers ------------------------------------\n    function parseMicroseconds(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 6));\n        return n ? (d.L = Math.floor(parseFloat(n[0]) / 1000), i + n[0].length) : -1;\n    }\n    function parseMilliseconds(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 3));\n        return n ? (d.L = +n[0], i + n[0].length) : -1;\n    }\n    function parseSeconds(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.S = +n[0], i + n[0].length) : -1;\n    }\n    function parseMinutes(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.M = +n[0], i + n[0].length) : -1;\n    }\n    function parseHour24(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.H = +n[0], i + n[0].length) : -1;\n    }\n    function parsePeriod(d, string, i) {\n        var n = periodRe.exec(string.slice(i));\n        return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseDayOfMonth(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.d = +n[0], i + n[0].length) : -1;\n    }\n    function parseDayOfYear(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 3));\n        return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n    }\n    function parseShortWeekday(d, string, i) {\n        var n = shortWeekdayRe.exec(string.slice(i));\n        return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseWeekday(d, string, i) {\n        var n = weekdayRe.exec(string.slice(i));\n        return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseWeekdayNumberMonday(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 1));\n        return n ? (d.u = +n[0], i + n[0].length) : -1;\n    }\n    function parseWeekNumberSunday(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.U = +n[0], i + n[0].length) : -1;\n    }\n    function parseWeekNumberISO(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.V = +n[0], i + n[0].length) : -1;\n    }\n    function parseWeekNumberMonday(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.W = +n[0], i + n[0].length) : -1;\n    }\n    function parseWeekdayNumberSunday(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 1));\n        return n ? (d.w = +n[0], i + n[0].length) : -1;\n    }\n    function parseShortMonth(d, string, i) {\n        var n = shortMonthRe.exec(string.slice(i));\n        return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseMonth(d, string, i) {\n        var n = monthRe.exec(string.slice(i));\n        return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseMonthNumber(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.m = parseFloat(n[0]) - 1, i + n[0].length) : -1;\n    }\n    function parseLocaleDateTime(d, string, i) {\n        return parseSpecifier(d, lDateTime, string, i);\n    }\n    function parseLocaleDate(d, string, i) {\n        return parseSpecifier(d, lDate, string, i);\n    }\n    function parseLocaleTime(d, string, i) {\n        return parseSpecifier(d, lTime, string, i);\n    }\n    function parseUnixTimestamp(d, string, i) {\n        var n = numberRe.exec(string.slice(i));\n        return n ? (d.Q = +n[0], i + n[0].length) : -1;\n    }\n    function parseUnixTimestampSeconds(d, string, i) {\n        var n = numberRe.exec(string.slice(i));\n        return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n    }\n    function parseYear(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n    }\n    function parseFullYear(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 4));\n        return n ? (d.y = +n[0], i + n[0].length) : -1;\n    }\n    function parseZone(d, string, i) {\n        var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n        return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || '00')), i + n[0].length) : -1;\n    }\n    function parseLiteralPercent(d, string, i) {\n        var n = percentRe.exec(string.slice(i, i + 1));\n        return n ? i + n[0].length : -1;\n    }\n    return {\n        format: function (specifier) {\n            var f = newFormat(specifier, formats);\n            f.toString = function () { return specifier; };\n            return f;\n        },\n        parse: function (specifier) {\n            var p = newParse(specifier, localDate);\n            p.toString = function () { return specifier; };\n            return p;\n        },\n        utcFormat: function (specifier) {\n            var f = newFormat(specifier, utcFormats);\n            f.toString = function () { return specifier; };\n            return f;\n        },\n        utcParse: function (specifier) {\n            var p = newParse(specifier, utcDate);\n            p.toString = function () { return specifier; };\n            return p;\n        }\n    };\n}\n","import formatLocale from './locale';\nexport var locale;\nsetDefaultLocale({\n    dateTime: '%x, %X',\n    date: '%-m/%-d/%Y',\n    time: '%-I:%M:%S %p',\n    periods: ['AM', 'PM'],\n    days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    shortDays: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n    shortMonths: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n});\nexport default function setDefaultLocale(definition) {\n    return locale = formatLocale(definition);\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport ContinuousScale from \"./continuousScale\";\nimport timeMillisecond from \"../util/time/millisecond\";\nimport timeSecond from \"../util/time/second\";\nimport timeMinute from \"../util/time/minute\";\nimport timeHour from \"../util/time/hour\";\nimport timeDay from \"../util/time/day\";\nimport timeWeek from \"../util/time/week\";\nimport timeMonth from \"../util/time/month\";\nimport timeYear from \"../util/time/year\";\nimport { durationSecond, durationMinute, durationHour, durationDay, durationWeek, durationMonth, durationYear } from \"../util/time/duration\";\nimport { complexBisectRight } from \"../util/bisect\";\nimport { tickStep } from \"../util/ticks\";\nimport { locale } from \"../util/time/format/defaultLocale\";\nvar TimeScale = /** @class */ (function (_super) {\n    __extends(TimeScale, _super);\n    function TimeScale() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.year = timeYear;\n        _this.month = timeMonth;\n        _this.week = timeWeek;\n        _this.day = timeDay;\n        _this.hour = timeHour;\n        _this.minute = timeMinute;\n        _this.second = timeSecond;\n        _this.millisecond = timeMillisecond;\n        _this.format = locale.format;\n        /**\n         * Array of default tick intervals in the following format:\n         *\n         *     [\n         *         interval (unit of time),\n         *         number of units (step),\n         *         the length of that number of units in milliseconds\n         *     ]\n         */\n        _this.tickIntervals = [\n            [_this.second, 1, durationSecond],\n            [_this.second, 5, 5 * durationSecond],\n            [_this.second, 15, 15 * durationSecond],\n            [_this.second, 30, 30 * durationSecond],\n            [_this.minute, 1, durationMinute],\n            [_this.minute, 5, 5 * durationMinute],\n            [_this.minute, 15, 15 * durationMinute],\n            [_this.minute, 30, 30 * durationMinute],\n            [_this.hour, 1, durationHour],\n            [_this.hour, 3, 3 * durationHour],\n            [_this.hour, 6, 6 * durationHour],\n            [_this.hour, 12, 12 * durationHour],\n            [_this.day, 1, durationDay],\n            [_this.day, 2, 2 * durationDay],\n            [_this.week, 1, durationWeek],\n            [_this.month, 1, durationMonth],\n            [_this.month, 3, 3 * durationMonth],\n            [_this.year, 1, durationYear]\n        ];\n        _this.formatMillisecond = _this.format('.%L');\n        _this.formatSecond = _this.format(':%S');\n        _this.formatMinute = _this.format('%I:%M');\n        _this.formatHour = _this.format('%I %p');\n        _this.formatDay = _this.format('%a %d');\n        _this.formatWeek = _this.format('%b %d');\n        _this.formatMonth = _this.format('%B');\n        _this.formatYear = _this.format('%Y');\n        _this._domain = [new Date(2000, 0, 1), new Date(2000, 0, 2)];\n        return _this;\n    }\n    TimeScale.prototype.defaultTickFormat = function (date) {\n        return (this.second.floor(date) < date\n            ? this.formatMillisecond\n            : this.minute.floor(date) < date\n                ? this.formatSecond\n                : this.hour.floor(date) < date\n                    ? this.formatMinute\n                    : this.day.floor(date) < date\n                        ? this.formatHour\n                        : this.month.floor(date) < date\n                            ? (this.week.floor(date) < date ? this.formatDay : this.formatWeek)\n                            : this.year.floor(date) < date\n                                ? this.formatMonth\n                                : this.formatYear)(date);\n    };\n    /**\n     *\n     * @param interval If the `interval` is a number, it's interpreted as the desired tick count\n     * and the method tries to pick an appropriate interval automatically, based on the extent of the domain.\n     * If the `interval` is `undefined`, it defaults to `10`.\n     * If the `interval` is a time interval, simply use it.\n     * @param start The start time (timestamp).\n     * @param stop The end time (timestamp).\n     * @param step Number of intervals between ticks.\n     */\n    TimeScale.prototype.tickInterval = function (interval, start, stop, step) {\n        var _a;\n        if (interval === void 0) { interval = 10; }\n        if (typeof interval === 'number') {\n            var tickCount = interval;\n            var tickIntervals = this.tickIntervals;\n            var target = Math.abs(stop - start) / tickCount;\n            var i = complexBisectRight(tickIntervals, target, function (interval) { return interval[2]; });\n            if (i === tickIntervals.length) {\n                step = tickStep(start / durationYear, stop / durationYear, tickCount);\n                interval = this.year;\n            }\n            else if (i) {\n                _a = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i], interval = _a[0], step = _a[1];\n            }\n            else {\n                step = Math.max(tickStep(start, stop, interval), 1);\n                interval = this.millisecond;\n            }\n        }\n        return step == undefined ? interval : interval.every(step);\n    };\n    Object.defineProperty(TimeScale.prototype, \"domain\", {\n        get: function () {\n            return _super.prototype.getDomain.call(this).map(function (t) { return new Date(t); });\n        },\n        set: function (values) {\n            _super.prototype.setDomain.call(this, Array.prototype.map.call(values, function (t) { return t instanceof Date ? +t : +new Date(+t); }));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TimeScale.prototype.invert = function (y) {\n        return new Date(_super.prototype.invert.call(this, y));\n    };\n    /**\n     * Returns uniformly-spaced dates that represent the scale's domain.\n     * @param interval The desired tick count or a time interval object.\n     */\n    TimeScale.prototype.ticks = function (interval) {\n        if (interval === void 0) { interval = 10; }\n        var d = _super.prototype.getDomain.call(this);\n        var t0 = d[0];\n        var t1 = d[d.length - 1];\n        var reverse = t1 < t0;\n        if (reverse) {\n            var _ = t0;\n            t0 = t1;\n            t1 = _;\n        }\n        var t = this.tickInterval(interval, t0, t1);\n        var i = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n        return reverse ? i.reverse() : i;\n    };\n    /**\n     * Returns a time format function suitable for displaying tick values.\n     * @param count Ignored. Used only to satisfy the {@link Scale} interface.\n     * @param specifier If the specifier string is provided, this method is equivalent to\n     * the {@link TimeLocaleObject.format} method.\n     * If no specifier is provided, this method returns the default time format function.\n     */\n    TimeScale.prototype.tickFormat = function (count, specifier) {\n        return specifier == undefined ? this.defaultTickFormat.bind(this) : this.format(specifier);\n    };\n    /**\n     * Extends the domain so that it starts and ends on nice round values.\n     * This method typically modifies the scale’s domain, and may only extend the bounds to the nearest round value.\n     * @param interval\n     */\n    TimeScale.prototype.nice = function (interval) {\n        if (interval === void 0) { interval = 10; }\n        var d = _super.prototype.getDomain.call(this);\n        var i = this.tickInterval(interval, d[0], d[d.length - 1]);\n        if (i) {\n            this.domain = this._nice(d, i);\n        }\n    };\n    TimeScale.prototype._nice = function (domain, interval) {\n        var _a, _b;\n        domain = domain.slice();\n        var i0 = 0;\n        var i1 = domain.length - 1;\n        var x0 = domain[i0];\n        var x1 = domain[i1];\n        if (x1 < x0) {\n            _a = [i1, i0], i0 = _a[0], i1 = _a[1];\n            _b = [x1, x0], x0 = _b[0], x1 = _b[1];\n        }\n        domain[i0] = interval.floor(x0);\n        domain[i1] = interval.ceil(x1);\n        return domain;\n    };\n    return TimeScale;\n}(ContinuousScale));\nexport { TimeScale };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TimeScale } from \"../../scale/timeScale\";\nimport { ChartAxis } from \"../chartAxis\";\nvar TimeAxis = /** @class */ (function (_super) {\n    __extends(TimeAxis, _super);\n    function TimeAxis() {\n        var _this = _super.call(this, new TimeScale()) || this;\n        _this._nice = true;\n        _this.scale.clamp = true;\n        return _this;\n    }\n    Object.defineProperty(TimeAxis.prototype, \"nice\", {\n        get: function () {\n            return this._nice;\n        },\n        set: function (value) {\n            if (this._nice !== value) {\n                this._nice = value;\n                if (value && this.scale.nice) {\n                    this.scale.nice(10);\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimeAxis.prototype, \"domain\", {\n        get: function () {\n            return this.scale.domain;\n        },\n        set: function (value) {\n            this.scale.domain = value;\n            if (this.nice && this.scale.nice) {\n                this.scale.nice(10);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TimeAxis.className = 'TimeAxis';\n    TimeAxis.type = 'time';\n    return TimeAxis;\n}(ChartAxis));\nexport { TimeAxis };\n","import { CartesianChart } from \"./chart/cartesianChart\";\nimport { PolarChart } from \"./chart/polarChart\";\nimport { LineSeries } from \"./chart/series/cartesian/lineSeries\";\nimport { ScatterSeries } from \"./chart/series/cartesian/scatterSeries\";\nimport { BarSeries } from \"./chart/series/cartesian/barSeries\";\nimport { AreaSeries } from \"./chart/series/cartesian/areaSeries\";\nimport { HistogramSeries } from \"./chart/series/cartesian/histogramSeries\";\nimport { PieSeries } from \"./chart/series/polar/pieSeries\";\nimport { DropShadow } from \"./scene/dropShadow\";\nimport { CategoryAxis } from \"./chart/axis/categoryAxis\";\nimport { NumberAxis } from \"./chart/axis/numberAxis\";\nimport { Padding } from \"./util/padding\";\nimport { Caption } from \"./caption\";\nimport { GroupedCategoryAxis } from \"./chart/axis/groupedCategoryAxis\";\nimport { GroupedCategoryChart } from \"./chart/groupedCategoryChart\";\nimport { Circle } from \"./chart/marker/circle\";\nimport { Cross } from \"./chart/marker/cross\";\nimport { Diamond } from \"./chart/marker/diamond\";\nimport { Plus } from \"./chart/marker/plus\";\nimport { Square } from \"./chart/marker/square\";\nimport { Triangle } from \"./chart/marker/triangle\";\nimport { ChartAxisPosition } from \"./chart/chartAxis\";\nimport { convertToMap } from \"./util/map\";\nimport { TimeAxis } from \"./chart/axis/timeAxis\";\nvar ChartBuilder = /** @class */ (function () {\n    function ChartBuilder() {\n    }\n    ChartBuilder.createCartesianChart = function (container, xAxis, yAxis, document) {\n        var chart = new CartesianChart(document);\n        chart.container = container;\n        xAxis.position = ChartAxisPosition.Bottom;\n        yAxis.position = ChartAxisPosition.Left;\n        chart.axes = [xAxis, yAxis];\n        return chart;\n    };\n    ChartBuilder.createGroupedCategoryChart = function (container, xAxis, yAxis, document) {\n        var chart = new GroupedCategoryChart(document);\n        chart.container = container;\n        xAxis.position = ChartAxisPosition.Bottom;\n        yAxis.position = ChartAxisPosition.Left;\n        chart.axes = [xAxis, yAxis];\n        return chart;\n    };\n    ChartBuilder.createBarChart = function (container, options) {\n        var chart = this.createCartesianChart(container, ChartBuilder.createAxis(options.xAxis, 'number'), ChartBuilder.createAxis(options.yAxis, 'category'), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initBarSeries(new BarSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createGroupedBarChart = function (container, options) {\n        var chart = this.createGroupedCategoryChart(container, ChartBuilder.createAxis(options.xAxis, 'number'), ChartBuilder.createGroupedCategoryAxis(options.yAxis), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initBarSeries(new BarSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createColumnChart = function (container, options) {\n        var chart = this.createCartesianChart(container, ChartBuilder.createAxis(options.xAxis, 'category'), ChartBuilder.createAxis(options.yAxis, 'number'), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initBarSeries(new BarSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createGroupedColumnChart = function (container, options) {\n        var chart = this.createGroupedCategoryChart(container, ChartBuilder.createGroupedCategoryAxis(options.xAxis), ChartBuilder.createAxis(options.yAxis, 'number'), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initBarSeries(new BarSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createLineChart = function (container, options) {\n        var chart = this.createCartesianChart(container, ChartBuilder.createAxis(options.xAxis, 'category'), ChartBuilder.createAxis(options.yAxis, 'number'), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initLineSeries(new LineSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createGroupedLineChart = function (container, options) {\n        var chart = this.createGroupedCategoryChart(container, ChartBuilder.createGroupedCategoryAxis(options.xAxis), ChartBuilder.createAxis(options.yAxis, 'number'), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initLineSeries(new LineSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createScatterChart = function (container, options) {\n        var chart = this.createCartesianChart(container, ChartBuilder.createAxis(options.xAxis, 'number'), ChartBuilder.createAxis(options.yAxis, 'number'), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initScatterSeries(new ScatterSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createAreaChart = function (container, options) {\n        var chart = this.createCartesianChart(container, ChartBuilder.createAxis(options.xAxis, 'category'), ChartBuilder.createAxis(options.yAxis, 'number'), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initAreaSeries(new AreaSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createGroupedAreaChart = function (container, options) {\n        var chart = this.createGroupedCategoryChart(container, ChartBuilder.createGroupedCategoryAxis(options.xAxis), ChartBuilder.createAxis(options.yAxis, 'number'), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initAreaSeries(new AreaSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createHistogramChart = function (container, options) {\n        var chart = this.createCartesianChart(container, ChartBuilder.createNumberAxis(options.xAxis), ChartBuilder.createNumberAxis(options.yAxis), options.document);\n        ChartBuilder.initCartesianChart(chart, options);\n        return chart;\n    };\n    ChartBuilder.createPolarChart = function (container) {\n        var chart = new PolarChart();\n        chart.container = container;\n        return chart;\n    };\n    ChartBuilder.createDoughnutChart = function (container, options) {\n        return this.createPieChart(container, options);\n    };\n    ChartBuilder.createPieChart = function (container, options) {\n        var chart = this.createPolarChart(container);\n        ChartBuilder.initChart(chart, options);\n        if (options.series) {\n            chart.series = options.series.map(function (s) { return ChartBuilder.initPieSeries(new PieSeries(), s); });\n        }\n        return chart;\n    };\n    ChartBuilder.createSeries = function (options) {\n        switch (options && options.type) {\n            case 'line':\n                return ChartBuilder.initLineSeries(new LineSeries(), options);\n            case 'scatter':\n                return ChartBuilder.initScatterSeries(new ScatterSeries(), options);\n            case 'bar':\n                return ChartBuilder.initBarSeries(new BarSeries(), options);\n            case 'area':\n                return ChartBuilder.initAreaSeries(new AreaSeries(), options);\n            case 'pie':\n                return ChartBuilder.initPieSeries(new PieSeries(), options);\n            case 'histogram':\n                return ChartBuilder.initHistogramSeries(new HistogramSeries(), options);\n            default:\n                return null;\n        }\n    };\n    ChartBuilder.initCartesianChart = function (chart, options) {\n        if (options.navigator !== undefined) {\n            ChartBuilder.initNavigator(chart.navigator, options.navigator);\n        }\n        return this.initChart(chart, options);\n    };\n    ChartBuilder.initChart = function (chart, options) {\n        this.setValueIfExists(chart, 'width', options.width);\n        this.setValueIfExists(chart, 'height', options.height);\n        this.setValueIfExists(chart, 'tooltipClass', options.tooltipClass);\n        this.setTransformedValueIfExists(chart, 'title', function (t) { return ChartBuilder.createTitle(t); }, options.title);\n        this.setTransformedValueIfExists(chart, 'subtitle', function (t) { return ChartBuilder.createSubtitle(t); }, options.subtitle);\n        this.setTransformedValueIfExists(chart, 'padding', function (p) { return new Padding(p.top, p.right, p.bottom, p.left); }, options.padding);\n        if (options.background) {\n            this.setValueIfExists(chart.background, 'fill', options.background.fill);\n            this.setValueIfExists(chart.background, 'visible', options.background.visible);\n        }\n        if (options.legend !== undefined) {\n            ChartBuilder.initLegend(chart.legend, options.legend);\n        }\n        var listeners = options.listeners;\n        if (listeners) {\n            for (var key in listeners) {\n                if (listeners.hasOwnProperty(key)) {\n                    var listener = listeners[key];\n                    if (typeof listener === 'function') {\n                        chart.addEventListener(key, listener);\n                    }\n                }\n            }\n        }\n        return chart;\n    };\n    ChartBuilder.initSeries = function (series, options) {\n        this.setValueIfExists(series, 'visible', options.visible);\n        this.setValueIfExists(series, 'showInLegend', options.showInLegend);\n        this.setValueIfExists(series, 'data', options.data);\n        var listeners = options.listeners;\n        if (listeners) {\n            for (var key in listeners) {\n                if (listeners.hasOwnProperty(key)) {\n                    var listener = listeners[key];\n                    if (typeof listener === 'function') {\n                        series.addEventListener(key, listener);\n                    }\n                }\n            }\n        }\n        return series;\n    };\n    ChartBuilder.initLineSeries = function (series, options) {\n        ChartBuilder.initSeries(series, options);\n        this.setValueIfExists(series, 'title', options.title);\n        var field = options.field, fill = options.fill, stroke = options.stroke, highlightStyle = options.highlightStyle, marker = options.marker, tooltip = options.tooltip;\n        if (field) {\n            this.setValueIfExists(series, 'xKey', field.xKey);\n            this.setValueIfExists(series, 'xName', field.xName);\n            this.setValueIfExists(series, 'yKey', field.yKey);\n            this.setValueIfExists(series, 'yName', field.yName);\n        }\n        if (fill) {\n            this.setValueIfExists(series.marker, 'fill', fill.color);\n            // default marker to same fill as series\n            // this.setValueIfExists(series.marker, 'fill', fill.color);\n        }\n        if (stroke) {\n            this.setValueIfExists(series, 'stroke', stroke.color);\n            this.setValueIfExists(series, 'strokeWidth', stroke.width);\n            // default marker to same stroke as series\n            // this.setValueIfExists(series.marker, 'stroke', stroke.color);\n            // this.setValueIfExists(series.marker, 'strokeWidth', stroke.width);\n        }\n        if (highlightStyle) {\n            this.initHighlightStyle(series.highlightStyle, highlightStyle);\n        }\n        if (marker) {\n            this.initMarker(series.marker, marker);\n        }\n        if (tooltip) {\n            this.setValueIfExists(series, 'tooltipEnabled', tooltip.enabled);\n            this.setValueIfExists(series, 'tooltipRenderer', tooltip.renderer);\n        }\n        return series;\n    };\n    ChartBuilder.initScatterSeries = function (series, options) {\n        ChartBuilder.initSeries(series, options);\n        this.setValueIfExists(series, 'title', options.title);\n        var field = options.field, fill = options.fill, stroke = options.stroke, highlightStyle = options.highlightStyle, marker = options.marker, tooltip = options.tooltip;\n        if (field) {\n            this.setValueIfExists(series, 'xKey', field.xKey);\n            this.setValueIfExists(series, 'xName', field.xName);\n            this.setValueIfExists(series, 'yKey', field.yKey);\n            this.setValueIfExists(series, 'yName', field.yName);\n            this.setValueIfExists(series, 'sizeKey', field.sizeKey);\n            this.setValueIfExists(series, 'sizeName', field.sizeName);\n            this.setValueIfExists(series, 'labelKey', field.labelKey);\n            this.setValueIfExists(series, 'labelName', field.labelName);\n        }\n        if (fill) {\n            // default marker to same fill as series\n            this.setValueIfExists(series.marker, 'fill', fill.color);\n        }\n        if (stroke) {\n            // default marker to same stroke as series\n            this.setValueIfExists(series.marker, 'stroke', stroke.color);\n            this.setValueIfExists(series.marker, 'strokeWidth', stroke.width);\n        }\n        if (highlightStyle) {\n            this.initHighlightStyle(series.highlightStyle, highlightStyle);\n        }\n        if (marker) {\n            this.initMarker(series.marker, marker);\n        }\n        if (tooltip) {\n            this.setValueIfExists(series, 'tooltipEnabled', tooltip.enabled);\n            this.setValueIfExists(series, 'tooltipRenderer', tooltip.renderer);\n        }\n        return series;\n    };\n    ChartBuilder.initLabelOptions = function (series, options) {\n        this.setValueIfExists(series, 'enabled', options.enabled);\n        this.setValueIfExists(series, 'fontStyle', options.fontStyle);\n        this.setValueIfExists(series, 'fontWeight', options.fontWeight);\n        this.setValueIfExists(series, 'fontSize', options.fontSize);\n        this.setValueIfExists(series, 'fontFamily', options.fontFamily);\n        this.setValueIfExists(series, 'color', options.color);\n    };\n    ChartBuilder.initBarSeries = function (series, options) {\n        ChartBuilder.initSeries(series, options);\n        this.setValueIfExists(series, 'grouped', options.grouped);\n        this.setValueIfExists(series, 'normalizedTo', options.normalizedTo);\n        var field = options.field, fill = options.fill, stroke = options.stroke, highlightStyle = options.highlightStyle, label = options.label, tooltip = options.tooltip;\n        if (field) {\n            this.setValueIfExists(series, 'xKey', field.xKey);\n            this.setValueIfExists(series, 'yKeys', field.yKeys);\n            this.setValueIfExists(series, 'yNames', field.yNames);\n        }\n        if (fill) {\n            this.setValueIfExists(series, 'fills', fill.colors);\n            this.setValueIfExists(series, 'fillOpacity', fill.opacity);\n        }\n        if (stroke) {\n            this.setValueIfExists(series, 'strokes', stroke.colors);\n            this.setValueIfExists(series, 'strokeOpacity', stroke.opacity);\n            this.setValueIfExists(series, 'strokeWidth', stroke.width);\n        }\n        if (highlightStyle) {\n            this.initHighlightStyle(series.highlightStyle, highlightStyle);\n        }\n        if (label) {\n            ChartBuilder.initLabelOptions(series.label, label);\n            this.setValueIfExists(series.label, 'enabled', label.enabled);\n            this.setValueIfExists(series.label, 'formatter', label.formatter);\n        }\n        if (tooltip) {\n            this.setValueIfExists(series, 'tooltipEnabled', tooltip.enabled);\n            this.setValueIfExists(series, 'tooltipRenderer', tooltip.renderer);\n        }\n        this.setTransformedValueIfExists(series, 'shadow', function (s) { return ChartBuilder.createDropShadow(s); }, options.shadow);\n        return series;\n    };\n    ChartBuilder.initAreaSeries = function (series, options) {\n        ChartBuilder.initSeries(series, options);\n        this.setValueIfExists(series, 'normalizedTo', options.normalizedTo);\n        var field = options.field, fill = options.fill, stroke = options.stroke, highlightStyle = options.highlightStyle, marker = options.marker, tooltip = options.tooltip;\n        if (field) {\n            this.setValueIfExists(series, 'xKey', field.xKey);\n            this.setValueIfExists(series, 'yKeys', field.yKeys);\n            this.setValueIfExists(series, 'yNames', field.yNames);\n        }\n        if (fill) {\n            this.setValueIfExists(series, 'fills', fill.colors);\n            this.setValueIfExists(series, 'fillOpacity', fill.opacity);\n        }\n        if (stroke) {\n            this.setValueIfExists(series, 'strokes', stroke.colors);\n            this.setValueIfExists(series, 'strokeOpacity', stroke.opacity);\n            this.setValueIfExists(series, 'strokeWidth', stroke.width);\n        }\n        if (highlightStyle) {\n            this.initHighlightStyle(series.highlightStyle, highlightStyle);\n        }\n        if (marker) {\n            this.initMarker(series.marker, marker);\n        }\n        if (tooltip) {\n            this.setValueIfExists(series, 'tooltipEnabled', tooltip.enabled);\n            this.setValueIfExists(series, 'tooltipRenderer', tooltip.renderer);\n        }\n        this.setTransformedValueIfExists(series, 'shadow', function (s) { return ChartBuilder.createDropShadow(s); }, options.shadow);\n        return series;\n    };\n    ChartBuilder.initPieSeries = function (series, options) {\n        ChartBuilder.initSeries(series, options);\n        this.setTransformedValueIfExists(series, 'title', function (t) { return ChartBuilder.createPieTitle(t); }, options.title);\n        this.setValueIfExists(series, 'rotation', options.rotation);\n        this.setValueIfExists(series, 'outerRadiusOffset', options.outerRadiusOffset);\n        this.setValueIfExists(series, 'innerRadiusOffset', options.innerRadiusOffset);\n        var field = options.field, fill = options.fill, stroke = options.stroke, highlightStyle = options.highlightStyle, callout = options.callout, label = options.label, tooltip = options.tooltip;\n        if (field) {\n            this.setValueIfExists(series, 'angleKey', field.angleKey);\n            this.setValueIfExists(series, 'angleName', field.angleName);\n            this.setValueIfExists(series, 'radiusKey', field.radiusKey);\n            this.setValueIfExists(series, 'radiusName', field.radiusName);\n            this.setValueIfExists(series, 'labelKey', field.labelKey);\n            this.setValueIfExists(series, 'labelName', field.labelName);\n        }\n        if (fill) {\n            this.setValueIfExists(series, 'fills', fill.colors);\n            this.setValueIfExists(series, 'fillOpacity', fill.opacity);\n        }\n        if (stroke) {\n            this.setValueIfExists(series, 'strokes', stroke.colors);\n            this.setValueIfExists(series, 'strokeOpacity', stroke.opacity);\n            this.setValueIfExists(series, 'strokeWidth', stroke.width);\n        }\n        if (highlightStyle) {\n            this.initHighlightStyle(series.highlightStyle, highlightStyle);\n        }\n        if (callout) {\n            this.setValueIfExists(series.callout, 'colors', callout.colors);\n            this.setValueIfExists(series.callout, 'strokeWidth', callout.strokeWidth);\n            this.setValueIfExists(series.callout, 'length', callout.length);\n        }\n        if (label) {\n            ChartBuilder.initLabelOptions(series.label, label);\n            this.setValueIfExists(series.label, 'enabled', label.enabled);\n            this.setValueIfExists(series.label, 'minAngle', label.minRequiredAngle);\n            this.setValueIfExists(series.label, 'offset', label.offset);\n        }\n        if (tooltip) {\n            this.setValueIfExists(series, 'tooltipEnabled', tooltip.enabled);\n            this.setValueIfExists(series, 'tooltipRenderer', tooltip.renderer);\n        }\n        this.setTransformedValueIfExists(series, 'shadow', function (s) { return ChartBuilder.createDropShadow(s); }, options.shadow);\n        return series;\n    };\n    ChartBuilder.initHistogramSeries = function (series, options) {\n        ChartBuilder.initSeries(series, options);\n        var field = options.field, fill = options.fill, stroke = options.stroke, highlightStyle = options.highlightStyle, tooltip = options.tooltip, binCount = options.binCount;\n        this.setValueIfExists(series, 'binCount', binCount);\n        if (field) {\n            this.setValueIfExists(series, 'xKey', field.xKey);\n        }\n        if (fill) {\n            this.setValueIfExists(series, 'fill', fill.color);\n            this.setValueIfExists(series, 'fillOpacity', fill.opacity);\n        }\n        if (stroke) {\n            this.setValueIfExists(series, 'stroke', stroke.color);\n            this.setValueIfExists(series, 'strokeOpacity', stroke.opacity);\n            this.setValueIfExists(series, 'strokeWidth', stroke.width);\n        }\n        if (highlightStyle) {\n            this.initHighlightStyle(series.highlightStyle, highlightStyle);\n        }\n        if (tooltip) {\n            this.setValueIfExists(series, 'tooltipEnabled', tooltip.enabled);\n            this.setValueIfExists(series, 'tooltipRenderer', tooltip.renderer);\n        }\n        return series;\n    };\n    ChartBuilder.getMarkerByName = function (name) {\n        return this.markerShapes.get(name) || Square;\n    };\n    ChartBuilder.initLegend = function (legend, options) {\n        this.setValueIfExists(legend, 'enabled', options.enabled);\n        this.setValueIfExists(legend, 'position', options.position);\n        var item = options.item;\n        if (item) {\n            var label = item.label, marker = item.marker;\n            if (label) {\n                this.setValueIfExists(legend, 'fontFamily', label.fontFamily);\n                this.setValueIfExists(legend, 'fontSize', label.fontSize);\n                this.setValueIfExists(legend, 'fontStyle', label.fontStyle);\n                this.setValueIfExists(legend, 'fontWeight', label.fontWeight);\n                this.setValueIfExists(legend, 'color', label.color);\n            }\n            if (marker) {\n                this.setValueIfExists(legend, 'markerShape', ChartBuilder.getMarkerByName(marker.shape));\n                this.setValueIfExists(legend, 'strokeWidth', marker.strokeWidth);\n                this.setValueIfExists(legend, 'markerSize', marker.size);\n                this.setValueIfExists(legend, 'itemSpacing', marker.padding);\n            }\n            this.setValueIfExists(legend, 'layoutHorizontalSpacing', item.paddingX);\n            this.setValueIfExists(legend, 'layoutVerticalSpacing', item.paddingY);\n        }\n    };\n    ChartBuilder.initNavigator = function (navigator, options) {\n        this.setValueIfExists(navigator, 'enabled', options.enabled);\n        this.setValueIfExists(navigator, 'height', options.height);\n        this.setValueIfExists(navigator, 'min', options.min);\n        this.setValueIfExists(navigator, 'max', options.max);\n        this.initNavigatorMask(navigator.mask, options.mask);\n        this.initNavigatorHandle(navigator.minHandle, options.minHandle);\n        this.initNavigatorHandle(navigator.maxHandle, options.maxHandle);\n    };\n    ChartBuilder.initNavigatorMask = function (mask, options) {\n        if (options) {\n            this.setValueIfExists(mask, 'fill', options.fill);\n            this.setValueIfExists(mask, 'stroke', options.stroke);\n            this.setValueIfExists(mask, 'strokeWidth', options.strokeWidth);\n            this.setValueIfExists(mask, 'fillOpacity', options.fillOpacity);\n        }\n    };\n    ChartBuilder.initNavigatorHandle = function (handle, options) {\n        if (options) {\n            this.setValueIfExists(handle, 'fill', options.fill);\n            this.setValueIfExists(handle, 'stroke', options.stroke);\n            this.setValueIfExists(handle, 'strokeWidth', options.strokeWidth);\n            this.setValueIfExists(handle, 'width', options.width);\n            this.setValueIfExists(handle, 'height', options.height);\n            this.setValueIfExists(handle, 'gripLineGap', options.gripLineGap);\n            this.setValueIfExists(handle, 'gripLineLength', options.gripLineLength);\n        }\n    };\n    ChartBuilder.initMarker = function (marker, options) {\n        marker.shape = ChartBuilder.getMarkerByName(options.shape);\n        this.setValueIfExists(marker, 'enabled', options.enabled);\n        this.setValueIfExists(marker, 'size', options.size);\n        this.setValueIfExists(marker, 'minSize', options.minSize);\n        this.setValueIfExists(marker, 'fill', options.fill);\n        this.setValueIfExists(marker, 'stroke', options.stroke);\n        this.setValueIfExists(marker, 'strokeWidth', options.strokeWidth);\n    };\n    ChartBuilder.initHighlightStyle = function (highlightStyle, options) {\n        this.setValueIfExists(highlightStyle, 'fill', options.fill);\n        this.setValueIfExists(highlightStyle, 'stroke', options.stroke);\n    };\n    ChartBuilder.setDefaultFontOptions = function (options, fontSize, fontWeight, fontFamily) {\n        if (fontSize === void 0) { fontSize = 16; }\n        if (fontWeight === void 0) { fontWeight = 'bold'; }\n        if (fontFamily === void 0) { fontFamily = 'Verdana, sans-serif'; }\n        if (options.fontSize === undefined) {\n            options.fontSize = fontSize;\n        }\n        if (options.fontWeight === undefined) {\n            options.fontWeight = fontWeight;\n        }\n        if (options.fontFamily === undefined) {\n            options.fontFamily = fontFamily;\n        }\n    };\n    ChartBuilder.createTitle = function (options) {\n        options = Object.create(options);\n        if (options.text === undefined) {\n            options.text = '';\n        }\n        this.setDefaultFontOptions(options);\n        return ChartBuilder.createCaption(options);\n    };\n    ChartBuilder.createSubtitle = function (options) {\n        options = Object.create(options);\n        if (options.text === undefined) {\n            options.text = '';\n        }\n        this.setDefaultFontOptions(options, 12);\n        return ChartBuilder.createCaption(options);\n    };\n    ChartBuilder.createPieTitle = function (options) {\n        options = Object.create(options);\n        this.setDefaultFontOptions(options, 12);\n        return ChartBuilder.createCaption(options);\n    };\n    ChartBuilder.createCaption = function (options) {\n        var caption = new Caption();\n        this.setValueIfExists(caption, 'enabled', options.enabled);\n        this.setValueIfExists(caption, 'text', options.text);\n        this.setValueIfExists(caption, 'fontStyle', options.fontStyle);\n        this.setValueIfExists(caption, 'fontWeight', options.fontWeight);\n        this.setValueIfExists(caption, 'fontSize', options.fontSize);\n        this.setValueIfExists(caption, 'fontFamily', options.fontFamily);\n        this.setValueIfExists(caption, 'color', options.color);\n        return caption;\n    };\n    ChartBuilder.initAxis = function (axis, options) {\n        this.setTransformedValueIfExists(axis, 'title', function (t) { return ChartBuilder.createTitle(t); }, options.title);\n        this.setValueIfExists(axis, 'gridStyle', options.gridStyle);\n        var line = options.line, tick = options.tick, label = options.label;\n        if (line) {\n            this.setValueIfExists(axis.line, 'width', line.width);\n            this.setValueIfExists(axis.line, 'color', line.color);\n        }\n        if (tick) {\n            this.setValueIfExists(axis.tick, 'width', tick.width);\n            this.setValueIfExists(axis.tick, 'size', tick.size);\n            this.setValueIfExists(axis.tick, 'color', tick.color);\n        }\n        if (label) {\n            this.setValueIfExists(axis.label, 'fontStyle', label.fontStyle);\n            this.setValueIfExists(axis.label, 'fontWeight', label.fontWeight);\n            this.setValueIfExists(axis.label, 'fontSize', label.fontSize);\n            this.setValueIfExists(axis.label, 'fontFamily', label.fontFamily);\n            this.setValueIfExists(axis.label, 'color', label.color);\n            this.setValueIfExists(axis.label, 'padding', label.padding);\n            this.setValueIfExists(axis.label, 'rotation', label.rotation);\n            this.setValueIfExists(axis.label, 'format', label.format);\n            this.setValueIfExists(axis.label, 'formatter', label.formatter);\n        }\n    };\n    ChartBuilder.createNumberAxis = function (options) {\n        var axis = new NumberAxis();\n        this.initAxis(axis, options);\n        return axis;\n    };\n    ChartBuilder.createCategoryAxis = function (options) {\n        var axis = new CategoryAxis();\n        this.initAxis(axis, options);\n        return axis;\n    };\n    ChartBuilder.createGroupedCategoryAxis = function (options) {\n        var axis = new GroupedCategoryAxis();\n        this.initAxis(axis, options);\n        return axis;\n    };\n    ChartBuilder.createTimeAxis = function (options) {\n        var axis = new TimeAxis();\n        this.initAxis(axis, options);\n        return axis;\n    };\n    ChartBuilder.createAxis = function (options, defaultType) {\n        var AxisClass = this.toAxisClass(options.type || defaultType);\n        if (!AxisClass) {\n            throw new Error('Unknown axis type');\n        }\n        var axis = new AxisClass();\n        this.initAxis(axis, options);\n        return axis;\n    };\n    ChartBuilder.toAxisClass = function (type) {\n        return this.types.get(type);\n    };\n    ChartBuilder.setValueIfExists = function (target, property, value, transform) {\n        if (value === undefined) {\n            return;\n        }\n        target[property] = transform ? transform(value) : value;\n    };\n    ChartBuilder.setTransformedValueIfExists = function (target, property, transform, value) {\n        if (value === undefined) {\n            return;\n        }\n        target[property] = transform(value);\n    };\n    ChartBuilder.markerShapes = convertToMap([\n        ['circle', Circle],\n        ['cross', Cross],\n        ['diamond', Diamond],\n        ['plus', Plus],\n        ['square', Square],\n        ['triangle', Triangle]\n    ]);\n    ChartBuilder.createDropShadow = function (options) {\n        if (options === void 0) { options = {}; }\n        var shadow = new DropShadow();\n        shadow.enabled = options.enabled == null ? true : options.enabled;\n        shadow.xOffset = options.xOffset || 0;\n        shadow.yOffset = options.yOffset || 0;\n        shadow.blur = options.blur || 5;\n        shadow.color = options.color || 'rgba(0, 0, 0, 0.5)';\n        return shadow;\n    };\n    ChartBuilder.types = (function () {\n        var types = new Map();\n        types.set('category', CategoryAxis);\n        types.set('number', NumberAxis);\n        types.set('time', TimeAxis);\n        return types;\n    })();\n    return ChartBuilder;\n}());\nexport { ChartBuilder };\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationMinute } from \"./duration\";\nfunction floor(date) {\n    date.setUTCSeconds(0, 0);\n}\nfunction offset(date, minutes) {\n    date.setTime(date.getTime() + minutes * durationMinute);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationMinute;\n}\nfunction field(date) {\n    return date.getUTCMinutes();\n}\nexport var utcMinute = new CountableTimeInterval(floor, offset, count, field);\nexport default utcMinute;\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationHour } from \"./duration\";\nfunction floor(date) {\n    date.setUTCMinutes(0, 0, 0);\n}\nfunction offset(date, hours) {\n    date.setTime(date.getTime() + hours * durationHour);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationHour;\n}\nfunction field(date) {\n    return date.getUTCHours();\n}\nexport var utcHour = new CountableTimeInterval(floor, offset, count, field);\nexport default utcHour;\n","import { CountableTimeInterval } from \"./interval\";\nfunction floor(date) {\n    date.setUTCDate(1);\n    date.setUTCHours(0, 0, 0, 0);\n}\nfunction offset(date, months) {\n    date.setUTCMonth(date.getUTCMonth() + months);\n}\nfunction count(start, end) {\n    return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}\nfunction field(date) {\n    return date.getUTCMonth();\n}\nexport var utcMonth = new CountableTimeInterval(floor, offset, count, field);\nexport default utcMonth;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar _a, _b, _c, _d;\nimport { Padding } from \"../util/padding\";\nimport { CartesianChart } from \"./cartesianChart\";\nimport { NumberAxis } from \"./axis/numberAxis\";\nimport { CategoryAxis } from \"./axis/categoryAxis\";\nimport { LineSeries } from \"./series/cartesian/lineSeries\";\nimport { BarSeries } from \"./series/cartesian/barSeries\";\nimport { HistogramSeries } from \"./series/cartesian/histogramSeries\";\nimport { ScatterSeries } from \"./series/cartesian/scatterSeries\";\nimport { AreaSeries } from \"./series/cartesian/areaSeries\";\nimport { PolarChart } from \"./polarChart\";\nimport { PieSeries } from \"./series/polar/pieSeries\";\nimport { AxisLabel, AxisTick } from \"../axis\";\nimport { TimeAxis } from \"./axis/timeAxis\";\nimport { Caption } from \"../caption\";\nimport { DropShadow } from \"../scene/dropShadow\";\nimport { Legend, LegendPosition } from \"./legend\";\nimport { Navigator } from \"./navigator/navigator\";\nimport { NavigatorMask } from \"./navigator/navigatorMask\";\nimport { NavigatorHandle } from \"./navigator/navigatorHandle\";\nimport palette from \"./palettes\";\n/*\n    This file defines the specs for creating different kinds of charts, but\n    contains no code that uses the specs to actually create charts\n*/\nvar commonChartMappings = {\n    background: {\n        meta: {\n            defaults: {\n                visible: true,\n                fill: 'white'\n            }\n        }\n    },\n    padding: {\n        meta: {\n            constructor: Padding,\n            defaults: {\n                top: 20,\n                right: 20,\n                bottom: 20,\n                left: 20\n            }\n        }\n    },\n    title: {\n        meta: {\n            constructor: Caption,\n            defaults: {\n                enabled: true,\n                padding: new Padding(10),\n                text: 'Title',\n                fontStyle: undefined,\n                fontWeight: 'bold',\n                fontSize: 14,\n                fontFamily: 'Verdana, sans-serif',\n                color: 'rgba(70, 70, 70, 1)'\n            }\n        }\n    },\n    subtitle: {\n        meta: {\n            constructor: Caption,\n            defaults: {\n                enabled: true,\n                padding: new Padding(10),\n                text: 'Subtitle',\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: 'Verdana, sans-serif',\n                color: 'rgba(140, 140, 140, 1)'\n            }\n        }\n    },\n    legend: {\n        meta: {\n            constructor: Legend,\n            defaults: {\n                enabled: true,\n                position: LegendPosition.Right,\n                spacing: 20,\n                layoutHorizontalSpacing: 16,\n                layoutVerticalSpacing: 8,\n                itemSpacing: 8,\n                markerShape: undefined,\n                markerSize: 15,\n                strokeWidth: 1,\n                color: 'black',\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: 'Verdana, sans-serif'\n            }\n        }\n    }\n};\nvar chartDefaults = {\n    container: undefined,\n    data: [],\n    padding: new Padding(20),\n    title: undefined,\n    subtitle: undefined,\n};\nvar chartMeta = {\n    // Charts components' constructors normally don't take any parameters (which makes things consistent -- everything\n    // is configured the same way, via the properties, and makes the factory pattern work well) but the charts\n    // themselves are the exceptions.\n    // If a chart config has the (optional) `document` property, it will be passed to the constructor.\n    // There is no actual `document` property on the chart, it can only be supplied during instantiation.\n    constructorParams: ['document'],\n    setAsIs: ['container', 'data', 'tooltipOffset'],\n};\nvar axisDefaults = {\n    defaults: {\n        visibleRange: [0, 1],\n        gridStyle: [{\n                stroke: 'rgba(219, 219, 219, 1)',\n                lineDash: [4, 2]\n            }]\n    }\n};\nvar seriesDefaults = {\n    visible: true,\n    showInLegend: true\n};\nvar columnSeriesDefaults = {\n    fills: palette.fills,\n    strokes: palette.strokes,\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    xKey: '',\n    xName: '',\n    yKeys: [],\n    yNames: [],\n    grouped: false,\n    normalizedTo: undefined,\n    strokeWidth: 1,\n    shadow: undefined,\n    highlightStyle: {\n        fill: 'yellow'\n    }\n};\nvar shadowMapping = {\n    shadow: {\n        meta: {\n            constructor: DropShadow,\n            defaults: {\n                enabled: true,\n                color: 'rgba(0, 0, 0, 0.5)',\n                xOffset: 0,\n                yOffset: 0,\n                blur: 5\n            }\n        }\n    }\n};\nvar labelDefaults = {\n    enabled: true,\n    fontStyle: undefined,\n    fontWeight: undefined,\n    fontSize: 12,\n    fontFamily: 'Verdana, sans-serif',\n    color: 'rgba(70, 70, 70, 1)'\n};\nvar labelMapping = {\n    label: {\n        meta: {\n            defaults: __assign({}, labelDefaults)\n        }\n    }\n};\nvar axisMappings = {\n    line: {\n        meta: {\n            defaults: {\n                width: 1,\n                color: 'rgba(195, 195, 195, 1)'\n            }\n        }\n    },\n    title: {\n        meta: {\n            constructor: Caption,\n            defaults: {\n                enabled: true,\n                padding: new Padding(10),\n                text: 'Axis Title',\n                fontStyle: undefined,\n                fontWeight: 'bold',\n                fontSize: 12,\n                fontFamily: 'Verdana, sans-serif',\n                color: 'rgba(70, 70, 70, 1)'\n            }\n        }\n    },\n    label: {\n        meta: {\n            constructor: AxisLabel,\n            defaults: {\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: 'Verdana, sans-serif',\n                padding: 5,\n                color: 'rgba(87, 87, 87, 1)',\n                formatter: undefined\n            }\n        }\n    },\n    tick: {\n        meta: {\n            constructor: AxisTick,\n            defaults: {\n                width: 1,\n                size: 6,\n                color: 'rgba(195, 195, 195, 1)',\n                count: 10\n            }\n        }\n    }\n};\nvar mappings = (_a = {},\n    _a[CartesianChart.type] = __assign(__assign({ meta: __assign(__assign({ constructor: CartesianChart }, chartMeta), { defaults: __assign(__assign({}, chartDefaults), { axes: [{\n                        type: CategoryAxis.type,\n                        position: 'bottom'\n                    }, {\n                        type: NumberAxis.type,\n                        position: 'left'\n                    }] }) }) }, commonChartMappings), { axes: (_b = {},\n            _b[NumberAxis.type] = __assign({ meta: __assign({ constructor: NumberAxis, setAsIs: ['gridStyle', 'visibleRange'] }, axisDefaults) }, axisMappings),\n            _b[CategoryAxis.type] = __assign({ meta: __assign({ constructor: CategoryAxis, setAsIs: ['gridStyle', 'visibleRange'] }, axisDefaults) }, axisMappings),\n            _b[TimeAxis.type] = __assign({ meta: __assign({ constructor: TimeAxis, setAsIs: ['gridStyle', 'visibleRange'] }, axisDefaults) }, axisMappings),\n            _b), series: (_c = {},\n            _c[LineSeries.type] = {\n                meta: {\n                    constructor: LineSeries,\n                    defaults: {\n                        title: undefined,\n                        xKey: '',\n                        xName: '',\n                        yKey: '',\n                        yName: '',\n                        stroke: palette.fills[0],\n                        strokeWidth: 2,\n                        fillOpacity: 1,\n                        strokeOpacity: 1,\n                        highlightStyle: {\n                            fill: 'yellow'\n                        }\n                    }\n                },\n                highlightStyle: {},\n                marker: {}\n            },\n            _c.column = __assign(__assign({ meta: {\n                    constructor: BarSeries,\n                    defaults: __assign(__assign({ flipXY: false }, seriesDefaults), columnSeriesDefaults)\n                }, highlightStyle: {} }, labelMapping), shadowMapping),\n            _c.bar = __assign(__assign({ meta: {\n                    constructor: BarSeries,\n                    defaults: __assign(__assign({ flipXY: true }, seriesDefaults), columnSeriesDefaults)\n                }, highlightStyle: {} }, labelMapping), shadowMapping),\n            _c[ScatterSeries.type] = {\n                meta: {\n                    constructor: ScatterSeries,\n                    defaults: __assign(__assign({}, seriesDefaults), { title: undefined, xKey: '', yKey: '', sizeKey: undefined, labelKey: undefined, xName: '', yName: '', sizeName: 'Size', labelName: 'Label', fill: palette.fills[0], stroke: palette.strokes[0], strokeWidth: 2, fillOpacity: 1, strokeOpacity: 1, tooltipRenderer: undefined, highlightStyle: {\n                            fill: 'yellow'\n                        } })\n                },\n                highlightStyle: {},\n                marker: {}\n            },\n            _c[AreaSeries.type] = __assign({ meta: {\n                    constructor: AreaSeries,\n                    defaults: __assign(__assign({}, seriesDefaults), { xKey: '', xName: '', yKeys: [], yNames: [], normalizedTo: undefined, fills: palette.fills, strokes: palette.strokes, fillOpacity: 1, strokeOpacity: 1, strokeWidth: 2, shadow: undefined, highlightStyle: {\n                            fill: 'yellow'\n                        } })\n                }, highlightStyle: {}, marker: {} }, shadowMapping),\n            _c[HistogramSeries.type] = {\n                meta: {\n                    constructor: HistogramSeries,\n                    defaults: __assign(__assign({}, seriesDefaults), { title: undefined, xKey: '', yKey: '', xName: '', yName: '', fill: palette.fills[0], stroke: palette.strokes[0], strokeWidth: 1, fillOpacity: 1, strokeOpacity: 1, aggregation: 'sum', tooltipRenderer: undefined, highlightStyle: {\n                            fill: 'yellow'\n                        } })\n                },\n                highlightStyle: {}\n            },\n            _c), navigator: {\n            meta: {\n                constructor: Navigator,\n                defaults: {\n                    enabled: false,\n                    height: 30,\n                    min: 0,\n                    max: 1\n                }\n            },\n            mask: {\n                meta: {\n                    constructor: NavigatorMask,\n                    defaults: {\n                        fill: '#999999',\n                        stroke: '#999999',\n                        strokeWidth: 1,\n                        fillOpacity: 0.2\n                    }\n                }\n            },\n            minHandle: {\n                meta: {\n                    constructor: NavigatorHandle,\n                    defaults: {\n                        fill: '#f2f2f2',\n                        stroke: '#999999',\n                        strokeWidth: 1,\n                        width: 8,\n                        height: 16,\n                        gripLineGap: 2,\n                        gripLineLength: 8\n                    }\n                }\n            },\n            maxHandle: {\n                meta: {\n                    constructor: NavigatorHandle,\n                    defaults: {\n                        fill: '#f2f2f2',\n                        stroke: '#999999',\n                        strokeWidth: 1,\n                        width: 8,\n                        height: 16,\n                        gripLineGap: 2,\n                        gripLineLength: 8\n                    }\n                }\n            }\n        } }),\n    _a[PolarChart.type] = __assign(__assign({ meta: __assign(__assign({ constructor: PolarChart }, chartMeta), { defaults: __assign(__assign({}, chartDefaults), { padding: new Padding(40) }) }) }, commonChartMappings), { series: (_d = {},\n            _d[PieSeries.type] = __assign({ meta: {\n                    constructor: PieSeries,\n                    defaults: __assign(__assign({}, seriesDefaults), { title: undefined, calloutColors: palette.strokes, calloutStrokeWidth: 1, calloutLength: 10, angleKey: '', angleName: '', radiusKey: undefined, radiusName: undefined, labelKey: undefined, labelName: undefined, fills: palette.fills, strokes: palette.strokes, fillOpacity: 1, strokeOpacity: 1, rotation: 0, outerRadiusOffset: 0, innerRadiusOffset: 0, strokeWidth: 1, shadow: undefined })\n                }, highlightStyle: {}, title: {\n                    meta: {\n                        constructor: Caption,\n                        defaults: {\n                            enabled: true,\n                            padding: new Padding(10),\n                            text: 'Series Title',\n                            fontStyle: undefined,\n                            fontWeight: 'bold',\n                            fontSize: 14,\n                            fontFamily: 'Verdana, sans-serif',\n                            color: 'black'\n                        }\n                    }\n                }, label: {\n                    meta: {\n                        defaults: __assign(__assign({}, labelDefaults), { offset: 3, minAngle: 20 })\n                    }\n                }, callout: {\n                    meta: {\n                        defaults: {\n                            colors: palette.strokes,\n                            length: 10,\n                            strokeWidth: 1\n                        }\n                    }\n                } }, shadowMapping),\n            _d) }),\n    _a);\n// Amend the `mappings` object with aliases for different chart types.\n{\n    var typeToAliases = {\n        cartesian: ['line', 'area', 'bar', 'column'],\n        polar: ['pie']\n    };\n    var _loop_1 = function (type) {\n        typeToAliases[type].forEach(function (alias) {\n            mappings[alias] = mappings[type];\n        });\n    };\n    for (var type in typeToAliases) {\n        _loop_1(type);\n    }\n}\n// Special handling for scatter and histogram charts, for which both axes should default to type `number`.\nmappings['scatter'] =\n    mappings['histogram'] = __assign(__assign({}, mappings.cartesian), { meta: __assign(__assign({}, mappings.cartesian.meta), { defaults: __assign(__assign({}, chartDefaults), { axes: [{\n                        type: 'number',\n                        position: 'bottom'\n                    }, {\n                        type: 'number',\n                        position: 'left'\n                    }] }) }) });\nexport default mappings;\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { find } from \"../util/array\";\nimport mappings from './chartMappings';\nvar AgChart = /** @class */ (function () {\n    function AgChart() {\n    }\n    AgChart.create = function (options, container, data) {\n        options = Object.create(options); // avoid mutating user provided options\n        if (container) {\n            options.container = container;\n        }\n        if (data) {\n            options.data = data;\n        }\n        // special handling when both `autoSize` and `width` / `height` are present in the options\n        var autoSize = options && options.autoSize;\n        var chart = create(options);\n        if (chart && autoSize) { // `autoSize` takes precedence over `width` / `height`\n            chart.autoSize = true;\n        }\n        // console.log(JSON.stringify(flattenObject(options), null, 4));\n        return chart;\n    };\n    AgChart.update = function (chart, options) {\n        var autoSize = options && options.autoSize;\n        update(chart, Object.create(options));\n        if (chart && autoSize) {\n            chart.autoSize = true;\n        }\n    };\n    return AgChart;\n}());\nexport { AgChart };\nvar pathToSeriesTypeMap = {\n    'cartesian.series': 'line',\n    'line.series': 'line',\n    'area.series': 'area',\n    'bar.series': 'bar',\n    'column.series': 'column',\n    'scatter.series': 'scatter',\n    'polar.series': 'pie',\n    'pie.series': 'pie'\n};\nfunction provideDefaultType(options, path) {\n    if (!path) { // if `path` is undefined, `options` is a top-level (chart) config\n        provideDefaultChartType(options);\n    }\n    if (!options.type) {\n        var seriesType = pathToSeriesTypeMap[path];\n        if (seriesType) {\n            options.type = seriesType;\n        }\n    }\n}\nfunction getMapping(path) {\n    var parts = path.split('.');\n    var value = mappings;\n    parts.forEach(function (part) {\n        value = value[part];\n    });\n    return value;\n}\nfunction create(options, path, component) {\n    var _a;\n    provideDefaultType(options, path);\n    if (path) {\n        if (options.type) {\n            path = path + '.' + options.type;\n        }\n    }\n    else {\n        path = options.type;\n    }\n    var mapping = getMapping(path);\n    if (mapping) {\n        provideDefaultOptions(options, mapping);\n        var meta = mapping.meta || {};\n        var constructorParams = meta.constructorParams || [];\n        var skipKeys = ['type', 'listeners'].concat(constructorParams);\n        // TODO: Constructor params processing could be improved, but it's good enough for current params.\n        var constructorParamValues = constructorParams\n            .map(function (param) { return options[param]; })\n            .filter(function (value) { return value !== undefined; });\n        component = component || new ((_a = meta.constructor).bind.apply(_a, __spreadArrays([void 0], constructorParamValues)))();\n        var _loop_1 = function (key) {\n            // Process every non-special key in the config object.\n            if (skipKeys.indexOf(key) < 0) {\n                var value = options[key];\n                if (value && key in mapping && !(meta.setAsIs && meta.setAsIs.indexOf(key) >= 0)) {\n                    if (Array.isArray(value)) {\n                        var subComponents = value.map(function (config) { return create(config, path + '.' + key); }).filter(function (config) { return !!config; });\n                        component[key] = subComponents;\n                    }\n                    else {\n                        if (mapping[key] && component[key]) {\n                            // The instance property already exists on the component (e.g. chart.legend).\n                            // Simply configure the existing instance, without creating a new one.\n                            create(value, path + '.' + key, component[key]);\n                        }\n                        else {\n                            var subComponent = create(value, value.type ? path : path + '.' + key);\n                            if (subComponent) {\n                                component[key] = subComponent;\n                            }\n                        }\n                    }\n                }\n                else { // if (key in meta.constructor.defaults) { // prevent users from creating custom properties\n                    component[key] = value;\n                }\n            }\n        };\n        for (var key in options) {\n            _loop_1(key);\n        }\n        var listeners = options.listeners;\n        if (component && component.addEventListener && listeners) {\n            for (var key in listeners) {\n                if (listeners.hasOwnProperty(key)) {\n                    var listener = listeners[key];\n                    if (typeof listener === 'function') {\n                        component.addEventListener(key, listener);\n                    }\n                }\n            }\n        }\n        return component;\n    }\n}\nfunction update(component, options, path) {\n    if (!(options && typeof options === 'object')) {\n        return;\n    }\n    provideDefaultType(options, path);\n    if (path) {\n        if (options.type) {\n            path = path + '.' + options.type;\n        }\n    }\n    else {\n        path = options.type;\n    }\n    var mapping = getMapping(path);\n    if (mapping) {\n        provideDefaultOptions(options, mapping);\n        var meta = mapping.meta || {};\n        var constructorParams = meta && meta.constructorParams || [];\n        var skipKeys = ['type'].concat(constructorParams);\n        for (var key in options) {\n            if (skipKeys.indexOf(key) < 0) {\n                var value = options[key];\n                var keyPath = path + '.' + key;\n                if (meta.setAsIs && meta.setAsIs.indexOf(key) >= 0) {\n                    component[key] = value;\n                }\n                else {\n                    var oldValue = component[key];\n                    if (Array.isArray(oldValue) && Array.isArray(value)) {\n                        if (path in mappings) { // component is a chart\n                            if (key === 'series') {\n                                var chart = component;\n                                var configs = value;\n                                var allSeries = oldValue;\n                                var prevSeries = void 0;\n                                var i = 0;\n                                for (; i < configs.length; i++) {\n                                    var config = configs[i];\n                                    var series = allSeries[i];\n                                    if (series) {\n                                        provideDefaultType(config, keyPath);\n                                        if (series.type === config.type) {\n                                            update(series, config, keyPath);\n                                        }\n                                        else {\n                                            var newSeries = create(config, keyPath);\n                                            chart.removeSeries(series);\n                                            chart.addSeriesAfter(newSeries, prevSeries);\n                                            series = newSeries;\n                                        }\n                                    }\n                                    else { // more new configs than existing series\n                                        var newSeries = create(config, keyPath);\n                                        chart.addSeries(newSeries);\n                                    }\n                                    prevSeries = series;\n                                }\n                                // more existing series than new configs\n                                for (; i < allSeries.length; i++) {\n                                    var series = allSeries[i];\n                                    if (series) {\n                                        chart.removeSeries(series);\n                                    }\n                                }\n                            }\n                            else if (key === 'axes') {\n                                var chart = component;\n                                var configs = value;\n                                var axes = oldValue;\n                                var axesToAdd = [];\n                                var axesToUpdate = [];\n                                var _loop_2 = function (config) {\n                                    var axisToUpdate = find(axes, function (axis) {\n                                        return axis.type === config.type && axis.position === config.position;\n                                    });\n                                    if (axisToUpdate) {\n                                        axesToUpdate.push(axisToUpdate);\n                                        update(axisToUpdate, config, keyPath);\n                                    }\n                                    else {\n                                        var axisToAdd = create(config, keyPath);\n                                        if (axisToAdd) {\n                                            axesToAdd.push(axisToAdd);\n                                        }\n                                    }\n                                };\n                                for (var _i = 0, configs_1 = configs; _i < configs_1.length; _i++) {\n                                    var config = configs_1[_i];\n                                    _loop_2(config);\n                                }\n                                chart.axes = axesToUpdate.concat(axesToAdd);\n                            }\n                        }\n                        else {\n                            component[key] = value;\n                        }\n                    }\n                    else if (typeof oldValue === 'object') {\n                        if (value) {\n                            update(oldValue, value, value.type ? path : keyPath);\n                        }\n                        else if (key in options) {\n                            component[key] = value;\n                        }\n                    }\n                    else {\n                        var subComponent = isObject(value) && create(value, value.type ? path : keyPath);\n                        if (subComponent) {\n                            component[key] = subComponent;\n                        }\n                        else {\n                            component[key] = value;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    if (path in mappings) { // top-level component (chart)\n        component.performLayout();\n    }\n}\nfunction provideDefaultChartType(options) {\n    // If chart type is not specified, try to infer it from the type of first series.\n    if (!options.type) {\n        var series = options.series && options.series[0];\n        if (series && series.type) {\n            outerLoop: for (var chartType in mappings) {\n                for (var seriesType in mappings[chartType].series) {\n                    if (series.type === seriesType) {\n                        options.type = chartType;\n                        break outerLoop;\n                    }\n                }\n            }\n        }\n        if (!options.type) {\n            options.type = 'cartesian';\n        }\n    }\n}\n/**\n * If certain options were not provided by the user, use the defaults from the mapping.\n * @param options\n * @param mapping\n */\nfunction provideDefaultOptions(options, mapping) {\n    var defaults = mapping && mapping.meta && mapping.meta.defaults;\n    if (defaults) {\n        for (var key in defaults) {\n            if (!(key in options)) {\n                options[key] = defaults[key];\n            }\n        }\n    }\n}\nfunction isObject(value) {\n    return typeof value === 'object' && !Array.isArray(value);\n}\n","export * from \"./caption\";\nexport * from \"./chart/axis/categoryAxis\";\nexport * from \"./chart/axis/groupedCategoryAxis\";\nexport * from \"./chart/cartesianChart\";\nexport * from \"./chart/chart\";\nexport * from \"./chart/chartAxis\";\nexport * from \"./chart/groupedCategoryChart\";\nexport * from \"./chart/palettes\";\nexport * from \"./chart/polarChart\";\nexport * from \"./chart/marker/marker\";\nexport * from \"./chart/series/cartesian/areaSeries\";\nexport * from \"./chart/series/cartesian/barSeries\";\nexport * from \"./chart/series/cartesian/lineSeries\";\nexport * from \"./chart/series/cartesian/scatterSeries\";\nexport * from \"./chart/series/cartesian/histogramSeries\";\nexport * from \"./chart/series/polar/pieSeries\";\nexport * from \"./chartBuilder\";\nexport * from \"./chartOptions\";\nexport * from \"./scale/bandScale\";\nexport * from \"./scale/linearScale\";\nexport { default as linearScale } from \"./scale/linearScale\";\nexport * from \"./scene/clipRect\";\nexport * from \"./scene/dropShadow\";\nexport * from \"./scene/group\";\nexport * from \"./scene/scene\";\nexport * from \"./scene/shape/arc\";\nexport * from \"./scene/shape/line\";\nexport * from \"./scene/shape/path\";\nexport * from \"./scene/shape/rect\";\nexport * from \"./scene/shape/sector\";\nexport * from \"./scene/shape/shape\";\nexport * from \"./util/angle\";\nexport * from \"./util/array\";\nexport * from \"./util/padding\";\nimport { millisecond } from \"./util/time/millisecond\";\nimport { second } from \"./util/time/second\";\nimport { minute } from \"./util/time/minute\";\nimport { hour } from \"./util/time/hour\";\nimport { day } from \"./util/time/day\";\nimport { sunday, monday, tuesday, wednesday, thursday, friday, saturday } from \"./util/time/week\";\nimport { month } from \"./util/time/month\";\nimport { year } from \"./util/time/year\";\nimport { utcMinute } from \"./util/time/utcMinute\";\nimport { utcHour } from \"./util/time/utcHour\";\nimport { utcDay } from \"./util/time/utcDay\";\nimport { utcMonth } from \"./util/time/utcMonth\";\nimport { utcYear } from \"./util/time/utcYear\";\nexport var time = {\n    millisecond: millisecond,\n    second: second,\n    minute: minute,\n    hour: hour,\n    day: day,\n    sunday: sunday, monday: monday, tuesday: tuesday, wednesday: wednesday, thursday: thursday, friday: friday, saturday: saturday,\n    month: month,\n    year: year,\n    utcMinute: utcMinute,\n    utcHour: utcHour,\n    utcDay: utcDay,\n    utcMonth: utcMonth,\n    utcYear: utcYear\n};\nexport * from \"./chart/agChart\";\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Vue } from 'vue-property-decorator';\nimport { AgChart } from 'ag-charts-community';\nvar AgChartsVue = /** @class */ (function (_super) {\n    __extends(AgChartsVue, _super);\n    function AgChartsVue() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isCreated = false;\n        _this.isDestroyed = false;\n        return _this;\n    }\n    AgChartsVue.prototype.render = function (h) {\n        return h('div', { style: { height: '100%' } });\n    };\n    AgChartsVue.prototype.mounted = function () {\n        var _this = this;\n        var options = this.applyContainerIfNotSet(this.options);\n        this.chart = AgChart.create(options);\n        this.$watch('options', function (newValue, oldValue) {\n            _this.processChanges(newValue, oldValue);\n        });\n        this.isCreated = true;\n    };\n    AgChartsVue.prototype.destroyed = function () {\n        if (this.isCreated) {\n            if (this.chart) {\n                this.chart.destroy();\n            }\n            this.isDestroyed = true;\n        }\n    };\n    AgChartsVue.prototype.processChanges = function (currentValue, previousValue) {\n        if (this.isCreated) {\n            AgChart.update(this.chart, this.applyContainerIfNotSet(this.options));\n        }\n    };\n    AgChartsVue.prototype.applyContainerIfNotSet = function (propsOptions) {\n        if (propsOptions.container) {\n            return propsOptions;\n        }\n        return __assign(__assign({}, propsOptions), { container: this.$el });\n    };\n    AgChartsVue = __decorate([\n        Component({\n            props: {\n                options: {},\n            },\n        })\n    ], AgChartsVue);\n    return AgChartsVue;\n}(Vue));\nexport { AgChartsVue };\n"],"sourceRoot":""}